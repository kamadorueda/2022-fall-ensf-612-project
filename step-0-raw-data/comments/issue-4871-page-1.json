[
  {
    "author_association": "MEMBER",
    "body": "> Fix is to default to using redirected output if reading the screen buffer is not supported.\r\n\r\n@SteveL-MSFT Could you please explain a little why redirecting the output/error would support transcribing in case that screen scraping is not supported? (just curious how it's done in that case)",
    "created_at": "2017-09-20T22:06:41Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/4871#issuecomment-330994601",
    "id": 330994601,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4871",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDk5NDYwMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/330994601/reactions"
    },
    "updated_at": "2017-09-20T22:06:41Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/330994601",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/127450?v=4",
      "events_url": "https://api.github.com/users/daxian-dbw/events{/privacy}",
      "followers_url": "https://api.github.com/users/daxian-dbw/followers",
      "following_url": "https://api.github.com/users/daxian-dbw/following{/other_user}",
      "gists_url": "https://api.github.com/users/daxian-dbw/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/daxian-dbw",
      "id": 127450,
      "login": "daxian-dbw",
      "node_id": "MDQ6VXNlcjEyNzQ1MA==",
      "organizations_url": "https://api.github.com/users/daxian-dbw/orgs",
      "received_events_url": "https://api.github.com/users/daxian-dbw/received_events",
      "repos_url": "https://api.github.com/users/daxian-dbw/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/daxian-dbw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daxian-dbw/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/daxian-dbw"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@daxian-dbw from what I can tell in the code, anything that gets redirected gets transcribed anyways",
    "created_at": "2017-09-21T00:13:21Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/4871#issuecomment-331015288",
    "id": 331015288,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4871",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTAxNTI4OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/331015288/reactions"
    },
    "updated_at": "2017-09-21T00:13:21Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/331015288",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@anmenaga Can you please take a look again?",
    "created_at": "2017-09-25T23:25:45Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/4871#issuecomment-332041878",
    "id": 332041878,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4871",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjA0MTg3OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/332041878/reactions"
    },
    "updated_at": "2017-09-25T23:25:45Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/332041878",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/127450?v=4",
      "events_url": "https://api.github.com/users/daxian-dbw/events{/privacy}",
      "followers_url": "https://api.github.com/users/daxian-dbw/followers",
      "following_url": "https://api.github.com/users/daxian-dbw/following{/other_user}",
      "gists_url": "https://api.github.com/users/daxian-dbw/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/daxian-dbw",
      "id": 127450,
      "login": "daxian-dbw",
      "node_id": "MDQ6VXNlcjEyNzQ1MA==",
      "organizations_url": "https://api.github.com/users/daxian-dbw/orgs",
      "received_events_url": "https://api.github.com/users/daxian-dbw/received_events",
      "repos_url": "https://api.github.com/users/daxian-dbw/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/daxian-dbw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daxian-dbw/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/daxian-dbw"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@markekraus the test failures are indicating the WebListener didn't start within the timeout.  Is this something you're familiar with?",
    "created_at": "2017-09-26T19:45:57Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/4871#issuecomment-332313837",
    "id": 332313837,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4871",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjMxMzgzNw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/332313837/reactions"
    },
    "updated_at": "2017-09-26T19:45:57Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/332313837",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@SteveL-MSFT News to me. I will take a look.",
    "created_at": "2017-09-26T19:54:07Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/4871#issuecomment-332315982",
    "id": 332315982,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4871",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjMxNTk4Mg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/332315982/reactions"
    },
    "updated_at": "2017-09-26T19:54:07Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/332315982",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6509955?v=4",
      "events_url": "https://api.github.com/users/markekraus/events{/privacy}",
      "followers_url": "https://api.github.com/users/markekraus/followers",
      "following_url": "https://api.github.com/users/markekraus/following{/other_user}",
      "gists_url": "https://api.github.com/users/markekraus/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/markekraus",
      "id": 6509955,
      "login": "markekraus",
      "node_id": "MDQ6VXNlcjY1MDk5NTU=",
      "organizations_url": "https://api.github.com/users/markekraus/orgs",
      "received_events_url": "https://api.github.com/users/markekraus/received_events",
      "repos_url": "https://api.github.com/users/markekraus/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/markekraus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markekraus/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/markekraus"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@SteveL-MSFT This appears to be related to the change in this PR. It looks native execution inside a job is broken. WebListener runs `dotnet WebListener.dll` in a `Start-Job` block. From your PR I can manually run the WebListener outside of a job in PowerShell. But inside a job it fails. But it's not limited to WebListener:\r\n\r\n```poweshell\r\n$Job = Start-Job {cmd.exe /c echo \"test\" }\r\n$Job | Wait-Job | fl * -force\r\n\r\n$Job.ChildJobs[0].Output\r\n```\r\n\r\nexpected behavior (working in beta.7):\r\n```none\r\nState         : Completed\r\nHasMoreData   : True\r\nStatusMessage :\r\nLocation      : localhost\r\nCommand       : cmd.exe /c echo \"test\"\r\nJobStateInfo  : Completed\r\nFinished      : System.Threading.ManualResetEvent\r\nInstanceId    : 7d654dd9-ba42-48f0-be72-9e91863e7286\r\nId            : 1\r\nName          : Job1\r\nChildJobs     : {Job2}\r\nPSBeginTime   : 9/26/2017 3:41:02 PM\r\nPSEndTime     : 9/26/2017 3:41:02 PM\r\nPSJobTypeName : BackgroundJob\r\nOutput        : {}\r\nError         : {}\r\nProgress      : {}\r\nVerbose       : {}\r\nDebug         : {}\r\nWarning       : {}\r\nInformation   : {}\r\n\r\ntest\r\n```\r\n\r\nActual behavior:\r\n```none\r\nState         : Failed\r\nHasMoreData   : False\r\nStatusMessage :\r\nLocation      : localhost\r\nCommand       : cmd.exe /c echo \"test\"\r\nJobStateInfo  : Failed\r\nFinished      : System.Threading.ManualResetEvent\r\nInstanceId    : 58c30632-c4a1-41e3-b276-5aa9b24db3b0\r\nId            : 3\r\nName          : Job3\r\nChildJobs     : {Job4}\r\nPSBeginTime   : 9/26/2017 3:42:41 PM\r\nPSEndTime     : 9/26/2017 3:42:42 PM\r\nPSJobTypeName : BackgroundJob\r\nOutput        : {}\r\nError         : {}\r\nProgress      : {}\r\nVerbose       : {}\r\nDebug         : {}\r\nWarning       : {}\r\nInformation   : {}\r\n\r\n\r\n```",
    "created_at": "2017-09-26T20:46:30Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/4871#issuecomment-332330473",
    "id": 332330473,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4871",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjMzMDQ3Mw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/332330473/reactions"
    },
    "updated_at": "2017-09-26T20:56:51Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/332330473",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6509955?v=4",
      "events_url": "https://api.github.com/users/markekraus/events{/privacy}",
      "followers_url": "https://api.github.com/users/markekraus/followers",
      "following_url": "https://api.github.com/users/markekraus/following{/other_user}",
      "gists_url": "https://api.github.com/users/markekraus/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/markekraus",
      "id": 6509955,
      "login": "markekraus",
      "node_id": "MDQ6VXNlcjY1MDk5NTU=",
      "organizations_url": "https://api.github.com/users/markekraus/orgs",
      "received_events_url": "https://api.github.com/users/markekraus/received_events",
      "repos_url": "https://api.github.com/users/markekraus/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/markekraus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markekraus/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/markekraus"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@markekraus thanks!  I'll take a look.\r\n\r\nThe problem is that when run as a job obviously there's no console, so some of the console calls even on Windows throws other exceptions (and it's not just the Host.HostException from the old code) when the code is checking if screen scraping is supported.  Added a test to test start-job with native command to cover this.\r\n\r\n@daxian-dbw @anmenaga can you take another look?",
    "created_at": "2017-09-26T20:50:16Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/4871#issuecomment-332331501",
    "id": 332331501,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4871",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjMzMTUwMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/332331501/reactions"
    },
    "updated_at": "2017-09-26T23:29:58Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/332331501",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  }
]
