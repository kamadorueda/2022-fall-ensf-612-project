[
  {
    "author_association": "COLLABORATOR",
    "body": "I believe this is because the PSGallery has been experiencing issues. See [here](https://github.com/PowerShell/PowerShellGallery/blob/master/psgallery_status.md#powershell-gallery-status) for details.",
    "created_at": "2020-10-08T18:51:30Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13761#issuecomment-705757885",
    "id": 705757885,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13761",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNTc1Nzg4NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/705757885/reactions"
    },
    "updated_at": "2020-10-08T18:51:30Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/705757885",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7009879?v=4",
      "events_url": "https://api.github.com/users/rjmholt/events{/privacy}",
      "followers_url": "https://api.github.com/users/rjmholt/followers",
      "following_url": "https://api.github.com/users/rjmholt/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjmholt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rjmholt",
      "id": 7009879,
      "login": "rjmholt",
      "node_id": "MDQ6VXNlcjcwMDk4Nzk=",
      "organizations_url": "https://api.github.com/users/rjmholt/orgs",
      "received_events_url": "https://api.github.com/users/rjmholt/received_events",
      "repos_url": "https://api.github.com/users/rjmholt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rjmholt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjmholt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rjmholt"
    }
  },
  {
    "author_association": "NONE",
    "body": "> I believe this is because the PSGallery has been experiencing issues. See [here](https://github.com/PowerShell/PowerShellGallery/blob/master/psgallery_status.md#powershell-gallery-status) for details.\r\n\r\nI thought it's not related, because I can install in old PowerShell but not in PowerShell 7.\r\n\r\nFurthermore, I tried `Invoke-WebRequest` with the failed download:\r\n```powershell\r\n> Invoke-WebRequest https://www.powershellgallery.com/api/v2/package/posh-git/0.7.3\r\nInvoke-WebRequest: Cannot determine the frame size or a corrupted frame was received.\r\n\r\n> Invoke-WebRequest https://www.powershellgallery.com/api/v2/package/posh-git/0.7.3 -SslProtocol Tls12\r\n\r\nStatusCode        : 200\r\nStatusDescription : OK\r\nContent           : {80, 75, 3, 4…}\r\nRawContent        : HTTP/1.1 200 OK\r\n                    Accept-Ranges: bytes\r\n                    Age: 498386\r\n                    Date: Fri, 09 Oct 2020 07:01:17 GMT\r\n                    ETag: 0x8D5A6778BB0C310\r\n                    Server: ECAcc\r\n                    Server: (frc/8F2E)\r\n                    X-Cache: HIT\r\n                    x-ms-blob-type: BlockBlob\r\n                    x-ms-lease…\r\nHeaders           : {[Accept-Ranges, System.String[]], [Age, System.String[]], [Date, System.String[]], [ETag, System.S\r\n                    tring[]]…}\r\nRawContentLength  : 32862\r\nRelationLink      : {}\r\n```\r\n\r\nI googled it and the normal way to resolve this is to set `[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12` but not worked for me.",
    "created_at": "2020-10-09T07:02:39Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13761#issuecomment-706009864",
    "id": 706009864,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13761",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjAwOTg2NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/706009864/reactions"
    },
    "updated_at": "2020-10-09T07:02:39Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/706009864",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/9821322?v=4",
      "events_url": "https://api.github.com/users/dnaroma/events{/privacy}",
      "followers_url": "https://api.github.com/users/dnaroma/followers",
      "following_url": "https://api.github.com/users/dnaroma/following{/other_user}",
      "gists_url": "https://api.github.com/users/dnaroma/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/dnaroma",
      "id": 9821322,
      "login": "dnaroma",
      "node_id": "MDQ6VXNlcjk4MjEzMjI=",
      "organizations_url": "https://api.github.com/users/dnaroma/orgs",
      "received_events_url": "https://api.github.com/users/dnaroma/received_events",
      "repos_url": "https://api.github.com/users/dnaroma/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/dnaroma/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dnaroma/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/dnaroma"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Hmmm, ok. What version of PowerShellGet are you using? `(gcm Install-Module).Module`",
    "created_at": "2020-10-09T17:29:42Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13761#issuecomment-706309582",
    "id": 706309582,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13761",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjMwOTU4Mg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/706309582/reactions"
    },
    "updated_at": "2020-10-09T17:29:42Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/706309582",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7009879?v=4",
      "events_url": "https://api.github.com/users/rjmholt/events{/privacy}",
      "followers_url": "https://api.github.com/users/rjmholt/followers",
      "following_url": "https://api.github.com/users/rjmholt/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjmholt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rjmholt",
      "id": 7009879,
      "login": "rjmholt",
      "node_id": "MDQ6VXNlcjcwMDk4Nzk=",
      "organizations_url": "https://api.github.com/users/rjmholt/orgs",
      "received_events_url": "https://api.github.com/users/rjmholt/received_events",
      "repos_url": "https://api.github.com/users/rjmholt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rjmholt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjmholt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rjmholt"
    }
  },
  {
    "author_association": "NONE",
    "body": "> Hmmm, ok. What version of PowerShellGet are you using? `(gcm Install-Module).Module`\r\n\r\n```powershell\r\n>  (gcm Install-Module).Module\r\n\r\nModuleType Version    PreRelease Name                                ExportedCommands\r\n---------- -------    ---------- ----                                ----------------\r\nScript     2.2.4.1               PowerShellGet                       {Find-Command, Find-DscResource, Find-Module, Find-RoleCapability…}\r\n```",
    "created_at": "2020-10-09T18:40:15Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13761#issuecomment-706342666",
    "id": 706342666,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13761",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjM0MjY2Ng==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/706342666/reactions"
    },
    "updated_at": "2020-10-09T18:40:36Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/706342666",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/9821322?v=4",
      "events_url": "https://api.github.com/users/dnaroma/events{/privacy}",
      "followers_url": "https://api.github.com/users/dnaroma/followers",
      "following_url": "https://api.github.com/users/dnaroma/following{/other_user}",
      "gists_url": "https://api.github.com/users/dnaroma/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/dnaroma",
      "id": 9821322,
      "login": "dnaroma",
      "node_id": "MDQ6VXNlcjk4MjEzMjI=",
      "organizations_url": "https://api.github.com/users/dnaroma/orgs",
      "received_events_url": "https://api.github.com/users/dnaroma/received_events",
      "repos_url": "https://api.github.com/users/dnaroma/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/dnaroma/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dnaroma/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/dnaroma"
    }
  },
  {
    "author_association": "NONE",
    "body": "Did you try both non-persistent settings?\r\n\r\n[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12\r\n\r\nwith\r\n\r\n$env:DOTNET_SYSTEM_NET_HTTP_USESOCKETSHTTPHANDLER=0 ",
    "created_at": "2020-10-13T20:52:38Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13761#issuecomment-708002527",
    "id": 708002527,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13761",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwODAwMjUyNw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/708002527/reactions"
    },
    "updated_at": "2020-10-13T21:00:55Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/708002527",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/14890243?v=4",
      "events_url": "https://api.github.com/users/dcasota/events{/privacy}",
      "followers_url": "https://api.github.com/users/dcasota/followers",
      "following_url": "https://api.github.com/users/dcasota/following{/other_user}",
      "gists_url": "https://api.github.com/users/dcasota/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/dcasota",
      "id": 14890243,
      "login": "dcasota",
      "node_id": "MDQ6VXNlcjE0ODkwMjQz",
      "organizations_url": "https://api.github.com/users/dcasota/orgs",
      "received_events_url": "https://api.github.com/users/dcasota/received_events",
      "repos_url": "https://api.github.com/users/dcasota/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/dcasota/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dcasota/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/dcasota"
    }
  },
  {
    "author_association": "NONE",
    "body": "> Did you try both non-persistent settings?\r\n> \r\n> [Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12\r\n> \r\n> with\r\n> \r\n> $env:DOTNET_SYSTEM_NET_HTTP_USESOCKETSHTTPHANDLER=0\r\n\r\nIt works! Thanks @dcasota\r\nBut why only non-persistent setting works and how do I persist it?",
    "created_at": "2020-10-14T08:17:54Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13761#issuecomment-708241170",
    "id": 708241170,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13761",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwODI0MTE3MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/708241170/reactions"
    },
    "updated_at": "2020-10-14T08:17:54Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/708241170",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/9821322?v=4",
      "events_url": "https://api.github.com/users/dnaroma/events{/privacy}",
      "followers_url": "https://api.github.com/users/dnaroma/followers",
      "following_url": "https://api.github.com/users/dnaroma/following{/other_user}",
      "gists_url": "https://api.github.com/users/dnaroma/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/dnaroma",
      "id": 9821322,
      "login": "dnaroma",
      "node_id": "MDQ6VXNlcjk4MjEzMjI=",
      "organizations_url": "https://api.github.com/users/dnaroma/orgs",
      "received_events_url": "https://api.github.com/users/dnaroma/received_events",
      "repos_url": "https://api.github.com/users/dnaroma/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/dnaroma/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dnaroma/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/dnaroma"
    }
  },
  {
    "author_association": "NONE",
    "body": "@dnaroma welcome :-)\r\n\r\nYou could make the workaround persistent by saving them in $profile. Each time pwsh is started the saved profile with the workarounds is loaded.\r\nC:\\Users\\username\\Documents\\WindowsPowerShell\\Microsoft.PowerShell_profile.ps1\r\n\r\nThe source snippets are from:\r\nhttps://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_profiles?view=powershell-5.1&redirectedfrom=MSDN\r\nShow variables of $PROFILE:\r\n$PROFILE | Get-Member -Type NoteProperty\r\n\r\nWorkaround 1:\r\nhttps://github.com/PowerShell/PowerShellGet/issues/447#issuecomment-476968923\r\nChange to TLS1.2\r\n[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12\r\n\r\nWorkaround #2\r\nPowerShell/PowerShell#9495 (comment)\r\n$env:DOTNET_SYSTEM_NET_HTTP_USESOCKETSHTTPHANDLER=0\n\n<blockquote><img src=\"https://github.githubassets.com/images/modules/open_graph/github-logo.png\" width=\"48\" align=\"right\"><div><img src=\"https://github.githubassets.com/favicons/favicon.svg\" height=\"14\"> GitHub</div><div><strong><a href=\"https://github.com\">Build software better, together</a></strong></div><div>GitHub is where people build software. More than 50 million people use GitHub to discover, fork, and contribute to over 100 million projects.</div></blockquote>",
    "created_at": "2020-10-14T09:28:08Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13761#issuecomment-708280345",
    "id": 708280345,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13761",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwODI4MDM0NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/708280345/reactions"
    },
    "updated_at": "2020-10-14T09:28:11Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/708280345",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/14890243?v=4",
      "events_url": "https://api.github.com/users/dcasota/events{/privacy}",
      "followers_url": "https://api.github.com/users/dcasota/followers",
      "following_url": "https://api.github.com/users/dcasota/following{/other_user}",
      "gists_url": "https://api.github.com/users/dcasota/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/dcasota",
      "id": 14890243,
      "login": "dcasota",
      "node_id": "MDQ6VXNlcjE0ODkwMjQz",
      "organizations_url": "https://api.github.com/users/dcasota/orgs",
      "received_events_url": "https://api.github.com/users/dcasota/received_events",
      "repos_url": "https://api.github.com/users/dcasota/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/dcasota/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dcasota/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/dcasota"
    }
  },
  {
    "author_association": "NONE",
    "body": "Thanks to the solution of @dcasota , now I can close this issue.",
    "created_at": "2020-10-14T09:43:22Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13761#issuecomment-708288588",
    "id": 708288588,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13761",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwODI4ODU4OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/708288588/reactions"
    },
    "updated_at": "2020-10-14T09:43:22Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/708288588",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/9821322?v=4",
      "events_url": "https://api.github.com/users/dnaroma/events{/privacy}",
      "followers_url": "https://api.github.com/users/dnaroma/followers",
      "following_url": "https://api.github.com/users/dnaroma/following{/other_user}",
      "gists_url": "https://api.github.com/users/dnaroma/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/dnaroma",
      "id": 9821322,
      "login": "dnaroma",
      "node_id": "MDQ6VXNlcjk4MjEzMjI=",
      "organizations_url": "https://api.github.com/users/dnaroma/orgs",
      "received_events_url": "https://api.github.com/users/dnaroma/received_events",
      "repos_url": "https://api.github.com/users/dnaroma/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/dnaroma/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dnaroma/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/dnaroma"
    }
  }
]
