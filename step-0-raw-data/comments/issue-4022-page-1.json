[
  {
    "author_association": "CONTRIBUTOR",
    "body": "Here is the model I have in my head.\r\n\r\n\"Cmdlets which have side effects\" should implement -WHATIF.\r\nGet-* should not have side effects and therefor should not implement -WHATIF\r\nFrom there:\r\n1) If a cmdlet has a side effect and doesn't implement -WHATIF, file a bug on that cmdlet.\r\n2) If a cmdlet has -WHATIF and doesn't implement it, file a bug on that cmdlet.\r\n\r\n\r\nFrom there I didn't follow your point about what the guessing game was.",
    "created_at": "2017-06-16T12:53:52Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/4022#issuecomment-309018730",
    "id": 309018730,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4022",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTAxODczMA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/309018730/reactions"
    },
    "updated_at": "2017-06-16T12:53:52Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/309018730",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6188114?v=4",
      "events_url": "https://api.github.com/users/jpsnover/events{/privacy}",
      "followers_url": "https://api.github.com/users/jpsnover/followers",
      "following_url": "https://api.github.com/users/jpsnover/following{/other_user}",
      "gists_url": "https://api.github.com/users/jpsnover/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jpsnover",
      "id": 6188114,
      "login": "jpsnover",
      "node_id": "MDQ6VXNlcjYxODgxMTQ=",
      "organizations_url": "https://api.github.com/users/jpsnover/orgs",
      "received_events_url": "https://api.github.com/users/jpsnover/received_events",
      "repos_url": "https://api.github.com/users/jpsnover/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jpsnover/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jpsnover/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jpsnover"
    }
  },
  {
    "author_association": "NONE",
    "body": "Clarification please \r\n\r\n\"Cmdlets which have side effects\" , does it include all cmdlets that can change the state of system?\r\n Example, New-*, Set*,Invoke-* etc. ? \r\n\r\nOr you were refering to any specific ones will \"side effect\".",
    "created_at": "2017-06-16T14:59:13Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/4022#issuecomment-309049183",
    "id": 309049183,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4022",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTA0OTE4Mw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/309049183/reactions"
    },
    "updated_at": "2017-06-16T14:59:13Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/309049183",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/19469285?v=4",
      "events_url": "https://api.github.com/users/rahulduggal18/events{/privacy}",
      "followers_url": "https://api.github.com/users/rahulduggal18/followers",
      "following_url": "https://api.github.com/users/rahulduggal18/following{/other_user}",
      "gists_url": "https://api.github.com/users/rahulduggal18/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rahulduggal18",
      "id": 19469285,
      "login": "rahulduggal18",
      "node_id": "MDQ6VXNlcjE5NDY5Mjg1",
      "organizations_url": "https://api.github.com/users/rahulduggal18/orgs",
      "received_events_url": "https://api.github.com/users/rahulduggal18/received_events",
      "repos_url": "https://api.github.com/users/rahulduggal18/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rahulduggal18/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rahulduggal18/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rahulduggal18"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@jpsnover I think the issue is that if `-whatif` is specified explicitly, but the cmdlet doesn't implement it, we should consistently error that `-whatif` isn't implemented.  This seems reasonable to me.\r\n",
    "created_at": "2017-06-16T16:27:32Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/4022#issuecomment-309071750",
    "id": 309071750,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4022",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTA3MTc1MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 5,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 5,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/309071750/reactions"
    },
    "updated_at": "2017-06-16T16:27:32Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/309071750",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "NONE",
    "body": "The guessing game is where you use a module or cmdlet and -whatif isn't implemented, and the cmdlet runs anyway, making changes and not throwing an error. That's not the user expectation that running Get-ChildItem -whatif sets up. \r\n\r\nJoe User runs Get-ChildItem -whatif, get an error, and presumes from there that -whatif will throw an error if not implemented, making it safe to use. That presumption lives on until they run into an instance where it is *not* implemented, and they make a breaking change instead of the test they expected to run. I've done this myself and I've seen other go through this pain on a powershell support channel I assist in, and that's what's prompted this issue report.\r\n\r\nI agree with the model, but I would add that if -whatif is not implemented, powershell should throw an error consistently, across cmdlets and anything that emulates them, as it does with get-childitem, as opposed to simply running regardless.\r\n\r\n**EDIT:** After chatting this through with some other bright people, I think we discovered the point I that was bugging me:\r\n   -WhatIf (_in my view at least_) is supposed to add safety to unsafe cmdlets/functions. In it's current state, it's not doing that anywhere close to reliably. Can powershell be adjusted to look at a cmdlet/advanced function definition, check to see if whatif is defined when it's called, and error if not? I think that would solve a lot of the uncertainty, and any remaining would be owned by the individual cmdlet/function authors.",
    "created_at": "2017-06-16T16:28:00Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/4022#issuecomment-309071862",
    "id": 309071862,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4022",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTA3MTg2Mg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/309071862/reactions"
    },
    "updated_at": "2017-06-16T16:39:48Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/309071862",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/2328006?v=4",
      "events_url": "https://api.github.com/users/bobfrankly/events{/privacy}",
      "followers_url": "https://api.github.com/users/bobfrankly/followers",
      "following_url": "https://api.github.com/users/bobfrankly/following{/other_user}",
      "gists_url": "https://api.github.com/users/bobfrankly/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/bobfrankly",
      "id": 2328006,
      "login": "bobfrankly",
      "node_id": "MDQ6VXNlcjIzMjgwMDY=",
      "organizations_url": "https://api.github.com/users/bobfrankly/orgs",
      "received_events_url": "https://api.github.com/users/bobfrankly/received_events",
      "repos_url": "https://api.github.com/users/bobfrankly/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/bobfrankly/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bobfrankly/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/bobfrankly"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "I have to say I see that last one pretty frequently: people write non \"advanced\" functions, and then call them with a \"common\" parameter, not realizing that it's only _mostly_ common -- and mostly common is partly broken...",
    "created_at": "2017-06-16T23:07:52Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/4022#issuecomment-309158991",
    "id": 309158991,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4022",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTE1ODk5MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/309158991/reactions"
    },
    "updated_at": "2017-06-16T23:07:52Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/309158991",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/192942?v=4",
      "events_url": "https://api.github.com/users/Jaykul/events{/privacy}",
      "followers_url": "https://api.github.com/users/Jaykul/followers",
      "following_url": "https://api.github.com/users/Jaykul/following{/other_user}",
      "gists_url": "https://api.github.com/users/Jaykul/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/Jaykul",
      "id": 192942,
      "login": "Jaykul",
      "node_id": "MDQ6VXNlcjE5Mjk0Mg==",
      "organizations_url": "https://api.github.com/users/Jaykul/orgs",
      "received_events_url": "https://api.github.com/users/Jaykul/received_events",
      "repos_url": "https://api.github.com/users/Jaykul/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/Jaykul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Jaykul/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/Jaykul"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "> Can powershell be adjusted to look at a cmdlet/advanced function definition, check to see if whatif is defined when it's called, and error if not? \r\n\r\nI think we can check this in a parse time for scripts (we already have \"semantic checks\" step). But we should support this for binary too - now I don't know how.",
    "created_at": "2017-06-17T09:02:01Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/4022#issuecomment-309203181",
    "id": 309203181,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4022",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTIwMzE4MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/309203181/reactions"
    },
    "updated_at": "2017-06-17T09:02:01Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/309203181",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  }
]
