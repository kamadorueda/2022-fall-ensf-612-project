[
  {
    "author_association": "NONE",
    "body": "Just an FYI\r\n\r\nAll example I'm found on the internet involves more code in the DynamicParam scriptblock area. \r\n\r\nI can't find no simple sample like the one @mklement0 has provided.\r\n\r\nThere's always some complex coding in it:\r\nhttps://stackoverflow.com/questions/42318419/powershell-using-dynamic-parameters-value\r\nhttp://www.powershellmagazine.com/2014/05/29/dynamic-parameters-in-powershell/\r\n\r\nThe simplest code I found: https://community.spiceworks.com/topic/1694525-powershell-dynamic-parameters\r\n\r\nI wonder if it's an overkill. Of course, I haven't use it. \r\n:)",
    "created_at": "2018-03-19T14:23:38Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/6420#issuecomment-374229490",
    "id": 374229490,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/6420",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDIyOTQ5MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/374229490/reactions"
    },
    "updated_at": "2018-03-19T14:23:38Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/374229490",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/19892435?v=4",
      "events_url": "https://api.github.com/users/MaximoTrinidad/events{/privacy}",
      "followers_url": "https://api.github.com/users/MaximoTrinidad/followers",
      "following_url": "https://api.github.com/users/MaximoTrinidad/following{/other_user}",
      "gists_url": "https://api.github.com/users/MaximoTrinidad/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/MaximoTrinidad",
      "id": 19892435,
      "login": "MaximoTrinidad",
      "node_id": "MDQ6VXNlcjE5ODkyNDM1",
      "organizations_url": "https://api.github.com/users/MaximoTrinidad/orgs",
      "received_events_url": "https://api.github.com/users/MaximoTrinidad/received_events",
      "repos_url": "https://api.github.com/users/MaximoTrinidad/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/MaximoTrinidad/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MaximoTrinidad/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/MaximoTrinidad"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@MaximoTrinidad: \r\n\r\nHere's a relatively simple working example that defines a dynamic `-baz` parameter that uses a validate-set attribute to only accept value `1`, `2`, or `3`.\r\nAs you'll see,  the problem with `-PipelineVariable` persists; try `foo -pv var`.\r\n\r\n```powershell\r\nfunction foo {\r\n    [CmdletBinding()] # !! Required for DynamicParam {} to work properly.\r\n    param([string] $bar)\r\n    DynamicParam\r\n    {\r\n        # Create the dynamic parameter's attributes.\r\n        # -- Create a [Parameter()] attribute.\r\n        $paramAttr = [System.Management.Automation.ParameterAttribute]::new()\r\n        # Set properties such as .ParameterSetName, .Position, .ValueFromPipeline, ...\r\n        $paramAttr.Position = 1\r\n        # -- Create a [ValidateSet()] attribute with a set of permissive values.\r\n        $validateSetAttr = [System.Management.Automation.ValidateSetAttribute]::new(1, 2, 3)\r\n\r\n        # Create the dynamic parameter with its name, type, and attributes...\r\n        $dynParam1 = [System.Management.Automation.RuntimeDefinedParameter]::new('baz', [int],\r\n            ($paramAttr, $validateSetAttr)\r\n        )\r\n\r\n        # ... and add it to a RuntimeDefinedParameterDictionary to return.\r\n        $paramDict = [System.Management.Automation.RuntimeDefinedParameterDictionary]::new()\r\n        $paramDict.Add($dynParam1.Name, $dynParam1)\r\n        return $paramDict\r\n    }\r\n    end {\r\n        $bar\r\n        $baz\r\n    }\r\n}\r\n```",
    "created_at": "2018-03-19T15:22:13Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/6420#issuecomment-374250882",
    "id": 374250882,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/6420",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDI1MDg4Mg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/374250882/reactions"
    },
    "updated_at": "2018-03-19T15:22:13Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/374250882",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "NONE",
    "body": "Thanks @mklement0!  \r\n:)",
    "created_at": "2018-03-19T16:24:17Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/6420#issuecomment-374273507",
    "id": 374273507,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/6420",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDI3MzUwNw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/374273507/reactions"
    },
    "updated_at": "2018-03-19T16:24:17Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/374273507",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/19892435?v=4",
      "events_url": "https://api.github.com/users/MaximoTrinidad/events{/privacy}",
      "followers_url": "https://api.github.com/users/MaximoTrinidad/followers",
      "following_url": "https://api.github.com/users/MaximoTrinidad/following{/other_user}",
      "gists_url": "https://api.github.com/users/MaximoTrinidad/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/MaximoTrinidad",
      "id": 19892435,
      "login": "MaximoTrinidad",
      "node_id": "MDQ6VXNlcjE5ODkyNDM1",
      "organizations_url": "https://api.github.com/users/MaximoTrinidad/orgs",
      "received_events_url": "https://api.github.com/users/MaximoTrinidad/received_events",
      "repos_url": "https://api.github.com/users/MaximoTrinidad/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/MaximoTrinidad/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MaximoTrinidad/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/MaximoTrinidad"
    }
  }
]
