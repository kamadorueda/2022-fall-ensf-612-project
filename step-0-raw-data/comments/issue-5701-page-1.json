[
  {
    "author_association": "NONE",
    "body": "I'll also add that being able to do this is Extremely Crucial for working around situations where e.g. built-in powershell profiles get unfixably broken during IT deployments, which is depressingly prevalent in my office right now.",
    "created_at": "2017-12-15T19:51:28Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5701#issuecomment-352096287",
    "id": 352096287,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5701",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjA5NjI4Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/352096287/reactions"
    },
    "updated_at": "2017-12-15T19:51:28Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/352096287",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/9667758?v=4",
      "events_url": "https://api.github.com/users/zackschuster/events{/privacy}",
      "followers_url": "https://api.github.com/users/zackschuster/followers",
      "following_url": "https://api.github.com/users/zackschuster/following{/other_user}",
      "gists_url": "https://api.github.com/users/zackschuster/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/zackschuster",
      "id": 9667758,
      "login": "zackschuster",
      "node_id": "MDQ6VXNlcjk2Njc3NTg=",
      "organizations_url": "https://api.github.com/users/zackschuster/orgs",
      "received_events_url": "https://api.github.com/users/zackschuster/received_events",
      "repos_url": "https://api.github.com/users/zackschuster/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/zackschuster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zackschuster/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/zackschuster"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Right now, on Windows you have to customize the `.vscode/tasks.json` file to make it use PowerShell Core instead of the default shell - **Windows PowerShell**.  Also, the error `\\d` tells me you likely have a path in the tasks.json file where a backslash hasn't been escaped i.e. it should be `\\\\d<rest of path>`.",
    "created_at": "2017-12-15T20:53:19Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5701#issuecomment-352109177",
    "id": 352109177,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5701",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjEwOTE3Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/352109177/reactions"
    },
    "updated_at": "2017-12-15T21:19:47Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/352109177",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/5177512?v=4",
      "events_url": "https://api.github.com/users/rkeithhill/events{/privacy}",
      "followers_url": "https://api.github.com/users/rkeithhill/followers",
      "following_url": "https://api.github.com/users/rkeithhill/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkeithhill/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rkeithhill",
      "id": 5177512,
      "login": "rkeithhill",
      "node_id": "MDQ6VXNlcjUxNzc1MTI=",
      "organizations_url": "https://api.github.com/users/rkeithhill/orgs",
      "received_events_url": "https://api.github.com/users/rkeithhill/received_events",
      "repos_url": "https://api.github.com/users/rkeithhill/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rkeithhill/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkeithhill/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rkeithhill"
    }
  },
  {
    "author_association": "NONE",
    "body": "My apologies -- the `\\d` was actually `/d`. Here's the full error message:\r\n\r\n```powershell\r\n> Executing task in folder Server: dotnet build --no-restore <\r\n\r\nThe argument '/d' is not recognized as the name of a script file. Check the spelling of the name, or if a path was included, verify that the path is correct and try again.\r\nThe terminal process terminated with exit code: 64\r\n\r\nTerminal will be reused by tasks, press any key to close it.\r\n```\r\n\r\nMy `tasks.json` file is pretty simple:\r\n```json\r\n{\r\n\t\"version\": \"2.0.0\",\r\n\t\"tasks\": [\r\n\t\t{\r\n\t\t\t\"label\": \"build\",\r\n\t\t\t\"group\": \"build\",\r\n\t\t\t\"type\": \"shell\",\r\n\t\t\t\"command\": \"dotnet build --no-restore\",\r\n\t\t\t\"problemMatcher\": \"$msCompile\"\r\n\t\t}\r\n\t]\r\n}\r\n```\r\n\r\nWould you be able to point me in the right direction for how to alter `tasks.json` to use PS Core?\r\n\r\nThanks for your help :)",
    "created_at": "2017-12-15T21:23:56Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5701#issuecomment-352115273",
    "id": 352115273,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5701",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjExNTI3Mw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/352115273/reactions"
    },
    "updated_at": "2017-12-15T21:23:56Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/352115273",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/9667758?v=4",
      "events_url": "https://api.github.com/users/zackschuster/events{/privacy}",
      "followers_url": "https://api.github.com/users/zackschuster/followers",
      "following_url": "https://api.github.com/users/zackschuster/following{/other_user}",
      "gists_url": "https://api.github.com/users/zackschuster/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/zackschuster",
      "id": 9667758,
      "login": "zackschuster",
      "node_id": "MDQ6VXNlcjk2Njc3NTg=",
      "organizations_url": "https://api.github.com/users/zackschuster/orgs",
      "received_events_url": "https://api.github.com/users/zackschuster/received_events",
      "repos_url": "https://api.github.com/users/zackschuster/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/zackschuster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zackschuster/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/zackschuster"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "You could change that as a user setting I think - \r\n```\r\n  \"terminal.integrated.shell.windows\": \"C:\\\\WINDOWS\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\powershell.exe\",\r\n```\r\nBut then everyone on your team would have to make that change **unless** you put this in the workspace settings file: `.vscode\\settings.json`. \r\n\r\nIf that doesn't work, take a look at what we do for the tasks.json for the PowerShell extension for VSCode:\r\n\r\nhttps://github.com/PowerShell/vscode-powershell/blob/93bc21c8167001a5701917c21aace9af6492e587/.vscode/tasks.json#L4-L11\r\n\r\nYou would change this path to the PS Core install location `C:\\\\Program Files\\\\PowerShell\\\\6.0.0-rc.2\\\\pwsh.exe`  or perhaps you rely on pwsh.exe being in the path and specify the path as simply `pwsh.exe`.",
    "created_at": "2017-12-15T21:29:48Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5701#issuecomment-352116495",
    "id": 352116495,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5701",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjExNjQ5NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/352116495/reactions"
    },
    "updated_at": "2017-12-15T21:31:05Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/352116495",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/5177512?v=4",
      "events_url": "https://api.github.com/users/rkeithhill/events{/privacy}",
      "followers_url": "https://api.github.com/users/rkeithhill/followers",
      "following_url": "https://api.github.com/users/rkeithhill/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkeithhill/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rkeithhill",
      "id": 5177512,
      "login": "rkeithhill",
      "node_id": "MDQ6VXNlcjUxNzc1MTI=",
      "organizations_url": "https://api.github.com/users/rkeithhill/orgs",
      "received_events_url": "https://api.github.com/users/rkeithhill/received_events",
      "repos_url": "https://api.github.com/users/rkeithhill/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rkeithhill/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkeithhill/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rkeithhill"
    }
  },
  {
    "author_association": "NONE",
    "body": "I already had `terminal.integrated.shell.windows` set; that's how I was able to initially produce the issue.\r\n\r\nThough, as you say, there's a property in [the schema](https://code.visualstudio.com/docs/editor/tasks-appendix) for `tasks.json` that fixes it:\r\n\r\n```json\r\n\"options\": {\r\n  \"shell\": {\r\n\t\"executable\": \"C:/Program Files/PowerShell/pwsh.exe\",\r\n\t \"args\": [\r\n\r\n\t  ]\r\n   }\r\n}\r\n```\r\n\r\nWithout specifying any args, the error becomes:\r\n\r\n```powershell\r\n> Executing task in folder Server: dotnet build --no-restore <\r\n\r\nThe argument 'dotnet' is not recognized as the name of a script file. Check the spelling of the name, or if a path was included, verify that the path is\r\ncorrect and try again.\r\nThe terminal process terminated with exit code: 64\r\n\r\nTerminal will be reused by tasks, press any key to close it.\r\n```\r\n\r\n...which I interpret to mean the `dotnet` command is being improperly parameterized by VS Code.\r\n\r\n(Adding `\"-Command\" `to `args` (as you do for the PS extension) fixes it, which I'm guessing is related to [what you were saying here](https://github.com/Microsoft/vscode/issues/40228#issuecomment-351926387) about, um, improperly parameterized args).",
    "created_at": "2017-12-15T21:39:34Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5701#issuecomment-352118449",
    "id": 352118449,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5701",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjExODQ0OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/352118449/reactions"
    },
    "updated_at": "2017-12-15T21:48:01Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/352118449",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/9667758?v=4",
      "events_url": "https://api.github.com/users/zackschuster/events{/privacy}",
      "followers_url": "https://api.github.com/users/zackschuster/followers",
      "following_url": "https://api.github.com/users/zackschuster/following{/other_user}",
      "gists_url": "https://api.github.com/users/zackschuster/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/zackschuster",
      "id": 9667758,
      "login": "zackschuster",
      "node_id": "MDQ6VXNlcjk2Njc3NTg=",
      "organizations_url": "https://api.github.com/users/zackschuster/orgs",
      "received_events_url": "https://api.github.com/users/zackschuster/received_events",
      "repos_url": "https://api.github.com/users/zackschuster/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/zackschuster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zackschuster/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/zackschuster"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Yup, that's why we use:\r\n```\r\n\"args\": [ \"-NoProfile\", \"-ExecutionPolicy\", \"Bypass\", \"-Command\" ]\r\n```\r\nNo sense loading a profile and if someone needs to run this on a system where the execution policy hasn't been set, the above default args handle that.\r\n\r\nBTW that `group` field looks odd.  For the extension we use:\r\n```\r\n            \"group\": {\r\n                \"kind\": \"build\",\r\n                \"isDefault\": true\r\n            }\r\n```\r\nAlso, are you sure about your pwsh.exe path?  When I look in my `C:\\Program Files\\PowerShell` folder there is no pwsh.exe file there.  The exe is under a subdir named after the version e.g. `6.0.0-rc2`.",
    "created_at": "2017-12-15T21:50:45Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5701#issuecomment-352120763",
    "id": 352120763,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5701",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjEyMDc2Mw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/352120763/reactions"
    },
    "updated_at": "2017-12-15T21:50:45Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/352120763",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/5177512?v=4",
      "events_url": "https://api.github.com/users/rkeithhill/events{/privacy}",
      "followers_url": "https://api.github.com/users/rkeithhill/followers",
      "following_url": "https://api.github.com/users/rkeithhill/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkeithhill/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rkeithhill",
      "id": 5177512,
      "login": "rkeithhill",
      "node_id": "MDQ6VXNlcjUxNzc1MTI=",
      "organizations_url": "https://api.github.com/users/rkeithhill/orgs",
      "received_events_url": "https://api.github.com/users/rkeithhill/received_events",
      "repos_url": "https://api.github.com/users/rkeithhill/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rkeithhill/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkeithhill/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rkeithhill"
    }
  },
  {
    "author_association": "NONE",
    "body": "Yes, I copy it from the install so I can a) avoid updating user settings every time I update, and b) I can freely modify files without corrupting the base install (like when I broke everything trying to fix this issue by renaming `pwsh` back to `powershell` ;) ).\r\n\r\nI use string config instead of hash because I invoke all my tasks from `ctrl+shift+b`. Saves me a couple lines per project :)\r\n\r\nThank you so much for your help! Being able to use new Powershell again is so great!",
    "created_at": "2017-12-15T22:00:38Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5701#issuecomment-352122775",
    "id": 352122775,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5701",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjEyMjc3NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/352122775/reactions"
    },
    "updated_at": "2017-12-15T22:00:38Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/352122775",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/9667758?v=4",
      "events_url": "https://api.github.com/users/zackschuster/events{/privacy}",
      "followers_url": "https://api.github.com/users/zackschuster/followers",
      "following_url": "https://api.github.com/users/zackschuster/following{/other_user}",
      "gists_url": "https://api.github.com/users/zackschuster/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/zackschuster",
      "id": 9667758,
      "login": "zackschuster",
      "node_id": "MDQ6VXNlcjk2Njc3NTg=",
      "organizations_url": "https://api.github.com/users/zackschuster/orgs",
      "received_events_url": "https://api.github.com/users/zackschuster/received_events",
      "repos_url": "https://api.github.com/users/zackschuster/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/zackschuster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zackschuster/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/zackschuster"
    }
  },
  {
    "author_association": "NONE",
    "body": "(Marking as closed since this pretty conclusively seems like an upstream issue)",
    "created_at": "2017-12-15T22:00:53Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5701#issuecomment-352122825",
    "id": 352122825,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5701",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjEyMjgyNQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/352122825/reactions"
    },
    "updated_at": "2017-12-15T22:01:03Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/352122825",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/9667758?v=4",
      "events_url": "https://api.github.com/users/zackschuster/events{/privacy}",
      "followers_url": "https://api.github.com/users/zackschuster/followers",
      "following_url": "https://api.github.com/users/zackschuster/following{/other_user}",
      "gists_url": "https://api.github.com/users/zackschuster/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/zackschuster",
      "id": 9667758,
      "login": "zackschuster",
      "node_id": "MDQ6VXNlcjk2Njc3NTg=",
      "organizations_url": "https://api.github.com/users/zackschuster/orgs",
      "received_events_url": "https://api.github.com/users/zackschuster/received_events",
      "repos_url": "https://api.github.com/users/zackschuster/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/zackschuster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zackschuster/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/zackschuster"
    }
  }
]
