[
  {
    "author_association": "COLLABORATOR",
    "body": "Yeah. _Every_ type you can find in PowerShell is wrapped in a `[psobject]`, by design. PSObject is a wrapper type that enables the Extended Type System functions used pretty extensively in PS.\r\n\r\nFor that matter, `-is [PSObject]` and `-is [PSCustomObject]` are identical; if you check either type's fullname you'll see they point to the same class. The difference there is how the parser handles the `[pscustomobject]` version differently, specifically in the `[pscustomobject]@{}` situation where it's followed by a hashtable.\r\n\r\nIf you need to find a PSCustomObject type specifically, you'll need to do your checks differently.\r\n\r\n```powershell\r\nfunction Test-PSCustomObject {\r\n    [CmdletBinding()]\r\n    param(\r\n        [Parameter(Mandatory, ValueFromPipeline)]\r\n        [psobject]\r\n        $InputObject\r\n    )\r\n    process {\r\n        $InputObject.PSTypeNames -contains 'System.Management.Automation.PSCustomObject'\r\n    }\r\n}\r\n\r\nTest-PSCustomObject ([int64]4) # gives False\r\nTest-PSCustomObject (\"4\" | ConvertFrom-Json) # gives False\r\nTest-PSCustomObject ('{\"property\":\"value\"}'| ConvertFrom-Json) # gives True\r\n```",
    "created_at": "2019-05-08T04:30:18Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9557#issuecomment-490342905",
    "id": 490342905,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9557",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MDM0MjkwNQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/490342905/reactions"
    },
    "updated_at": "2019-05-08T04:31:19Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/490342905",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "NONE",
    "body": "For my use case, I ended up using `-isnot [ValueType]`.  It's pretty common for interpreted languages to have wrapper types and I'm OK with that.  In that case, I would expect `([int64]4) -is [psobject]` to be `$true`.  My bug is that the wrapper type is inconsistently applied (as evident with `-is [psobject]`) and not clearly exposed to the user (`.GetType()` outputs are identical)",
    "created_at": "2019-05-08T07:33:19Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9557#issuecomment-490381136",
    "id": 490381136,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9557",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MDM4MTEzNg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/490381136/reactions"
    },
    "updated_at": "2019-05-08T07:33:19Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/490381136",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/3680671?v=4",
      "events_url": "https://api.github.com/users/chriskuech/events{/privacy}",
      "followers_url": "https://api.github.com/users/chriskuech/followers",
      "following_url": "https://api.github.com/users/chriskuech/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriskuech/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/chriskuech",
      "id": 3680671,
      "login": "chriskuech",
      "node_id": "MDQ6VXNlcjM2ODA2NzE=",
      "organizations_url": "https://api.github.com/users/chriskuech/orgs",
      "received_events_url": "https://api.github.com/users/chriskuech/received_events",
      "repos_url": "https://api.github.com/users/chriskuech/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/chriskuech/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriskuech/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/chriskuech"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Can you check again with 6.2? I checked that case briefly and I'm pretty sure it was giving back what you expect there. I'll check again, just to be sure.\r\n\r\nAlso, I don't think `[string]` will register as a value type, from memory, so mind that. :)",
    "created_at": "2019-05-08T10:41:25Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9557#issuecomment-490438081",
    "id": 490438081,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9557",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MDQzODA4MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/490438081/reactions"
    },
    "updated_at": "2019-05-08T10:41:25Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/490438081",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "NONE",
    "body": "I just updated to 6.2 and I'm still observing the same output.  Also confirmed you are right about `-isnot [ValueType]`",
    "created_at": "2019-05-08T15:52:42Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9557#issuecomment-490542982",
    "id": 490542982,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9557",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MDU0Mjk4Mg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/490542982/reactions"
    },
    "updated_at": "2019-05-08T15:52:42Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/490542982",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/3680671?v=4",
      "events_url": "https://api.github.com/users/chriskuech/events{/privacy}",
      "followers_url": "https://api.github.com/users/chriskuech/followers",
      "following_url": "https://api.github.com/users/chriskuech/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriskuech/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/chriskuech",
      "id": 3680671,
      "login": "chriskuech",
      "node_id": "MDQ6VXNlcjM2ODA2NzE=",
      "organizations_url": "https://api.github.com/users/chriskuech/orgs",
      "received_events_url": "https://api.github.com/users/chriskuech/received_events",
      "repos_url": "https://api.github.com/users/chriskuech/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/chriskuech/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriskuech/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/chriskuech"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Hmm, you are correct. @SteveL-MSFT is there a provision for basic value types where they aren't usually wrapped in PSObject wrappers for some reason?",
    "created_at": "2019-05-08T15:54:54Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9557#issuecomment-490543802",
    "id": 490543802,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9557",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MDU0MzgwMg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/490543802/reactions"
    },
    "updated_at": "2019-05-08T15:54:54Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/490543802",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@chriskuech I'd probably recommend using a switch in this instance for processing the items in your json, something along the lines of:\r\n\r\n```powershell\r\nswitch ($Item) {\r\n    {$_ -is [string]} {\r\n        # process $_ as string\r\n    }\r\n    {$_ -is [ValueType]} {\r\n        # process $_ as value type\r\n    }\r\n    default {\r\n        # process $_ as object / custom object (JSON only generates custom objects anyway)\r\n    }\r\n}\r\n```",
    "created_at": "2019-05-08T15:57:15Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9557#issuecomment-490544771",
    "id": 490544771,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9557",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MDU0NDc3MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 1,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/490544771/reactions"
    },
    "updated_at": "2019-05-08T15:58:18Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/490544771",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "NONE",
    "body": "Thanks, I did not know scriptblocks are acceptable switch cases.  In this case I have to use `if`s because it's a merge function on two objects, not just a traverse function on a single object.",
    "created_at": "2019-05-08T16:00:03Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9557#issuecomment-490545909",
    "id": 490545909,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9557",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MDU0NTkwOQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/490545909/reactions"
    },
    "updated_at": "2019-05-08T16:04:44Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/490545909",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/3680671?v=4",
      "events_url": "https://api.github.com/users/chriskuech/events{/privacy}",
      "followers_url": "https://api.github.com/users/chriskuech/followers",
      "following_url": "https://api.github.com/users/chriskuech/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriskuech/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/chriskuech",
      "id": 3680671,
      "login": "chriskuech",
      "node_id": "MDQ6VXNlcjM2ODA2NzE=",
      "organizations_url": "https://api.github.com/users/chriskuech/orgs",
      "received_events_url": "https://api.github.com/users/chriskuech/received_events",
      "repos_url": "https://api.github.com/users/chriskuech/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/chriskuech/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriskuech/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/chriskuech"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Yeah, switch does some fun things. More on that from Kevin Marquette's lovely comprehensive blog post here: https://powershellexplained.com/2018-01-12-Powershell-switch-statement/\r\n\r\nIf you need more help with this, feel free to jump into the PS [Discord](https://aka.ms/psdiscord) / [Slack](https://aka.ms/psslack) channels as well. ðŸ˜„ ",
    "created_at": "2019-05-08T16:05:22Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9557#issuecomment-490547838",
    "id": 490547838,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9557",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MDU0NzgzOA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/490547838/reactions"
    },
    "updated_at": "2019-05-08T16:06:42Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/490547838",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@vexx32 unfortunately, I'm not familiar with the history of this",
    "created_at": "2019-05-08T20:55:51Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9557#issuecomment-490647717",
    "id": 490647717,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9557",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MDY0NzcxNw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 1,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/490647717/reactions"
    },
    "updated_at": "2019-05-08T20:55:51Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/490647717",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "> My bug is that the wrapper type is inconsistently applied\r\n\r\nIndeed - see #5579 and #4343.\r\n\r\nHowever, `-is [System.Management.Automation.PSCustomObject]` works consistently:\r\n\r\n```powershell\r\n([int64] 4), \r\n(\"4\" | ConvertFrom-Json), \r\n([pscustomobject] @{ val = 4 }), \r\n([pscustomobject] @{ val = 4 } | Select-Object val) | \r\n  & {\r\n       param([Parameter(ValueFromPipeline)] $obj) \r\n\r\n      process { \r\n         $obj -is [System.Management.Automation.PSCustomObject]\r\n      } \r\n  }\r\n```\r\n\r\n-> `$false, $false, $true, $true`\r\n\r\n",
    "created_at": "2019-05-09T18:13:21Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9557#issuecomment-491009871",
    "id": 491009871,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9557",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MTAwOTg3MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 2,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 2,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/491009871/reactions"
    },
    "updated_at": "2019-05-09T18:13:21Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/491009871",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  }
]
