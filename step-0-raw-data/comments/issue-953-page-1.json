[
  {
    "author_association": "MEMBER",
    "body": "There is no need to expose 'GetAssemblyLoadContext' since user can get the current default ALC by [AssemblyLoadContext]::Default.\nGetAssemblies() should not be exposed publicly. This method won't behave as expected since AssemblyLoadContext has made the following loading methods public:\n\"LoadFromAssemblyPath\"\n\"LoadFromNativeImagePath\"\n\"LoadFromStream\"\nThe assemblies loaded by those methods won't go through our resolution logic and won't be recorded in our assembly cache, so \"GetAssemblies\" won't return them, which is against what the user expects.\n\nActually, making those assembly loading methods public without providing \"GetAssemblies\" in .NET Core is a disaster to us. Our design of the \"GetAssemblies\" method is broken.\n",
    "created_at": "2016-05-09T19:08:34Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/953#issuecomment-217959277",
    "id": 217959277,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/953",
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzk1OTI3Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/217959277/reactions"
    },
    "updated_at": "2016-05-09T19:08:34Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/217959277",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/127450?v=4",
      "events_url": "https://api.github.com/users/daxian-dbw/events{/privacy}",
      "followers_url": "https://api.github.com/users/daxian-dbw/followers",
      "following_url": "https://api.github.com/users/daxian-dbw/following{/other_user}",
      "gists_url": "https://api.github.com/users/daxian-dbw/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/daxian-dbw",
      "id": 127450,
      "login": "daxian-dbw",
      "node_id": "MDQ6VXNlcjEyNzQ1MA==",
      "organizations_url": "https://api.github.com/users/daxian-dbw/orgs",
      "received_events_url": "https://api.github.com/users/daxian-dbw/received_events",
      "repos_url": "https://api.github.com/users/daxian-dbw/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/daxian-dbw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daxian-dbw/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/daxian-dbw"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@daxian-dbw If that's the case, wouldn't we also want to remove `public static Assembly LoadFrom(string assemblyFile)`, as a user could just access `LoadFromAssemblyPath` via `[AssemblyLoadContext]::Default`?\n\nIf we don't expose the `GetAssemblies` facade, how can we make @BrucePay's scenario work?\n",
    "created_at": "2016-05-09T19:36:19Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/953#issuecomment-217966198",
    "id": 217966198,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/953",
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzk2NjE5OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/217966198/reactions"
    },
    "updated_at": "2016-05-09T19:36:31Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/217966198",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/2226434?v=4",
      "events_url": "https://api.github.com/users/andschwa/events{/privacy}",
      "followers_url": "https://api.github.com/users/andschwa/followers",
      "following_url": "https://api.github.com/users/andschwa/following{/other_user}",
      "gists_url": "https://api.github.com/users/andschwa/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/andschwa",
      "id": 2226434,
      "login": "andschwa",
      "node_id": "MDQ6VXNlcjIyMjY0MzQ=",
      "organizations_url": "https://api.github.com/users/andschwa/orgs",
      "received_events_url": "https://api.github.com/users/andschwa/received_events",
      "repos_url": "https://api.github.com/users/andschwa/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/andschwa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andschwa/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/andschwa"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "The \"LoadFrom\" goes through our assembly resolution logic, so whatever assemblies loaded by it will be in our cache, so the types in the assembly can be discovered by powershell.\n\n[AssemblyLoadContext]::Default.LoadFromAssemblyPath used to be \"protected\", so our AssemblyLoadContext completely control the loading of an assembly. Now they make it public, and if user uses it, then powershell won't be able to discover the types in it, and thus the user won't be able to do anything with the assembly, unless he/she uses reflection directly.\n\nChanging from \"protected\" to \"public\" for those methods breaks our design, and we need to discuss this with Gaurav.\n\nAs for Bruce's scenario, I still don't know what it is. Can you elaborate?\n",
    "created_at": "2016-05-09T19:50:19Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/953#issuecomment-217969666",
    "id": 217969666,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/953",
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzk2OTY2Ng==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/217969666/reactions"
    },
    "updated_at": "2016-05-09T19:50:19Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/217969666",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/127450?v=4",
      "events_url": "https://api.github.com/users/daxian-dbw/events{/privacy}",
      "followers_url": "https://api.github.com/users/daxian-dbw/followers",
      "following_url": "https://api.github.com/users/daxian-dbw/following{/other_user}",
      "gists_url": "https://api.github.com/users/daxian-dbw/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/daxian-dbw",
      "id": 127450,
      "login": "daxian-dbw",
      "node_id": "MDQ6VXNlcjEyNzQ1MA==",
      "organizations_url": "https://api.github.com/users/daxian-dbw/orgs",
      "received_events_url": "https://api.github.com/users/daxian-dbw/received_events",
      "repos_url": "https://api.github.com/users/daxian-dbw/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/daxian-dbw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daxian-dbw/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/daxian-dbw"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "AFAIK he wants to be able to enumerate through the types in the assemblies like in FullCLR PowerShell. @BrucePay can you elaborate?\n",
    "created_at": "2016-05-09T20:31:33Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/953#issuecomment-217980354",
    "id": 217980354,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/953",
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzk4MDM1NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/217980354/reactions"
    },
    "updated_at": "2016-05-09T20:31:33Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/217980354",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/2226434?v=4",
      "events_url": "https://api.github.com/users/andschwa/events{/privacy}",
      "followers_url": "https://api.github.com/users/andschwa/followers",
      "following_url": "https://api.github.com/users/andschwa/following{/other_user}",
      "gists_url": "https://api.github.com/users/andschwa/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/andschwa",
      "id": 2226434,
      "login": "andschwa",
      "node_id": "MDQ6VXNlcjIyMjY0MzQ=",
      "organizations_url": "https://api.github.com/users/andschwa/orgs",
      "received_events_url": "https://api.github.com/users/andschwa/received_events",
      "repos_url": "https://api.github.com/users/andschwa/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/andschwa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andschwa/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/andschwa"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "We had a conversation with Gaurav offline, and the solution is to override those 4 public methods with \"new\" so that we can make sure the loading via them goes through our logic. In this way, we can continue to have the full control of assembly loading in a powershell process. I will make this change soon in SD.\n",
    "created_at": "2016-05-12T22:33:36Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/953#issuecomment-218905023",
    "id": 218905023,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/953",
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxODkwNTAyMw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/218905023/reactions"
    },
    "updated_at": "2016-05-12T22:33:36Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/218905023",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/127450?v=4",
      "events_url": "https://api.github.com/users/daxian-dbw/events{/privacy}",
      "followers_url": "https://api.github.com/users/daxian-dbw/followers",
      "following_url": "https://api.github.com/users/daxian-dbw/following{/other_user}",
      "gists_url": "https://api.github.com/users/daxian-dbw/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/daxian-dbw",
      "id": 127450,
      "login": "daxian-dbw",
      "node_id": "MDQ6VXNlcjEyNzQ1MA==",
      "organizations_url": "https://api.github.com/users/daxian-dbw/orgs",
      "received_events_url": "https://api.github.com/users/daxian-dbw/received_events",
      "repos_url": "https://api.github.com/users/daxian-dbw/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/daxian-dbw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daxian-dbw/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/daxian-dbw"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "Pinged @BrucePay externally, closing PR until we know what needs to be done.\n",
    "created_at": "2016-05-16T17:47:23Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/953#issuecomment-219494018",
    "id": 219494018,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/953",
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTQ5NDAxOA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/219494018/reactions"
    },
    "updated_at": "2016-05-16T17:47:23Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/219494018",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/2226434?v=4",
      "events_url": "https://api.github.com/users/andschwa/events{/privacy}",
      "followers_url": "https://api.github.com/users/andschwa/followers",
      "following_url": "https://api.github.com/users/andschwa/following{/other_user}",
      "gists_url": "https://api.github.com/users/andschwa/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/andschwa",
      "id": 2226434,
      "login": "andschwa",
      "node_id": "MDQ6VXNlcjIyMjY0MzQ=",
      "organizations_url": "https://api.github.com/users/andschwa/orgs",
      "received_events_url": "https://api.github.com/users/andschwa/received_events",
      "repos_url": "https://api.github.com/users/andschwa/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/andschwa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andschwa/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/andschwa"
    }
  }
]
