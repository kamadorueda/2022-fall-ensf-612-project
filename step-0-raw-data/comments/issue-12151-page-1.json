[
  {
    "author_association": "COLLABORATOR",
    "body": "Why can you not use existing PowerShell package to build new one? It is very difficult for us to support standalone build scripts.\r\n",
    "created_at": "2020-03-19T05:29:42Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12151#issuecomment-600996051",
    "id": 600996051,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12151",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMDk5NjA1MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 1,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/600996051/reactions"
    },
    "updated_at": "2020-03-19T05:29:42Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/600996051",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@kylesferrazza Just to clarify the request, would a `build.sh` entry point that checks for a local pwsh install, installs it if necessary and then invokes the current build script be sufficient? Or are you asking for a build script that doesn't touch PowerShell at all?",
    "created_at": "2020-03-19T16:39:17Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12151#issuecomment-601283836",
    "id": 601283836,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12151",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMTI4MzgzNg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/601283836/reactions"
    },
    "updated_at": "2020-03-19T16:39:17Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/601283836",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/24977523?v=4",
      "events_url": "https://api.github.com/users/SeeminglyScience/events{/privacy}",
      "followers_url": "https://api.github.com/users/SeeminglyScience/followers",
      "following_url": "https://api.github.com/users/SeeminglyScience/following{/other_user}",
      "gists_url": "https://api.github.com/users/SeeminglyScience/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SeeminglyScience",
      "id": 24977523,
      "login": "SeeminglyScience",
      "node_id": "MDQ6VXNlcjI0OTc3NTIz",
      "organizations_url": "https://api.github.com/users/SeeminglyScience/orgs",
      "received_events_url": "https://api.github.com/users/SeeminglyScience/received_events",
      "repos_url": "https://api.github.com/users/SeeminglyScience/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SeeminglyScience/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SeeminglyScience/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SeeminglyScience"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "I was asking about a build script that doesn't touch PowerShell at all, similar to how I build 6.2.4 here (see the `build()` function):\r\nhttps://aur.archlinux.org/cgit/aur.git/tree/PKGBUILD?h=powershell\r\n\r\nI suppose I could just rewrite the PKGBUILD to use a binary PowerShell to call `Start-PSBuild` from `build.psm1`, but I was thinking that users would want to be able to build PowerShell from source without needing to trust/install a pre-packaged binary PowerShell.\r\n\r\n<blockquote><img src=\"/images/favicon.ico\" width=\"48\" align=\"right\"><div><strong><a href=\"https://aur.archlinux.org/cgit/aur.git/tree/PKGBUILD?h=powershell\">PKGBUILD - aur.git - AUR Package Repositories</a></strong></div></blockquote>",
    "created_at": "2020-03-19T16:42:27Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12151#issuecomment-601285525",
    "id": 601285525,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12151",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMTI4NTUyNQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/601285525/reactions"
    },
    "updated_at": "2020-03-19T16:43:35Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/601285525",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6677292?v=4",
      "events_url": "https://api.github.com/users/kylesferrazza/events{/privacy}",
      "followers_url": "https://api.github.com/users/kylesferrazza/followers",
      "following_url": "https://api.github.com/users/kylesferrazza/following{/other_user}",
      "gists_url": "https://api.github.com/users/kylesferrazza/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/kylesferrazza",
      "id": 6677292,
      "login": "kylesferrazza",
      "node_id": "MDQ6VXNlcjY2NzcyOTI=",
      "organizations_url": "https://api.github.com/users/kylesferrazza/orgs",
      "received_events_url": "https://api.github.com/users/kylesferrazza/received_events",
      "repos_url": "https://api.github.com/users/kylesferrazza/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/kylesferrazza/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kylesferrazza/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/kylesferrazza"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "It seems to still work on 7.0, but I get the following error on running the built `pwsh`:\r\n```\r\nError:\r\n  An assembly specified in the application dependencies manifest (pwsh.deps.json) was not found:\r\n    package: 'runtimepack.Microsoft.NETCore.App.Runtime.linux-x64', version: '3.1.2'\r\n    path: 'System.IO.Compression.Native.a'\r\n```",
    "created_at": "2020-03-19T16:47:55Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12151#issuecomment-601289597",
    "id": 601289597,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12151",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMTI4OTU5Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/601289597/reactions"
    },
    "updated_at": "2020-03-19T16:47:55Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/601289597",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6677292?v=4",
      "events_url": "https://api.github.com/users/kylesferrazza/events{/privacy}",
      "followers_url": "https://api.github.com/users/kylesferrazza/followers",
      "following_url": "https://api.github.com/users/kylesferrazza/following{/other_user}",
      "gists_url": "https://api.github.com/users/kylesferrazza/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/kylesferrazza",
      "id": 6677292,
      "login": "kylesferrazza",
      "node_id": "MDQ6VXNlcjY2NzcyOTI=",
      "organizations_url": "https://api.github.com/users/kylesferrazza/orgs",
      "received_events_url": "https://api.github.com/users/kylesferrazza/received_events",
      "repos_url": "https://api.github.com/users/kylesferrazza/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/kylesferrazza/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kylesferrazza/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/kylesferrazza"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "On further digging, it looks like after my build script runs, `./src/powershell-unix/bin/Debug/netcoreapp3.1/linux-x64/publish/pwsh` works fine, but the above error shows up after copying `publish/` to `/opt` and then trying to run `pwsh` within `/opt`.\r\n\r\nAre additional packaging steps required besides copying the contents of the `publish` directory to `/opt` and then symlinking `pwsh` into `/usr/bin`?",
    "created_at": "2020-03-19T16:52:12Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12151#issuecomment-601294843",
    "id": 601294843,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12151",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMTI5NDg0Mw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/601294843/reactions"
    },
    "updated_at": "2020-03-19T16:52:12Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/601294843",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6677292?v=4",
      "events_url": "https://api.github.com/users/kylesferrazza/events{/privacy}",
      "followers_url": "https://api.github.com/users/kylesferrazza/followers",
      "following_url": "https://api.github.com/users/kylesferrazza/following{/other_user}",
      "gists_url": "https://api.github.com/users/kylesferrazza/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/kylesferrazza",
      "id": 6677292,
      "login": "kylesferrazza",
      "node_id": "MDQ6VXNlcjY2NzcyOTI=",
      "organizations_url": "https://api.github.com/users/kylesferrazza/orgs",
      "received_events_url": "https://api.github.com/users/kylesferrazza/received_events",
      "repos_url": "https://api.github.com/users/kylesferrazza/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/kylesferrazza/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kylesferrazza/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/kylesferrazza"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Oh that's not anywhere near as long as I pictured.\r\n\r\n@SteveL-MSFT It might be worth officially supporting a script like this to make this process easier for community package maintainers.  Or at the very least a bit of someone's time to troubleshoot the issue above.",
    "created_at": "2020-03-19T16:54:57Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12151#issuecomment-601296254",
    "id": 601296254,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12151",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMTI5NjI1NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 3,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 3,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/601296254/reactions"
    },
    "updated_at": "2020-03-19T16:54:57Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/601296254",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/24977523?v=4",
      "events_url": "https://api.github.com/users/SeeminglyScience/events{/privacy}",
      "followers_url": "https://api.github.com/users/SeeminglyScience/followers",
      "following_url": "https://api.github.com/users/SeeminglyScience/following{/other_user}",
      "gists_url": "https://api.github.com/users/SeeminglyScience/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SeeminglyScience",
      "id": 24977523,
      "login": "SeeminglyScience",
      "node_id": "MDQ6VXNlcjI0OTc3NTIz",
      "organizations_url": "https://api.github.com/users/SeeminglyScience/orgs",
      "received_events_url": "https://api.github.com/users/SeeminglyScience/received_events",
      "repos_url": "https://api.github.com/users/SeeminglyScience/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SeeminglyScience/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SeeminglyScience/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SeeminglyScience"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "`strace` revealed powershell trying to open a `.a`. Adding `options=(!strip)` to the PKGBUILD seems to have fixed the issue.",
    "created_at": "2020-03-19T17:10:55Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12151#issuecomment-601304522",
    "id": 601304522,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12151",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMTMwNDUyMg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 3,
      "laugh": 0,
      "rocket": 0,
      "total_count": 3,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/601304522/reactions"
    },
    "updated_at": "2020-03-19T17:10:55Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/601304522",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6677292?v=4",
      "events_url": "https://api.github.com/users/kylesferrazza/events{/privacy}",
      "followers_url": "https://api.github.com/users/kylesferrazza/followers",
      "following_url": "https://api.github.com/users/kylesferrazza/following{/other_user}",
      "gists_url": "https://api.github.com/users/kylesferrazza/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/kylesferrazza",
      "id": 6677292,
      "login": "kylesferrazza",
      "node_id": "MDQ6VXNlcjY2NzcyOTI=",
      "organizations_url": "https://api.github.com/users/kylesferrazza/orgs",
      "received_events_url": "https://api.github.com/users/kylesferrazza/received_events",
      "repos_url": "https://api.github.com/users/kylesferrazza/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/kylesferrazza/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kylesferrazza/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/kylesferrazza"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "```\r\n[kyle@37bb2b2d8d53 app]$ strace pwsh -Command exit 2>&1 | grep '\\.a'\r\nstat(\"/opt/microsoft/powershell/7/System.IO.Compression.Native.a\", {st_mode=S_IFREG|0744, st_size=2837182, ...}) = 0\r\nstat(\"/opt/microsoft/powershell/7/System.Native.a\", {st_mode=S_IFREG|0744, st_size=419888, ...}) = 0\r\nstat(\"/opt/microsoft/powershell/7/System.Net.Http.Native.a\", {st_mode=S_IFREG|0744, st_size=79868, ...}) = 0\r\nstat(\"/opt/microsoft/powershell/7/System.Net.Security.Native.a\", {st_mode=S_IFREG|0744, st_size=36266, ...}) = 0\r\nstat(\"/opt/microsoft/powershell/7/System.Security.Cryptography.Native.OpenSsl.a\", {st_mode=S_IFREG|0744, st_size=993712, ...}) = 0\r\n```",
    "created_at": "2020-03-19T17:11:19Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12151#issuecomment-601304708",
    "id": 601304708,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12151",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMTMwNDcwOA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/601304708/reactions"
    },
    "updated_at": "2020-03-19T17:11:19Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/601304708",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6677292?v=4",
      "events_url": "https://api.github.com/users/kylesferrazza/events{/privacy}",
      "followers_url": "https://api.github.com/users/kylesferrazza/followers",
      "following_url": "https://api.github.com/users/kylesferrazza/following{/other_user}",
      "gists_url": "https://api.github.com/users/kylesferrazza/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/kylesferrazza",
      "id": 6677292,
      "login": "kylesferrazza",
      "node_id": "MDQ6VXNlcjY2NzcyOTI=",
      "organizations_url": "https://api.github.com/users/kylesferrazza/orgs",
      "received_events_url": "https://api.github.com/users/kylesferrazza/received_events",
      "repos_url": "https://api.github.com/users/kylesferrazza/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/kylesferrazza/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kylesferrazza/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/kylesferrazza"
    }
  },
  {
    "author_association": "NONE",
    "body": "I see that dotNet 3.0 SDK for FreeBSD has been hacked together.  \r\nhttps://github.com/jasonpugsley/core-sdk/wiki/.Net-Core-3.0.0-for-FreeBSD\r\nBut it's chicken/egg to build Powershell for FreeBSD right?\n\n<blockquote><img src=\"https://avatars3.githubusercontent.com/u/17060242?s=400&v=4\" width=\"48\" align=\"right\"><div><img src=\"https://github.githubassets.com/favicon.ico\" height=\"14\"> GitHub</div><div><strong><a href=\"https://github.com/jasonpugsley/core-sdk\">jasonpugsley/core-sdk</a></strong></div><div>.NET Core SDK Setup. Contribute to jasonpugsley/core-sdk development by creating an account on GitHub.</div></blockquote>",
    "created_at": "2020-03-21T01:22:39Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12151#issuecomment-601973111",
    "id": 601973111,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12151",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMTk3MzExMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/601973111/reactions"
    },
    "updated_at": "2020-03-21T01:22:41Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/601973111",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/4889469?v=4",
      "events_url": "https://api.github.com/users/lukeb1961/events{/privacy}",
      "followers_url": "https://api.github.com/users/lukeb1961/followers",
      "following_url": "https://api.github.com/users/lukeb1961/following{/other_user}",
      "gists_url": "https://api.github.com/users/lukeb1961/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/lukeb1961",
      "id": 4889469,
      "login": "lukeb1961",
      "node_id": "MDQ6VXNlcjQ4ODk0Njk=",
      "organizations_url": "https://api.github.com/users/lukeb1961/orgs",
      "received_events_url": "https://api.github.com/users/lukeb1961/received_events",
      "repos_url": "https://api.github.com/users/lukeb1961/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/lukeb1961/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lukeb1961/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/lukeb1961"
    }
  }
]
