[
  {
    "author_association": "NONE",
    "body": "Under the surface `get-volume` is calling \r\n`Get-CimInstance -ClassName MSFT_Volume -Namespace ROOT/Microsoft/Windows/Storage`   \r\nIf you do `import-module  storage` to get the formatting for volumes, does the CIM command do the same thing, or possibly return extra errors ? \r\n\r\nWhat you're describing sounds like (but might not be) the first call starting something but timing out before it is ready, and the second call using what the first started. And with many drives if some have gone into \"sleep\" mode that could be the cause. You're on a newer build of Windows than I am - I doubt if the CIM timeout has changed for Windows (`Get-CimInstance` uses the system default, and `Get-Volume` doesn't have a timeout setting. ) - but if was always OK before I'd start wondering where a timeout had changed. \r\n\r\n",
    "created_at": "2022-01-03T00:17:38Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/16688#issuecomment-1003801643",
    "id": 1003801643,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/16688",
    "node_id": "IC_kwDOAvT7bc471Mwr",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1003801643/reactions"
    },
    "updated_at": "2022-01-03T00:17:38Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1003801643",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/16209593?v=4",
      "events_url": "https://api.github.com/users/jhoneill/events{/privacy}",
      "followers_url": "https://api.github.com/users/jhoneill/followers",
      "following_url": "https://api.github.com/users/jhoneill/following{/other_user}",
      "gists_url": "https://api.github.com/users/jhoneill/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jhoneill",
      "id": 16209593,
      "login": "jhoneill",
      "node_id": "MDQ6VXNlcjE2MjA5NTkz",
      "organizations_url": "https://api.github.com/users/jhoneill/orgs",
      "received_events_url": "https://api.github.com/users/jhoneill/received_events",
      "repos_url": "https://api.github.com/users/jhoneill/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jhoneill/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jhoneill/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jhoneill"
    }
  },
  {
    "author_association": "NONE",
    "body": "> Under the surface `get-volume` is calling `Get-CimInstance -ClassName MSFT_Volume -Namespace ROOT/Microsoft/Windows/Storage` If you do `import-module storage` to get the formatting for volumes, does the CIM command do the same thing, or possibly return extra errors ?\r\n> \r\n> What you're describing sounds like (but might not be) the first call starting something but timing out before it is ready, and the second call using what the first started. And with many drives if some have gone into \"sleep\" mode that could be the cause. You're on a newer build of Windows than I am - I doubt if the CIM timeout has changed for Windows (`Get-CimInstance` uses the system default, and `Get-Volume` doesn't have a timeout setting. ) - but if was always OK before I'd start wondering where a timeout had changed.\r\n\r\nThank you so much for the reply.  I will try `Import-Module storage` a few times over the coming days and see if it shows anything interesting.  This could indeed be a bug that's been introduced in Windows 11 specifically, it is a little hard to say because there was a short timespan between my upgrade to PS 7.2.x and Windows 11.\r\n\r\nOh while writing all that, I reproduced the problem directly using `Get-CimInstance`:\r\n\r\n```\r\nC:\\Users\\Fots> import-module storage\r\nC:\\Users\\Fots> import-module storage\r\nC:\\Users\\Fots> Get-CimInstance -ClassName MSFT_Volume -Namespace ROOT/Microsoft/Windows/Storage\r\nC:\\Users\\Fots> Get-CimInstance -ClassName MSFT_Volume -Namespace ROOT/Microsoft/Windows/Storage\r\n\r\nDriveLetter FriendlyName       FileSystemType DriveType HealthStatus OperationalStatus SizeRemaining      Size\r\n----------- ------------       -------------- --------- ------------ ----------------- -------------      ----\r\nH           Software Archive 2 NTFS           Fixed     Healthy      OK                      1.72 TB   4.55 TB\r\nD           Overflow           NTFS           Fixed     Healthy      OK                    270.84 GB 687.37 GB\r\nE           Kontakt Libraries  NTFS           Fixed     Healthy      OK                    210.97 GB   1.29 TB\r\n            Work Windows 10    NTFS           Fixed     Healthy      OK                     44.88 GB 244.12 GB\r\nI           Fotsies Backup 2   NTFS           Fixed     Healthy      OK                      2.78 TB   3.64 TB\r\nF           Sample Packs       NTFS           Fixed     Healthy      OK                    679.57 MB  56.37 GB\r\nC           Windows 11         NTFS           Fixed     Healthy      OK                    185.79 GB 488.17 GB\r\nG           Backup             NTFS           Fixed     Healthy      OK                    762.68 GB   1.82 TB\r\n```\r\n\r\nYou'll notice the first call returned nothing at all.\r\n\r\n**Edit**: Sorry, I accidentally clicked the wrong button, reopened the issue ðŸ˜„  If anyone can please add the appropriate label back, I'd appreciate it.",
    "created_at": "2022-01-03T04:47:29Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/16688#issuecomment-1003869559",
    "id": 1003869559,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/16688",
    "node_id": "IC_kwDOAvT7bc471dV3",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1003869559/reactions"
    },
    "updated_at": "2022-01-03T08:51:27Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1003869559",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/1811813?v=4",
      "events_url": "https://api.github.com/users/fgimian/events{/privacy}",
      "followers_url": "https://api.github.com/users/fgimian/followers",
      "following_url": "https://api.github.com/users/fgimian/following{/other_user}",
      "gists_url": "https://api.github.com/users/fgimian/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/fgimian",
      "id": 1811813,
      "login": "fgimian",
      "node_id": "MDQ6VXNlcjE4MTE4MTM=",
      "organizations_url": "https://api.github.com/users/fgimian/orgs",
      "received_events_url": "https://api.github.com/users/fgimian/received_events",
      "repos_url": "https://api.github.com/users/fgimian/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/fgimian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fgimian/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/fgimian"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@fgimian Please use Windows Feedback tool to report the issue to Windows team.",
    "created_at": "2022-01-03T06:30:25Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/16688#issuecomment-1003894003",
    "id": 1003894003,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/16688",
    "node_id": "IC_kwDOAvT7bc471jTz",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1003894003/reactions"
    },
    "updated_at": "2022-01-03T06:30:25Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1003894003",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "NONE",
    "body": "> @fgimian Please use Windows Feedback tool to report the issue to Windows team.\r\n\r\nNo worries, all done and my feedback report is available at https://aka.ms/AAfdosc\r\n\r\nIn the meantime, this is how I'm working around the issue:\r\n\r\n```powershell\r\ndo {\r\n    $volumes = Get-Volume\r\n} while ($null -eq $volumes)\r\n```\r\n\r\nKindly let me know if there's anything further I can do to help\r\nFotis\n\n<blockquote><img src=\"https://compass-ssl.microsoft.com/assets/4c/51/4c51de82-ae73-4037-8fec-388dbddf4953.png?n=windows11.png\" width=\"48\" align=\"right\"><div>Windows Insider</div><div><strong><a href=\"https://insider.windows.com\">Windows Insider Program</a></strong></div><div>Become an Insider: be one of the first to explore new Windows features for you and your business or use the latest Windows SDK to build great apps.</div></blockquote>",
    "created_at": "2022-01-03T08:56:20Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/16688#issuecomment-1003947124",
    "id": 1003947124,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/16688",
    "node_id": "IC_kwDOAvT7bc471wR0",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1003947124/reactions"
    },
    "updated_at": "2022-01-03T08:56:22Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1003947124",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/1811813?v=4",
      "events_url": "https://api.github.com/users/fgimian/events{/privacy}",
      "followers_url": "https://api.github.com/users/fgimian/followers",
      "following_url": "https://api.github.com/users/fgimian/following{/other_user}",
      "gists_url": "https://api.github.com/users/fgimian/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/fgimian",
      "id": 1811813,
      "login": "fgimian",
      "node_id": "MDQ6VXNlcjE4MTE4MTM=",
      "organizations_url": "https://api.github.com/users/fgimian/orgs",
      "received_events_url": "https://api.github.com/users/fgimian/received_events",
      "repos_url": "https://api.github.com/users/fgimian/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/fgimian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fgimian/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/fgimian"
    }
  },
  {
    "author_association": "NONE",
    "body": "This issue has been marked as external and has not had any activity for **1 day**. It has been be closed for housekeeping purposes.",
    "created_at": "2022-01-04T10:00:43Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/16688#issuecomment-1004670769",
    "id": 1004670769,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/16688",
    "node_id": "IC_kwDOAvT7bc474g8x",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1004670769/reactions"
    },
    "updated_at": "2022-01-04T10:00:43Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1004670769",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/in/26612?v=4",
      "events_url": "https://api.github.com/users/msftbot%5Bbot%5D/events{/privacy}",
      "followers_url": "https://api.github.com/users/msftbot%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/msftbot%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/msftbot%5Bbot%5D/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/apps/msftbot",
      "id": 48340428,
      "login": "msftbot[bot]",
      "node_id": "MDM6Qm90NDgzNDA0Mjg=",
      "organizations_url": "https://api.github.com/users/msftbot%5Bbot%5D/orgs",
      "received_events_url": "https://api.github.com/users/msftbot%5Bbot%5D/received_events",
      "repos_url": "https://api.github.com/users/msftbot%5Bbot%5D/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/msftbot%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/msftbot%5Bbot%5D/subscriptions",
      "type": "Bot",
      "url": "https://api.github.com/users/msftbot%5Bbot%5D"
    }
  },
  {
    "author_association": "NONE",
    "body": "why is this closed? It is clearly a bug. The first call to get-volume should behave exactly like the nth call to get-volume for any given set of volumes on a system.",
    "created_at": "2022-09-25T17:57:12Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/16688#issuecomment-1257245293",
    "id": 1257245293,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/16688",
    "node_id": "IC_kwDOAvT7bc5K8Apt",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1257245293/reactions"
    },
    "updated_at": "2022-09-25T17:57:12Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1257245293",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/5400087?v=4",
      "events_url": "https://api.github.com/users/HollisTech/events{/privacy}",
      "followers_url": "https://api.github.com/users/HollisTech/followers",
      "following_url": "https://api.github.com/users/HollisTech/following{/other_user}",
      "gists_url": "https://api.github.com/users/HollisTech/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/HollisTech",
      "id": 5400087,
      "login": "HollisTech",
      "node_id": "MDQ6VXNlcjU0MDAwODc=",
      "organizations_url": "https://api.github.com/users/HollisTech/orgs",
      "received_events_url": "https://api.github.com/users/HollisTech/received_events",
      "repos_url": "https://api.github.com/users/HollisTech/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/HollisTech/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/HollisTech/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/HollisTech"
    }
  },
  {
    "author_association": "NONE",
    "body": "@HollisTech   Because it is a bug, that affects PowerShell, so is correctly logged elsewhere, not a bug in PowerShell that code in this repo can fix. \r\n",
    "created_at": "2022-09-25T21:54:05Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/16688#issuecomment-1257287270",
    "id": 1257287270,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/16688",
    "node_id": "IC_kwDOAvT7bc5K8K5m",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1257287270/reactions"
    },
    "updated_at": "2022-09-25T21:54:05Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1257287270",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/16209593?v=4",
      "events_url": "https://api.github.com/users/jhoneill/events{/privacy}",
      "followers_url": "https://api.github.com/users/jhoneill/followers",
      "following_url": "https://api.github.com/users/jhoneill/following{/other_user}",
      "gists_url": "https://api.github.com/users/jhoneill/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jhoneill",
      "id": 16209593,
      "login": "jhoneill",
      "node_id": "MDQ6VXNlcjE2MjA5NTkz",
      "organizations_url": "https://api.github.com/users/jhoneill/orgs",
      "received_events_url": "https://api.github.com/users/jhoneill/received_events",
      "repos_url": "https://api.github.com/users/jhoneill/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jhoneill/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jhoneill/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jhoneill"
    }
  }
]
