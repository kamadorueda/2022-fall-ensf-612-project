[
  {
    "author_association": "COLLABORATOR",
    "body": "What is GN?",
    "created_at": "2021-05-22T19:12:15Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15438#issuecomment-846451477",
    "id": 846451477,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15438",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0NjQ1MTQ3Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/846451477/reactions"
    },
    "updated_at": "2021-05-22T19:12:15Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/846451477",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Probably just a typo for gigabyte, but what PowerShell version are you on, IIRC older ones suffered from bad performance due to inefficiencies with the progress stream but that should be less of a problem today.",
    "created_at": "2021-05-23T03:22:45Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15438#issuecomment-846495332",
    "id": 846495332,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15438",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0NjQ5NTMzMg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/846495332/reactions"
    },
    "updated_at": "2021-05-25T22:32:01Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/846495332",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/8462645?v=4",
      "events_url": "https://api.github.com/users/jborean93/events{/privacy}",
      "followers_url": "https://api.github.com/users/jborean93/followers",
      "following_url": "https://api.github.com/users/jborean93/following{/other_user}",
      "gists_url": "https://api.github.com/users/jborean93/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jborean93",
      "id": 8462645,
      "login": "jborean93",
      "node_id": "MDQ6VXNlcjg0NjI2NDU=",
      "organizations_url": "https://api.github.com/users/jborean93/orgs",
      "received_events_url": "https://api.github.com/users/jborean93/received_events",
      "repos_url": "https://api.github.com/users/jborean93/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jborean93/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jborean93/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jborean93"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "This sounds like more of an issue with the underlying implementation, it's hitting the built-in limits of whatever type of Stream it's using.\r\n\r\nIt might be necessary to download files to a temp location so we can chunk the download data as it's received and avoid storing the entirety of a very large file into a single Stream object.",
    "created_at": "2021-05-23T13:53:55Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15438#issuecomment-846566896",
    "id": 846566896,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15438",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0NjU2Njg5Ng==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/846566896/reactions"
    },
    "updated_at": "2021-05-23T13:53:55Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/846566896",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@jdescelliers What version of PowerShell do you observe this issue? I believe the large file download issues was fixed by @iSazonov's PR https://github.com/PowerShell/PowerShell/pull/11095, which replaced `MemoryStream` with async streams. The fix was available in 7.1. Can you try on 7.1 and see if you observe the same?",
    "created_at": "2021-05-25T19:15:18Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15438#issuecomment-848193412",
    "id": 848193412,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15438",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0ODE5MzQxMg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/848193412/reactions"
    },
    "updated_at": "2021-05-25T19:15:18Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/848193412",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/127450?v=4",
      "events_url": "https://api.github.com/users/daxian-dbw/events{/privacy}",
      "followers_url": "https://api.github.com/users/daxian-dbw/followers",
      "following_url": "https://api.github.com/users/daxian-dbw/following{/other_user}",
      "gists_url": "https://api.github.com/users/daxian-dbw/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/daxian-dbw",
      "id": 127450,
      "login": "daxian-dbw",
      "node_id": "MDQ6VXNlcjEyNzQ1MA==",
      "organizations_url": "https://api.github.com/users/daxian-dbw/orgs",
      "received_events_url": "https://api.github.com/users/daxian-dbw/received_events",
      "repos_url": "https://api.github.com/users/daxian-dbw/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/daxian-dbw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daxian-dbw/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/daxian-dbw"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@jdescelliers it would be useful to know:\r\n\r\n- What platform and version of PowerShell you're experiencing this with (`$PSVersionTable` will tell you this)\r\n- What the exception and the stack trace of that exception are (`Get-Error` will tell you that in PS 7)\r\n\r\nI'm currently testing this out with PS 7.2-preview.5 on my Windows 10 machine by downloading [a 10 GB file](https://speed.hetzner.de/10GB.bin) and will report back on what happens.",
    "created_at": "2021-05-25T20:21:04Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15438#issuecomment-848233072",
    "id": 848233072,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15438",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0ODIzMzA3Mg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/848233072/reactions"
    },
    "updated_at": "2021-05-25T20:21:04Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/848233072",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7009879?v=4",
      "events_url": "https://api.github.com/users/rjmholt/events{/privacy}",
      "followers_url": "https://api.github.com/users/rjmholt/followers",
      "following_url": "https://api.github.com/users/rjmholt/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjmholt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rjmholt",
      "id": 7009879,
      "login": "rjmholt",
      "node_id": "MDQ6VXNlcjcwMDk4Nzk=",
      "organizations_url": "https://api.github.com/users/rjmholt/orgs",
      "received_events_url": "https://api.github.com/users/rjmholt/received_events",
      "repos_url": "https://api.github.com/users/rjmholt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rjmholt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjmholt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rjmholt"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "So after running this yesterday, `iwr` ran for a few hours. I didn't compare it to, say, a browser, so I'm not sure if it was the site or the cmdlet.\n\nBut it didn't throw for me.",
    "created_at": "2021-05-26T15:21:40Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15438#issuecomment-848862150",
    "id": 848862150,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15438",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0ODg2MjE1MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/848862150/reactions"
    },
    "updated_at": "2021-05-26T15:21:40Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/848862150",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7009879?v=4",
      "events_url": "https://api.github.com/users/rjmholt/events{/privacy}",
      "followers_url": "https://api.github.com/users/rjmholt/followers",
      "following_url": "https://api.github.com/users/rjmholt/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjmholt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rjmholt",
      "id": 7009879,
      "login": "rjmholt",
      "node_id": "MDQ6VXNlcjcwMDk4Nzk=",
      "organizations_url": "https://api.github.com/users/rjmholt/orgs",
      "received_events_url": "https://api.github.com/users/rjmholt/received_events",
      "repos_url": "https://api.github.com/users/rjmholt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rjmholt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjmholt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rjmholt"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@jdescelliers Please share $PSVersionTable.",
    "created_at": "2021-05-26T18:31:24Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15438#issuecomment-849021274",
    "id": 849021274,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15438",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0OTAyMTI3NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/849021274/reactions"
    },
    "updated_at": "2021-05-26T18:31:24Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/849021274",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "And the output of `Get-Error` if there is an error",
    "created_at": "2021-05-26T18:53:19Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15438#issuecomment-849035753",
    "id": 849035753,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15438",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0OTAzNTc1Mw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/849035753/reactions"
    },
    "updated_at": "2021-05-26T18:53:19Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/849035753",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7009879?v=4",
      "events_url": "https://api.github.com/users/rjmholt/events{/privacy}",
      "followers_url": "https://api.github.com/users/rjmholt/followers",
      "following_url": "https://api.github.com/users/rjmholt/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjmholt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rjmholt",
      "id": 7009879,
      "login": "rjmholt",
      "node_id": "MDQ6VXNlcjcwMDk4Nzk=",
      "organizations_url": "https://api.github.com/users/rjmholt/orgs",
      "received_events_url": "https://api.github.com/users/rjmholt/received_events",
      "repos_url": "https://api.github.com/users/rjmholt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rjmholt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjmholt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rjmholt"
    }
  },
  {
    "author_association": "NONE",
    "body": "So a bit of context:\r\n- Windows terminal version: 1.8.1444.0\r\n- `%PSVersionTable` output:\r\n````\r\nName                           Value\r\n----                           -----\r\nPSVersion                      7.1.3\r\nPSEdition                      Core\r\nGitCommitId                    7.1.3\r\nOS                             Microsoft Windows 10.0.19043\r\nPlatform                       Win32NT\r\nPSCompatibleVersions           {1.0, 2.0, 3.0, 4.0…}\r\nPSRemotingProtocolVersion      2.3\r\nSerializationVersion           1.1.0.1\r\nWSManStackVersion              3.0\r\n````\r\n\r\n- file downloaded: Ubuntu ISO - I needed a large file to test this, so the command is: \r\n```powershell\r\nInvoke-WebRequest -Uri https://releases.ubuntu.com/20.04.2.0/ubuntu-20.04.2.0-desktop-amd64.iso -Method Get\r\n````\r\n- Error: `Invoke-WebRequest: Stream was too long.`\r\n- `Get-Error output:\r\n````powershell\r\nException             :\r\n    Type       : System.IO.IOException\r\n    TargetSite :\r\n        Name          : Write\r\n        DeclaringType : System.IO.MemoryStream\r\n        MemberType    : Method\r\n        Module        : System.Private.CoreLib.dll\r\n    StackTrace :\r\n   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)\r\n   at Microsoft.PowerShell.Commands.WebResponseContentMemoryStream.Initialize()\r\n   at Microsoft.PowerShell.Commands.WebResponseContentMemoryStream.ToArray()\r\n   at Microsoft.PowerShell.Commands.WebResponseObject.InitializeContent()\r\n   at Microsoft.PowerShell.Commands.WebResponseObjectFactory.GetResponseObject(HttpResponseMessage response, Stream\r\nresponseStream, ExecutionContext executionContext)\r\n   at Microsoft.PowerShell.Commands.InvokeWebRequestCommand.ProcessResponse(HttpResponseMessage response)\r\n   at Microsoft.PowerShell.Commands.WebRequestPSCmdlet.ProcessRecord()\r\n   at System.Management.Automation.CommandProcessor.ProcessRecord()\r\n    Message    : Stream was too long.\r\n    Source     : System.Private.CoreLib\r\n    HResult    : -2146232800\r\nCategoryInfo          : NotSpecified: (:) [Invoke-WebRequest], IOException\r\nFullyQualifiedErrorId : System.IO.IOException,Microsoft.PowerShell.Commands.InvokeWebRequestCommand\r\nInvocationInfo        :\r\n    MyCommand        : Invoke-WebRequest\r\n    ScriptLineNumber : 1\r\n    OffsetInLine     : 1\r\n    HistoryId        : 2\r\n    Line             : Invoke-WebRequest -Uri https://releases.ubuntu.com/20.04.2.0/ubuntu-20.04.2.0-desktop-amd64.iso\r\n-Method Get\r\n    PositionMessage  : At line:1 char:1\r\n                       + Invoke-WebRequest -Uri https://releases.ubuntu.com/20.04.2.0/ubuntu-2 …\r\n                       + ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    InvocationName   : Invoke-WebRequest\r\n    CommandOrigin    : Internal\r\nScriptStackTrace      : at <ScriptBlock>, <No file>: line 1\r\n````\r\n- Memory usage of `pwsh.exe` when the exeption was raised: 2.1GB which isn't released as of writing this comment.\r\n- Theorical connection speed 1GB / Ethernet used.\r\n\r\nOn the same URL, `wget` 1.20.3 uses roughtly 30MB of RAM for 30MB/s download speed.\r\n",
    "created_at": "2021-06-02T20:47:18Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15438#issuecomment-853371912",
    "id": 853371912,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15438",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1MzM3MTkxMg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/853371912/reactions"
    },
    "updated_at": "2021-06-02T20:47:18Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/853371912",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/30500043?v=4",
      "events_url": "https://api.github.com/users/jdescelliers/events{/privacy}",
      "followers_url": "https://api.github.com/users/jdescelliers/followers",
      "following_url": "https://api.github.com/users/jdescelliers/following{/other_user}",
      "gists_url": "https://api.github.com/users/jdescelliers/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jdescelliers",
      "id": 30500043,
      "login": "jdescelliers",
      "node_id": "MDQ6VXNlcjMwNTAwMDQz",
      "organizations_url": "https://api.github.com/users/jdescelliers/orgs",
      "received_events_url": "https://api.github.com/users/jdescelliers/received_events",
      "repos_url": "https://api.github.com/users/jdescelliers/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jdescelliers/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jdescelliers/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jdescelliers"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "You need to specify `-OutFile` to store the data into a file and bypass this problem. The default behaviour is to store the response in memory and that has limits as you've encountered.",
    "created_at": "2021-06-02T20:59:47Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15438#issuecomment-853378906",
    "id": 853378906,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15438",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1MzM3ODkwNg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/853378906/reactions"
    },
    "updated_at": "2021-06-02T20:59:47Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/853378906",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/8462645?v=4",
      "events_url": "https://api.github.com/users/jborean93/events{/privacy}",
      "followers_url": "https://api.github.com/users/jborean93/followers",
      "following_url": "https://api.github.com/users/jborean93/following{/other_user}",
      "gists_url": "https://api.github.com/users/jborean93/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jborean93",
      "id": 8462645,
      "login": "jborean93",
      "node_id": "MDQ6VXNlcjg0NjI2NDU=",
      "organizations_url": "https://api.github.com/users/jborean93/orgs",
      "received_events_url": "https://api.github.com/users/jborean93/received_events",
      "repos_url": "https://api.github.com/users/jborean93/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jborean93/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jborean93/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jborean93"
    }
  },
  {
    "author_association": "NONE",
    "body": "Yes. It works when using `-OutFile`, there are still multiple issues that may need to be treated separately:\r\n- High memory usage: on a 2nd attempt, download peaked around 30MB/s and memory usage was steady at 96MB so more than 3 times the needed RAM: is it related to how .NET Core allocates memory in large chunks?\r\n- that memory is not released back to the OS when the download is complete,\r\n- I didn't see any mention in the documentation of `Invoke-Webrequest`  that the response body would be stored in memory unless ``-OutFile` is provided,\r\n- shouldn't `-Outfile` be able to be \"smarter\" by using the `filename` that may be included in the response `Content-Disposition: attachment` header? ",
    "created_at": "2021-06-05T23:50:26Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15438#issuecomment-855311653",
    "id": 855311653,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15438",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1NTMxMTY1Mw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/855311653/reactions"
    },
    "updated_at": "2021-06-05T23:50:26Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/855311653",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/30500043?v=4",
      "events_url": "https://api.github.com/users/jdescelliers/events{/privacy}",
      "followers_url": "https://api.github.com/users/jdescelliers/followers",
      "following_url": "https://api.github.com/users/jdescelliers/following{/other_user}",
      "gists_url": "https://api.github.com/users/jdescelliers/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jdescelliers",
      "id": 30500043,
      "login": "jdescelliers",
      "node_id": "MDQ6VXNlcjMwNTAwMDQz",
      "organizations_url": "https://api.github.com/users/jdescelliers/orgs",
      "received_events_url": "https://api.github.com/users/jdescelliers/received_events",
      "repos_url": "https://api.github.com/users/jdescelliers/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jdescelliers/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jdescelliers/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jdescelliers"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "> * shouldn't `-Outfile` be able to be \"smarter\" by using the `filename` that may be included in the response `Content-Disposition: attachment` header?\r\n\r\nPerhaps we already have such issue.\r\n\r\n> I didn't see any mention in the documentation of Invoke-Webrequest that the response body would be stored in memory unless ``-OutFile` is provided,\r\n\r\nNo need explicitly document this because it is how pipeline works - we should accumulate data before sending it to pipeline.\r\n\r\n> that memory is not released back to the OS when the download is complete,\r\n\r\nI guess .Net Core GC is too lazy.\r\n\r\n> High memory usage\r\n\r\nMaybe we should see if we can do better.",
    "created_at": "2021-06-06T09:39:24Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15438#issuecomment-855369682",
    "id": 855369682,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15438",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1NTM2OTY4Mg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/855369682/reactions"
    },
    "updated_at": "2021-06-06T09:39:24Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/855369682",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "NONE",
    "body": "This issue has been marked as \"Waiting on Author\" and has not had any activity for **7 day**. It has been closed for housekeeping purposes.",
    "created_at": "2022-01-08T04:00:45Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15438#issuecomment-1007880658",
    "id": 1007880658,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15438",
    "node_id": "IC_kwDOAvT7bc48EwnS",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1007880658/reactions"
    },
    "updated_at": "2022-01-08T04:00:45Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1007880658",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/in/26612?v=4",
      "events_url": "https://api.github.com/users/msftbot%5Bbot%5D/events{/privacy}",
      "followers_url": "https://api.github.com/users/msftbot%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/msftbot%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/msftbot%5Bbot%5D/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/apps/msftbot",
      "id": 48340428,
      "login": "msftbot[bot]",
      "node_id": "MDM6Qm90NDgzNDA0Mjg=",
      "organizations_url": "https://api.github.com/users/msftbot%5Bbot%5D/orgs",
      "received_events_url": "https://api.github.com/users/msftbot%5Bbot%5D/received_events",
      "repos_url": "https://api.github.com/users/msftbot%5Bbot%5D/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/msftbot%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/msftbot%5Bbot%5D/subscriptions",
      "type": "Bot",
      "url": "https://api.github.com/users/msftbot%5Bbot%5D"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "The original question was answered. For discussion on further improvements, please search for existing related issues or create new issue if no related issue is found.",
    "created_at": "2022-01-10T20:09:07Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15438#issuecomment-1009300735",
    "id": 1009300735,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15438",
    "node_id": "IC_kwDOAvT7bc48KLT_",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1009300735/reactions"
    },
    "updated_at": "2022-01-10T20:09:07Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1009300735",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/127450?v=4",
      "events_url": "https://api.github.com/users/daxian-dbw/events{/privacy}",
      "followers_url": "https://api.github.com/users/daxian-dbw/followers",
      "following_url": "https://api.github.com/users/daxian-dbw/following{/other_user}",
      "gists_url": "https://api.github.com/users/daxian-dbw/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/daxian-dbw",
      "id": 127450,
      "login": "daxian-dbw",
      "node_id": "MDQ6VXNlcjEyNzQ1MA==",
      "organizations_url": "https://api.github.com/users/daxian-dbw/orgs",
      "received_events_url": "https://api.github.com/users/daxian-dbw/received_events",
      "repos_url": "https://api.github.com/users/daxian-dbw/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/daxian-dbw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daxian-dbw/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/daxian-dbw"
    }
  }
]
