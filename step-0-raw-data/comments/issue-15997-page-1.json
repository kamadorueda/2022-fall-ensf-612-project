[
  {
    "author_association": "MEMBER",
    "body": "Key with `object` type works with dynamic member access (except when the dynamic member's value is of string type). check this out:\r\n```\r\n$dict = [System.Collections.Generic.Dictionary[object, object]]::new()\r\n$s = [System.IO.FileInfo]::new('bar')\r\n$dict.Add($s, 888)\r\n$dict.$s\r\n> 888\r\n```\r\nwhen the dynamic member is of the `string` type, it will fall back to the non-dynamic get member binder, where it differentiates `IDictionary` from `IDictionary<,>`. See the code here: https://github.com/PowerShell/PowerShell/blob/6de53f89cf68d957f3c235d847264308ea31ff5a/src/System.Management.Automation/engine/runtime/Binding/Binders.cs#L5333-L5354\r\n\r\nit's not clear to me why we are dealing with `IDictionary<,>` specially instead of let `IDictionary` to cover it all, just like how dynamic member binder works: https://github.com/PowerShell/PowerShell/blob/6de53f89cf68d957f3c235d847264308ea31ff5a/src/System.Management.Automation/engine/runtime/Binding/Binders.cs#L1345-L1356\r\n\r\nanyways, when it goes through the `IDictionary<,>` code path, it explicitly handles `IDictionary<string,T>` only.\r\nso in summary, there is inconsistency for sure, as if `$dict.$s` from the above snippet works, I would expect the following works too:\r\n```\r\n$dict.Add('foo', 42)\r\n$v = 'foo'\r\n$dict.$v\r\n```\r\nhowever, it doesn't",
    "created_at": "2021-08-31T22:27:40Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15997#issuecomment-909692358",
    "id": 909692358,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15997",
    "node_id": "IC_kwDOAvT7bc42OM3G",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 2,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 2,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/909692358/reactions"
    },
    "updated_at": "2021-08-31T22:27:40Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/909692358",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/127450?v=4",
      "events_url": "https://api.github.com/users/daxian-dbw/events{/privacy}",
      "followers_url": "https://api.github.com/users/daxian-dbw/followers",
      "following_url": "https://api.github.com/users/daxian-dbw/following{/other_user}",
      "gists_url": "https://api.github.com/users/daxian-dbw/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/daxian-dbw",
      "id": 127450,
      "login": "daxian-dbw",
      "node_id": "MDQ6VXNlcjEyNzQ1MA==",
      "organizations_url": "https://api.github.com/users/daxian-dbw/orgs",
      "received_events_url": "https://api.github.com/users/daxian-dbw/received_events",
      "repos_url": "https://api.github.com/users/daxian-dbw/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/daxian-dbw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daxian-dbw/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/daxian-dbw"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@daxian-dbw likely we need to deal with both because not all `IDictionary<,>` objects also implement `IDictionary`. Probably both code paths should handle both.",
    "created_at": "2021-08-31T22:33:28Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15997#issuecomment-909695817",
    "id": 909695817,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15997",
    "node_id": "IC_kwDOAvT7bc42ONtJ",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/909695817/reactions"
    },
    "updated_at": "2021-08-31T22:34:31Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/909695817",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "Good point, @vexx32 (`ExpandoObject` is an example of such a type - see #15204).",
    "created_at": "2021-08-31T22:36:15Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15997#issuecomment-909697456",
    "id": 909697456,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15997",
    "node_id": "IC_kwDOAvT7bc42OOGw",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/909697456/reactions"
    },
    "updated_at": "2021-08-31T22:36:15Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/909697456",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@vexx32 But today we have a check before differentiating `IDictionary<,>` from `IDictionary`:\r\n\r\nhttps://github.com/PowerShell/PowerShell/blob/6de53f89cf68d957f3c235d847264308ea31ff5a/src/System.Management.Automation/engine/runtime/Binding/Binders.cs#L5330-L5333\r\n\r\nThat means we are ignoring types that doesn't implement `IDictionary` today, and hence, #15204\r\nGiven that, I don't know why `IDictionary<string, T>` is handled specially.",
    "created_at": "2021-08-31T22:38:11Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15997#issuecomment-909698374",
    "id": 909698374,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15997",
    "node_id": "IC_kwDOAvT7bc42OOVG",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/909698374/reactions"
    },
    "updated_at": "2021-08-31T22:42:17Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/909698374",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/127450?v=4",
      "events_url": "https://api.github.com/users/daxian-dbw/events{/privacy}",
      "followers_url": "https://api.github.com/users/daxian-dbw/followers",
      "following_url": "https://api.github.com/users/daxian-dbw/following{/other_user}",
      "gists_url": "https://api.github.com/users/daxian-dbw/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/daxian-dbw",
      "id": 127450,
      "login": "daxian-dbw",
      "node_id": "MDQ6VXNlcjEyNzQ1MA==",
      "organizations_url": "https://api.github.com/users/daxian-dbw/orgs",
      "received_events_url": "https://api.github.com/users/daxian-dbw/received_events",
      "repos_url": "https://api.github.com/users/daxian-dbw/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/daxian-dbw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daxian-dbw/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/daxian-dbw"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "The Engine WG discussed and agreed that there is a consistency issue in how `PSGetMemberBinder` and `PSGetDynamicMemberBinder` deal with generic dictionary object. More investigation is needed to understand why `IDictionary<string, T>` is differentiated from `IDictionary` in `PSGetMemberBinder`.",
    "created_at": "2021-09-03T18:06:12Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15997#issuecomment-912717091",
    "id": 912717091,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15997",
    "node_id": "IC_kwDOAvT7bc42ZvUj",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/912717091/reactions"
    },
    "updated_at": "2021-09-03T18:06:28Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/912717091",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/127450?v=4",
      "events_url": "https://api.github.com/users/daxian-dbw/events{/privacy}",
      "followers_url": "https://api.github.com/users/daxian-dbw/followers",
      "following_url": "https://api.github.com/users/daxian-dbw/following{/other_user}",
      "gists_url": "https://api.github.com/users/daxian-dbw/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/daxian-dbw",
      "id": 127450,
      "login": "daxian-dbw",
      "node_id": "MDQ6VXNlcjEyNzQ1MA==",
      "organizations_url": "https://api.github.com/users/daxian-dbw/orgs",
      "received_events_url": "https://api.github.com/users/daxian-dbw/received_events",
      "repos_url": "https://api.github.com/users/daxian-dbw/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/daxian-dbw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daxian-dbw/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/daxian-dbw"
    }
  }
]
