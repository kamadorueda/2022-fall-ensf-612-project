[
  {
    "author_association": "MEMBER",
    "body": "I had to scrub out keys from your issue.  Is it possible for you to construct a simpler repro?",
    "created_at": "2017-10-03T22:39:56Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/4996#issuecomment-333999705",
    "id": 333999705,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4996",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzk5OTcwNQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/333999705/reactions"
    },
    "updated_at": "2017-10-03T22:39:56Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/333999705",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "NONE",
    "body": "Hey Steve\r\nThe keys were just samples and had been modified, sorry should have mentioned that.\r\n\r\nHere's a simple Repro : \r\n\r\n$EgJObject = New-Object -TypeName Newtonsoft.Json.Linq.JObject\r\n$EgJObject.Add(\"TestValue1\", \"123456\")\r\n$EgJObject.Add(\"TestValue2\", \"78910\")\r\n$EgJObject.Add(\"TestValue3\", \"99999\")\r\n$dict = @{}\r\n$dict.Add('JObject', $EgJObject)\r\n$dict.Add('StrObject', 'This is a string Object')\r\n$properties = @{'DictObject' = $dict;\r\n                           'RandomString' = 'A quick brown fox jumped over the lazy dog'}\r\n$object = New-Object -TypeName psobject -Property $properties\r\n$object | ConvertTo-Json\r\n{\r\n    \"RandomString\":  \"A quick brown fox jumped over the lazy dog\",\r\n    \"DictObject\":  {\r\n                       \"JObject\":  [\r\n                                       \"123456\",\r\n                                       \"78910\",\r\n                                       \"99999\"\r\n                                   ],\r\n                       \"StrObject\":  \"This is a string Object\"\r\n                   }\r\n}\r\n\r\nAs you can see, in this case too Under JObject, we should have gotten \r\n\r\n\"JObject\": {\r\n               \"TestValue1\" : \"123456\"\r\n...\r\n\r\n\r\n",
    "created_at": "2017-10-04T02:20:13Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/4996#issuecomment-334032401",
    "id": 334032401,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4996",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNDAzMjQwMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 2,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 2,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/334032401/reactions"
    },
    "updated_at": "2017-10-04T13:55:54Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/334032401",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7491483?v=4",
      "events_url": "https://api.github.com/users/amanarneja/events{/privacy}",
      "followers_url": "https://api.github.com/users/amanarneja/followers",
      "following_url": "https://api.github.com/users/amanarneja/following{/other_user}",
      "gists_url": "https://api.github.com/users/amanarneja/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/amanarneja",
      "id": 7491483,
      "login": "amanarneja",
      "node_id": "MDQ6VXNlcjc0OTE0ODM=",
      "organizations_url": "https://api.github.com/users/amanarneja/orgs",
      "received_events_url": "https://api.github.com/users/amanarneja/received_events",
      "repos_url": "https://api.github.com/users/amanarneja/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/amanarneja/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amanarneja/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/amanarneja"
    }
  },
  {
    "author_association": "NONE",
    "body": "I too am running in to this issue, the biggest time we run in to it is trying to generate compressed json from the output of a `New-AzureRmResourceGroupDeployment` call.",
    "created_at": "2017-10-04T13:51:04Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/4996#issuecomment-334161711",
    "id": 334161711,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4996",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNDE2MTcxMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/334161711/reactions"
    },
    "updated_at": "2017-10-04T13:51:04Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/334161711",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/1425499?v=4",
      "events_url": "https://api.github.com/users/leftler/events{/privacy}",
      "followers_url": "https://api.github.com/users/leftler/followers",
      "following_url": "https://api.github.com/users/leftler/following{/other_user}",
      "gists_url": "https://api.github.com/users/leftler/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/leftler",
      "id": 1425499,
      "login": "leftler",
      "node_id": "MDQ6VXNlcjE0MjU0OTk=",
      "organizations_url": "https://api.github.com/users/leftler/orgs",
      "received_events_url": "https://api.github.com/users/leftler/received_events",
      "repos_url": "https://api.github.com/users/leftler/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/leftler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leftler/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/leftler"
    }
  },
  {
    "author_association": "NONE",
    "body": "Here is a better formatted version of amanarneja's example\r\n\r\n```\r\n$EgJObject = New-Object -TypeName Newtonsoft.Json.Linq.JObject\r\n$EgJObject.Add(\"TestValue1\", \"123456\")\r\n$EgJObject.Add(\"TestValue2\", \"78910\")\r\n$EgJObject.Add(\"TestValue3\", \"99999\")\r\n$dict = @{}\r\n$dict.Add('JObject', $EgJObject)\r\n$dict.Add('StrObject', 'This is a string Object')\r\n$properties = @{'DictObject' = $dict; 'RandomString' = 'A quick brown fox jumped over the lazy dog'}\r\n$object = New-Object -TypeName psobject -Property $properties\r\n$object | ConvertTo-Json\r\n```\r\nThis outputs\r\n```\r\n{\r\n    \"RandomString\":  \"A quick brown fox jumped over the lazy dog\",\r\n    \"DictObject\":  {\r\n                       \"JObject\":  [\r\n                                       \"123456\",\r\n                                       \"78910\",\r\n                                       \"99999\"\r\n                                   ],\r\n                       \"StrObject\":  \"This is a string Object\"\r\n                   }\r\n}\r\n```\r\nThe expected output is\r\n```\r\n{\r\n    \"RandomString\":  \"A quick brown fox jumped over the lazy dog\",\r\n    \"DictObject\":  {\r\n                       \"JObject\": {\r\n                                       \"TestValue1\" : \"123456\"\r\n                                       \"TestValue2\" : \"78910\",\r\n                                       \"TestValue3\" : \"99999\"\r\n                                   },\r\n                       \"StrObject\":  \"This is a string Object\"\r\n                   }\r\n}\r\n```\r\n\r\nAlso if you change the last line to `$object | ConvertTo-Json -depth 4` you get the even worse output\r\n```\r\n{\r\n    \"RandomString\":  \"A quick brown fox jumped over the lazy dog\",\r\n    \"DictObject\":  {\r\n                       \"JObject\":  [\r\n                                       [\r\n                                           [\r\n\r\n                                           ]\r\n                                       ],\r\n                                       [\r\n                                           [\r\n\r\n                                           ]\r\n                                       ],\r\n                                       [\r\n                                           [\r\n\r\n                                           ]\r\n                                       ]\r\n                                   ],\r\n                       \"StrObject\":  \"This is a string Object\"\r\n                   }\r\n}\r\n```\r\n",
    "created_at": "2017-10-04T14:02:09Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/4996#issuecomment-334165303",
    "id": 334165303,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4996",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNDE2NTMwMw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 3,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 3,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/334165303/reactions"
    },
    "updated_at": "2017-10-04T14:07:03Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/334165303",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/1425499?v=4",
      "events_url": "https://api.github.com/users/leftler/events{/privacy}",
      "followers_url": "https://api.github.com/users/leftler/followers",
      "following_url": "https://api.github.com/users/leftler/following{/other_user}",
      "gists_url": "https://api.github.com/users/leftler/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/leftler",
      "id": 1425499,
      "login": "leftler",
      "node_id": "MDQ6VXNlcjE0MjU0OTk=",
      "organizations_url": "https://api.github.com/users/leftler/orgs",
      "received_events_url": "https://api.github.com/users/leftler/received_events",
      "repos_url": "https://api.github.com/users/leftler/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/leftler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leftler/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/leftler"
    }
  },
  {
    "author_association": "NONE",
    "body": "As a work around when you import the module `AzureRM.Resources` it also loads Newtonsoft.Json.dll. So instead of using `$result.Outputs | ConvertTo-Json` you can do\r\n```\r\n[Newtonsoft.Json.JsonConvert]::SerializeObject($result.Outputs, [Newtonsoft.Json.Formatting]::Indented)\r\n```\r\nWithout needing to do any additional importing of types because the library is already loaded. This will give you your expected output as a string.",
    "created_at": "2017-10-18T14:57:25Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/4996#issuecomment-337619751",
    "id": 337619751,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4996",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzYxOTc1MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/337619751/reactions"
    },
    "updated_at": "2017-10-18T14:58:36Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/337619751",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/1425499?v=4",
      "events_url": "https://api.github.com/users/leftler/events{/privacy}",
      "followers_url": "https://api.github.com/users/leftler/followers",
      "following_url": "https://api.github.com/users/leftler/following{/other_user}",
      "gists_url": "https://api.github.com/users/leftler/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/leftler",
      "id": 1425499,
      "login": "leftler",
      "node_id": "MDQ6VXNlcjE0MjU0OTk=",
      "organizations_url": "https://api.github.com/users/leftler/orgs",
      "received_events_url": "https://api.github.com/users/leftler/received_events",
      "repos_url": "https://api.github.com/users/leftler/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/leftler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leftler/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/leftler"
    }
  }
]
