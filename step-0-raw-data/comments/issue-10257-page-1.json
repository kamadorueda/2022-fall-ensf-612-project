[
  {
    "author_association": "CONTRIBUTOR",
    "body": "I'm confused. This doesn't seem in the spirit of what @joeyaiello wrote the committee had decided on the issue:\r\n\r\n>  we believe the risk of changing the \"user PowerShell folder\" across versions/editions of PowerShell and downlevel versions of the OS is too high to take the chance\r\n...\r\n>  it might be worth creating an automatic variable in PowerShell that points to the \"user PowerShell folder\" across platforms.\r\n\r\nI would have expected something more like: \r\n```PowerShell\r\n$ProfileDir = Split-Path $Profile.CurrentUserAllHosts\r\n```\r\n\r\nAnd I would expect it to work the same way _across platforms_ ... why would a feature like this be Windows only?\r\n\r\nInstead, you're going ahead with changes it seems like they ruled out, and making it only work on one OS?",
    "created_at": "2019-07-30T04:21:18Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/10257#issuecomment-516254625",
    "id": 516254625,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10257",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNjI1NDYyNQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/516254625/reactions"
    },
    "updated_at": "2019-07-30T04:21:18Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/516254625",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/192942?v=4",
      "events_url": "https://api.github.com/users/Jaykul/events{/privacy}",
      "followers_url": "https://api.github.com/users/Jaykul/followers",
      "following_url": "https://api.github.com/users/Jaykul/following{/other_user}",
      "gists_url": "https://api.github.com/users/Jaykul/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/Jaykul",
      "id": 192942,
      "login": "Jaykul",
      "node_id": "MDQ6VXNlcjE5Mjk0Mg==",
      "organizations_url": "https://api.github.com/users/Jaykul/orgs",
      "received_events_url": "https://api.github.com/users/Jaykul/received_events",
      "repos_url": "https://api.github.com/users/Jaykul/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/Jaykul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Jaykul/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/Jaykul"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Since this change was not discussed in original issue, concerns different platforms and affects other products this should be designed as an RFC.",
    "created_at": "2019-07-30T05:23:14Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/10257#issuecomment-516266921",
    "id": 516266921,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10257",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNjI2NjkyMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/516266921/reactions"
    },
    "updated_at": "2019-07-30T05:23:14Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/516266921",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "> This doesn't seem in the spirit of what @joeyaiello wrote the committee had decided on the issue...\r\n\r\n@Jaykul: I can't speak for @joeyaiello, but I think you're reading what he said wrong. The PowerShell Team believes the risk of changing the \"user PowerShell folder\" within PowerShell (7), i.e. in the product itself, as a change for everyone, to be too high to take the chance. He goes on to suggest an automatic variable in PowerShell that points to the user PowerShell folder across platforms, which puts the responsibility on the individual. If users change that variable, that's their call.\r\n\r\n> I would have expected something more like:\r\n>\r\n> $ProfileDir = Split-Path $Profile.CurrentUserAllHosts\r\n\r\nThe reason I went with an environment variable instead of a PowerShell automatic variable here is simple: PowerShell profiles and configuration information are both read from the PowerShell user profile folder on PowerShell startup, so it needs to be set _before_ those files are read so that they can be read from the user's desired location. Environment variables are the logical solution for that, so that's how I went.\r\n\r\n> And I would expect it to work the same way across platforms ... why would a feature like this be Windows only?\r\n\r\nI have a use case for this on Windows. I don't have a use case for this on macOS or Linux (other than consistency). I'm not opposed to making the environment variable available for both environments so that users can move their profiles on any system. My decision to stick with Windows was twofold:\r\n\r\n1. It's what was discussed in the issue.\r\n1. When it comes to getting PRs accepted, it has become very clear that a minimalist approach results in less friction...usually.\r\n\r\nThat said, if we want this to be supported universally across all platforms, I will be happy to make that change.\r\n\r\n> Since this change was not discussed in original issue, concerns different platforms and affects other products this should be designed as an RFC.\r\n\r\n@iSazonov: This change absolutely was discussed in the original issue. @joeyaiello just closed the issue afterwards without responding [to the additional comments that were added about the environment variable approach](https://github.com/PowerShell/PowerShell/issues/8069#issuecomment-504178274), probably due to some of the unnecessary noise that showed up on that discussion thread, but regardless, it seems crystal clear (to me at least) that an environment variable is the right way to go to avoid a chicken-and-egg problem due to when files are loaded from the user profile path.\r\n\r\nAs for affecting other products, I have absolutely zero evidence that this will affect other products. I checked the checkbox because in theory it could affect other products, if they're written to use the hardcoded path. Unlike the 6.2.1 and previous scenario, where there is no option for choosing the user profile path to use in PowerShell, and where there is no static property you can look at on some class to see what is chosen (it's just hardcoded internally), this approach gives an environment variable that toolmakers can work with, if they even need to. But as I said, I have no evidence that they need to, and I don't believe the user profile path to be contractual (if it was, why would it be ok that it is being changed between 5.1 and 6.2.1+).",
    "created_at": "2019-07-30T17:48:38Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/10257#issuecomment-516523040",
    "id": 516523040,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10257",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNjUyMzA0MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/516523040/reactions"
    },
    "updated_at": "2019-07-30T17:54:53Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/516523040",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/3515485?v=4",
      "events_url": "https://api.github.com/users/KirkMunro/events{/privacy}",
      "followers_url": "https://api.github.com/users/KirkMunro/followers",
      "following_url": "https://api.github.com/users/KirkMunro/following{/other_user}",
      "gists_url": "https://api.github.com/users/KirkMunro/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/KirkMunro",
      "id": 3515485,
      "login": "KirkMunro",
      "node_id": "MDQ6VXNlcjM1MTU0ODU=",
      "organizations_url": "https://api.github.com/users/KirkMunro/orgs",
      "received_events_url": "https://api.github.com/users/KirkMunro/received_events",
      "repos_url": "https://api.github.com/users/KirkMunro/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/KirkMunro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/KirkMunro/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/KirkMunro"
    }
  },
  {
    "author_association": "NONE",
    "body": "I am seeing an issue where I would like to hard remove the PSModulePath location for my Windows Profile but regenerates after launching a new PowerShell Console. Is this something being worked on in PowerShell 7?",
    "created_at": "2019-08-30T22:49:49Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/10257#issuecomment-526771807",
    "id": 526771807,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10257",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNjc3MTgwNw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/526771807/reactions"
    },
    "updated_at": "2019-08-30T22:49:49Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/526771807",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/14852041?v=4",
      "events_url": "https://api.github.com/users/ctmcisco/events{/privacy}",
      "followers_url": "https://api.github.com/users/ctmcisco/followers",
      "following_url": "https://api.github.com/users/ctmcisco/following{/other_user}",
      "gists_url": "https://api.github.com/users/ctmcisco/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/ctmcisco",
      "id": 14852041,
      "login": "ctmcisco",
      "node_id": "MDQ6VXNlcjE0ODUyMDQx",
      "organizations_url": "https://api.github.com/users/ctmcisco/orgs",
      "received_events_url": "https://api.github.com/users/ctmcisco/received_events",
      "repos_url": "https://api.github.com/users/ctmcisco/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/ctmcisco/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ctmcisco/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/ctmcisco"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@ctmcisco: I would share that comment on PR #10300.",
    "created_at": "2019-08-31T02:57:04Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/10257#issuecomment-526793976",
    "id": 526793976,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10257",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNjc5Mzk3Ng==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/526793976/reactions"
    },
    "updated_at": "2019-08-31T02:57:04Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/526793976",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/3515485?v=4",
      "events_url": "https://api.github.com/users/KirkMunro/events{/privacy}",
      "followers_url": "https://api.github.com/users/KirkMunro/followers",
      "following_url": "https://api.github.com/users/KirkMunro/following{/other_user}",
      "gists_url": "https://api.github.com/users/KirkMunro/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/KirkMunro",
      "id": 3515485,
      "login": "KirkMunro",
      "node_id": "MDQ6VXNlcjM1MTU0ODU=",
      "organizations_url": "https://api.github.com/users/KirkMunro/orgs",
      "received_events_url": "https://api.github.com/users/KirkMunro/received_events",
      "repos_url": "https://api.github.com/users/KirkMunro/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/KirkMunro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/KirkMunro/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/KirkMunro"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "My intent in #8069 when describing an automatic variable was not to make it settable. I know that sounds like desirable behavior to some people, but I worry greatly about the complexity of having your profile location moved from one place to another. Quoting myself:\r\n\r\n> Additionally, migration logic on upgrades (and/or moving/linking to existing folders) is extremely hard to get right 100%, and we don't want to leave users in a broken state\r\n\r\nYou brought up the point about PowerShellGet needing to be updated, and I worry further about having that logic work between versions of PowerShell where this proposed variable is respected and is not respected.\r\n\r\nQuoting @BrucePay: \"when you already have 20 knobs to tweak, adding another knob seems undesirable\". \r\n\r\nAs a workaround, you can detach your home folder from OneDrive, or you can add symlinks to other areas of your filesystem.\r\n\r\nAnd apologies on the mixed language with regard to consensus. It really wasn't my intent in the original statement to give the go-ahead on implementing something. \r\n\r\n@PowerShell/powershell-committee looked over this today, and I don't think it's a path we want to go down for the aforementioned reasons. ",
    "created_at": "2019-09-04T22:18:03Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/10257#issuecomment-528112191",
    "id": 528112191,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10257",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyODExMjE5MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 1,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 2,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/528112191/reactions"
    },
    "updated_at": "2019-09-04T22:18:03Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/528112191",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/1255187?v=4",
      "events_url": "https://api.github.com/users/joeyaiello/events{/privacy}",
      "followers_url": "https://api.github.com/users/joeyaiello/followers",
      "following_url": "https://api.github.com/users/joeyaiello/following{/other_user}",
      "gists_url": "https://api.github.com/users/joeyaiello/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/joeyaiello",
      "id": 1255187,
      "login": "joeyaiello",
      "node_id": "MDQ6VXNlcjEyNTUxODc=",
      "organizations_url": "https://api.github.com/users/joeyaiello/orgs",
      "received_events_url": "https://api.github.com/users/joeyaiello/received_events",
      "repos_url": "https://api.github.com/users/joeyaiello/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/joeyaiello/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joeyaiello/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/joeyaiello"
    }
  }
]
