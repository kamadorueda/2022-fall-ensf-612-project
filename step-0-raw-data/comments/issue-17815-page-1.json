[
  {
    "author_association": "NONE",
    "body": "```\r\n(Get-Content $file) | Select-String -Pattern 'd' -NoEmphasis -Raw -NotMatch | out-file -Path $file \r\n```",
    "created_at": "2022-08-01T23:24:01Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17815#issuecomment-1201834294",
    "id": 1201834294,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17815",
    "node_id": "IC_kwDOAvT7bc5Hook2",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1201834294/reactions"
    },
    "updated_at": "2022-08-01T23:24:01Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1201834294",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/78153320?v=4",
      "events_url": "https://api.github.com/users/237dmitry/events{/privacy}",
      "followers_url": "https://api.github.com/users/237dmitry/followers",
      "following_url": "https://api.github.com/users/237dmitry/following{/other_user}",
      "gists_url": "https://api.github.com/users/237dmitry/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/237dmitry",
      "id": 78153320,
      "login": "237dmitry",
      "node_id": "MDQ6VXNlcjc4MTUzMzIw",
      "organizations_url": "https://api.github.com/users/237dmitry/orgs",
      "received_events_url": "https://api.github.com/users/237dmitry/received_events",
      "repos_url": "https://api.github.com/users/237dmitry/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/237dmitry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/237dmitry/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/237dmitry"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@237dmitry Interesting. That did work, although I'm rather confused as to why.\r\nUsing your answer, I also found that if I first store the output of `Get-Content $file` in a variable, and substitute the variable for the `Get-Content $file` portion of the command, that works as well. So is it really a problem with `Get-Content` instead of with `Select-String`?",
    "created_at": "2022-08-02T02:30:32Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17815#issuecomment-1201944811",
    "id": 1201944811,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17815",
    "node_id": "IC_kwDOAvT7bc5HpDjr",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1201944811/reactions"
    },
    "updated_at": "2022-08-02T02:30:32Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1201944811",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22397984?v=4",
      "events_url": "https://api.github.com/users/charltonstanley/events{/privacy}",
      "followers_url": "https://api.github.com/users/charltonstanley/followers",
      "following_url": "https://api.github.com/users/charltonstanley/following{/other_user}",
      "gists_url": "https://api.github.com/users/charltonstanley/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/charltonstanley",
      "id": 22397984,
      "login": "charltonstanley",
      "node_id": "MDQ6VXNlcjIyMzk3OTg0",
      "organizations_url": "https://api.github.com/users/charltonstanley/orgs",
      "received_events_url": "https://api.github.com/users/charltonstanley/received_events",
      "repos_url": "https://api.github.com/users/charltonstanley/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/charltonstanley/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/charltonstanley/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/charltonstanley"
    }
  },
  {
    "author_association": "NONE",
    "body": "When transferring data from a file through a pipeline, the file is open for reading and writing at the same time. Therefore, it is overwritten before it is fully read. You must first read the file, and then transfer its contents through the pipeline.\r\n\r\nPS. The question is very very old, I think from the birth of Monad (the ancestor of powershell).",
    "created_at": "2022-08-02T06:47:04Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17815#issuecomment-1202085035",
    "id": 1202085035,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17815",
    "node_id": "IC_kwDOAvT7bc5Hplyr",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1202085035/reactions"
    },
    "updated_at": "2022-08-02T07:01:45Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1202085035",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/78153320?v=4",
      "events_url": "https://api.github.com/users/237dmitry/events{/privacy}",
      "followers_url": "https://api.github.com/users/237dmitry/followers",
      "following_url": "https://api.github.com/users/237dmitry/following{/other_user}",
      "gists_url": "https://api.github.com/users/237dmitry/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/237dmitry",
      "id": 78153320,
      "login": "237dmitry",
      "node_id": "MDQ6VXNlcjc4MTUzMzIw",
      "organizations_url": "https://api.github.com/users/237dmitry/orgs",
      "received_events_url": "https://api.github.com/users/237dmitry/received_events",
      "repos_url": "https://api.github.com/users/237dmitry/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/237dmitry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/237dmitry/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/237dmitry"
    }
  },
  {
    "author_association": "NONE",
    "body": "> When transferring data from a file through a pipeline, the file is open for reading and writing at the same time. Therefore, it is overwritten before it is fully read. You must first read the file, and then transfer its contents through the pipeline.\r\n> \r\n> PS. The question is very very old, I think from the birth of Monad (the ancestor of powershell).\r\n\r\nWith the pipeline we have begin process and end steps for each command , \r\nBegin  \r\n- `Get-Content` opens the file for read. \r\n- `Select-String` initializes any regex processor  it needs\r\n- `Out-File` opens the file for write and reset its contents\r\nProcess\r\n- `Get-Content` until we reach the end of the file read a line and output it WOAH! it's an empty file - move to the end block and close the file \r\nEnd \r\n- `Out-File` sees the other steps ending and closes the file too.  \r\n \r\n\r\nPutting () round the `Get` means that value is obtained before the Begin step of the `out` runs \r\n\r\nIf have written things so all the file reads happen in the begin stage AND the reset/re-write part happens in the end block to side step the problem, but I don't of any cmdlets which do that\r\n",
    "created_at": "2022-08-02T12:05:00Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17815#issuecomment-1202397783",
    "id": 1202397783,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17815",
    "node_id": "IC_kwDOAvT7bc5HqyJX",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1202397783/reactions"
    },
    "updated_at": "2022-08-02T12:05:00Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1202397783",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/16209593?v=4",
      "events_url": "https://api.github.com/users/jhoneill/events{/privacy}",
      "followers_url": "https://api.github.com/users/jhoneill/followers",
      "following_url": "https://api.github.com/users/jhoneill/following{/other_user}",
      "gists_url": "https://api.github.com/users/jhoneill/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jhoneill",
      "id": 16209593,
      "login": "jhoneill",
      "node_id": "MDQ6VXNlcjE2MjA5NTkz",
      "organizations_url": "https://api.github.com/users/jhoneill/orgs",
      "received_events_url": "https://api.github.com/users/jhoneill/received_events",
      "repos_url": "https://api.github.com/users/jhoneill/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jhoneill/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jhoneill/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jhoneill"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "Thank you all for the explanations. It's still surprising to me, but if this is normal/expected behavior then it's obviously not a bug.  It's strange...I have been writing scripts for years; have never bumped into this chicken/egg scenario before. Just when you think you know it all... :smile: \r\n\r\nThanks again!",
    "created_at": "2022-08-02T16:11:36Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17815#issuecomment-1202929562",
    "id": 1202929562,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17815",
    "node_id": "IC_kwDOAvT7bc5Hsz-a",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1202929562/reactions"
    },
    "updated_at": "2022-08-02T16:11:36Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1202929562",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22397984?v=4",
      "events_url": "https://api.github.com/users/charltonstanley/events{/privacy}",
      "followers_url": "https://api.github.com/users/charltonstanley/followers",
      "following_url": "https://api.github.com/users/charltonstanley/following{/other_user}",
      "gists_url": "https://api.github.com/users/charltonstanley/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/charltonstanley",
      "id": 22397984,
      "login": "charltonstanley",
      "node_id": "MDQ6VXNlcjIyMzk3OTg0",
      "organizations_url": "https://api.github.com/users/charltonstanley/orgs",
      "received_events_url": "https://api.github.com/users/charltonstanley/received_events",
      "repos_url": "https://api.github.com/users/charltonstanley/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/charltonstanley/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/charltonstanley/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/charltonstanley"
    }
  }
]
