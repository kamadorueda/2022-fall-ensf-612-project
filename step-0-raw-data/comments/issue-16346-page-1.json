[
  {
    "author_association": "CONTRIBUTOR",
    "body": "This breaks the following code:\r\n```powershell\r\n# declare a bunch of variables\r\n[INT] $A, [BOOL] $B = @()\r\n```",
    "created_at": "2021-10-31T19:50:43Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/16346#issuecomment-955781269",
    "id": 955781269,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/16346",
    "node_id": "IC_kwDOAvT7bc44-BCV",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/955781269/reactions"
    },
    "updated_at": "2021-10-31T19:50:43Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/955781269",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/1363094?v=4",
      "events_url": "https://api.github.com/users/yecril71pl/events{/privacy}",
      "followers_url": "https://api.github.com/users/yecril71pl/followers",
      "following_url": "https://api.github.com/users/yecril71pl/following{/other_user}",
      "gists_url": "https://api.github.com/users/yecril71pl/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/yecril71pl",
      "id": 1363094,
      "login": "yecril71pl",
      "node_id": "MDQ6VXNlcjEzNjMwOTQ=",
      "organizations_url": "https://api.github.com/users/yecril71pl/orgs",
      "received_events_url": "https://api.github.com/users/yecril71pl/received_events",
      "repos_url": "https://api.github.com/users/yecril71pl/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/yecril71pl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yecril71pl/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/yecril71pl"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "Workaround (spooky 🤨)\r\n```powershell\r\n[INT] $A, [BOOL] $B = (,$FALSE) * 0X2\r\n```\r\nAnother one, even more spooky:\r\n```powershell\r\n[INT] $A = [BOOL] $B = $FALSE\r\n```",
    "created_at": "2021-10-31T21:41:05Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/16346#issuecomment-955796401",
    "id": 955796401,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/16346",
    "node_id": "IC_kwDOAvT7bc44-Eux",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/955796401/reactions"
    },
    "updated_at": "2021-10-31T21:54:09Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/955796401",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/1363094?v=4",
      "events_url": "https://api.github.com/users/yecril71pl/events{/privacy}",
      "followers_url": "https://api.github.com/users/yecril71pl/followers",
      "following_url": "https://api.github.com/users/yecril71pl/following{/other_user}",
      "gists_url": "https://api.github.com/users/yecril71pl/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/yecril71pl",
      "id": 1363094,
      "login": "yecril71pl",
      "node_id": "MDQ6VXNlcjEzNjMwOTQ=",
      "organizations_url": "https://api.github.com/users/yecril71pl/orgs",
      "received_events_url": "https://api.github.com/users/yecril71pl/received_events",
      "repos_url": "https://api.github.com/users/yecril71pl/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/yecril71pl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yecril71pl/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/yecril71pl"
    }
  },
  {
    "author_association": "NONE",
    "body": "> MetadataError\r\n\r\nCould not reproduce:\r\n```powershell\r\nPS> [bool] $x = $null\r\nPS> -not $x\r\nTrue\r\n\r\nPS> [int] $a, [bool] $b = @()\r\nPS> $a; $b\r\n0\r\nFalse\r\n\r\nPS> [int] $a, [bool] $b = (,$false) * 0x2\r\nPS> $a; $b\r\n0\r\nFalse\r\n\r\nPS> [int] $a = [bool] $b = $false\r\nPS> $a; $b\r\n0\r\nFalse\r\n\r\nPS>  [string] (Get-Host).Version; $IsLinux\r\n7.1.5\r\nTrue\r\n\r\n```",
    "created_at": "2021-10-31T22:45:20Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/16346#issuecomment-955805241",
    "id": 955805241,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/16346",
    "node_id": "IC_kwDOAvT7bc44-G45",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/955805241/reactions"
    },
    "updated_at": "2021-10-31T22:56:35Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/955805241",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/78153320?v=4",
      "events_url": "https://api.github.com/users/237dmitry/events{/privacy}",
      "followers_url": "https://api.github.com/users/237dmitry/followers",
      "following_url": "https://api.github.com/users/237dmitry/following{/other_user}",
      "gists_url": "https://api.github.com/users/237dmitry/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/237dmitry",
      "id": 78153320,
      "login": "237dmitry",
      "node_id": "MDQ6VXNlcjc4MTUzMzIw",
      "organizations_url": "https://api.github.com/users/237dmitry/orgs",
      "received_events_url": "https://api.github.com/users/237dmitry/received_events",
      "repos_url": "https://api.github.com/users/237dmitry/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/237dmitry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/237dmitry/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/237dmitry"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "I am seeing this on 7.2.0-rc.1 -- is this a recent regression? /cc @daxian-dbw \r\n\r\n```\r\nPS> [bool]$a = $null\r\nMetadataError: Cannot convert value \"\" to type \"System.Boolean\". Boolean parameters accept only Boolean values and numbers, such as $True, $False, 1 or 0.\r\n```",
    "created_at": "2021-11-01T12:33:19Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/16346#issuecomment-956195561",
    "id": 956195561,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/16346",
    "node_id": "IC_kwDOAvT7bc44_mLp",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/956195561/reactions"
    },
    "updated_at": "2021-11-01T12:34:01Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/956195561",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "No, this is not a regression. It's the same behavior on PowerShell 7.1.x and even Windows PowerShell 5.1",
    "created_at": "2021-11-01T16:50:22Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/16346#issuecomment-956400739",
    "id": 956400739,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/16346",
    "node_id": "IC_kwDOAvT7bc45AYRj",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/956400739/reactions"
    },
    "updated_at": "2021-11-01T16:50:22Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/956400739",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/127450?v=4",
      "events_url": "https://api.github.com/users/daxian-dbw/events{/privacy}",
      "followers_url": "https://api.github.com/users/daxian-dbw/followers",
      "following_url": "https://api.github.com/users/daxian-dbw/following{/other_user}",
      "gists_url": "https://api.github.com/users/daxian-dbw/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/daxian-dbw",
      "id": 127450,
      "login": "daxian-dbw",
      "node_id": "MDQ6VXNlcjEyNzQ1MA==",
      "organizations_url": "https://api.github.com/users/daxian-dbw/orgs",
      "received_events_url": "https://api.github.com/users/daxian-dbw/received_events",
      "repos_url": "https://api.github.com/users/daxian-dbw/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/daxian-dbw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daxian-dbw/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/daxian-dbw"
    }
  },
  {
    "author_association": "NONE",
    "body": "> It's the same behavior on PowerShell 7.1.x and even Windows PowerShell 5.1\r\n\r\nNo. In pwsh 7.1.5 and in powershell 5.1 there are not any errors:\r\n\r\n![7](https://user-images.githubusercontent.com/78153320/139713996-c789f0a1-4c29-48d7-92cf-a0f7e3fddbc8.png)\r\n![5](https://user-images.githubusercontent.com/78153320/139714038-c42e652f-5484-410a-b149-37b6605047bd.png)\r\n\r\n",
    "created_at": "2021-11-01T17:31:35Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/16346#issuecomment-956435327",
    "id": 956435327,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/16346",
    "node_id": "IC_kwDOAvT7bc45Agt_",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/956435327/reactions"
    },
    "updated_at": "2021-11-01T17:31:35Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/956435327",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/78153320?v=4",
      "events_url": "https://api.github.com/users/237dmitry/events{/privacy}",
      "followers_url": "https://api.github.com/users/237dmitry/followers",
      "following_url": "https://api.github.com/users/237dmitry/following{/other_user}",
      "gists_url": "https://api.github.com/users/237dmitry/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/237dmitry",
      "id": 78153320,
      "login": "237dmitry",
      "node_id": "MDQ6VXNlcjc4MTUzMzIw",
      "organizations_url": "https://api.github.com/users/237dmitry/orgs",
      "received_events_url": "https://api.github.com/users/237dmitry/received_events",
      "repos_url": "https://api.github.com/users/237dmitry/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/237dmitry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/237dmitry/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/237dmitry"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "I see the error in PS 5.1 as well. Not sure what's going on there.\r\n\r\n```ps1\r\nPS> [bool]$a = $null\r\nCannot convert value \"\" to type \"System.Boolean\". Boolean parameters accept only Boolean values and numbers, such as\r\n$True, $False, 1 or 0.\r\nAt line:1 char:1\r\n+ [bool]$a = $null\r\n+ ~~~~~~~~~~~~~~~~\r\n    + CategoryInfo          : MetadataError: (:) [], ArgumentTransformationMetadataException\r\n    + FullyQualifiedErrorId : RuntimeException\r\n```\r\n\r\n(Though, mind you, it reads like it's interpreting the cast as a parameter declaration by the error message it gives.)\r\n\r\nI suspect the error is hidden or nonexistent when it's not declared at script or global scope... Yep. This works:\r\n\r\n```ps1\r\n& { [bool]$a = $null }\r\n```\r\n\r\nBut this does not:\r\n\r\n```ps1\r\n[bool]$a = $null\r\n```\r\n\r\nSo there's an inconsistency here dependent on scoping. I think that probably qualifies as a bug 😁 ",
    "created_at": "2021-11-01T17:41:32Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/16346#issuecomment-956442108",
    "id": 956442108,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/16346",
    "node_id": "IC_kwDOAvT7bc45AiX8",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/956442108/reactions"
    },
    "updated_at": "2021-11-01T17:43:53Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/956442108",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "NONE",
    "body": "> I suspect the error is hidden or nonexistent when it's not declared at script or global scope...\r\n\r\nUnexpectedly, it really is... I was wrong. I prefer to try variables in `& {...}` in order to not to breed them.",
    "created_at": "2021-11-01T17:52:15Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/16346#issuecomment-956449802",
    "id": 956449802,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/16346",
    "node_id": "IC_kwDOAvT7bc45AkQK",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/956449802/reactions"
    },
    "updated_at": "2021-11-01T17:52:15Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/956449802",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/78153320?v=4",
      "events_url": "https://api.github.com/users/237dmitry/events{/privacy}",
      "followers_url": "https://api.github.com/users/237dmitry/followers",
      "following_url": "https://api.github.com/users/237dmitry/following{/other_user}",
      "gists_url": "https://api.github.com/users/237dmitry/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/237dmitry",
      "id": 78153320,
      "login": "237dmitry",
      "node_id": "MDQ6VXNlcjc4MTUzMzIw",
      "organizations_url": "https://api.github.com/users/237dmitry/orgs",
      "received_events_url": "https://api.github.com/users/237dmitry/received_events",
      "repos_url": "https://api.github.com/users/237dmitry/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/237dmitry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/237dmitry/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/237dmitry"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "Yep, when running in local scope, the variable `[bool]$a` is optimized and it doesn't emit error in that case.",
    "created_at": "2021-11-01T17:52:25Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/16346#issuecomment-956449903",
    "id": 956449903,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/16346",
    "node_id": "IC_kwDOAvT7bc45AkRv",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/956449903/reactions"
    },
    "updated_at": "2021-11-01T17:52:25Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/956449903",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/127450?v=4",
      "events_url": "https://api.github.com/users/daxian-dbw/events{/privacy}",
      "followers_url": "https://api.github.com/users/daxian-dbw/followers",
      "following_url": "https://api.github.com/users/daxian-dbw/following{/other_user}",
      "gists_url": "https://api.github.com/users/daxian-dbw/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/daxian-dbw",
      "id": 127450,
      "login": "daxian-dbw",
      "node_id": "MDQ6VXNlcjEyNzQ1MA==",
      "organizations_url": "https://api.github.com/users/daxian-dbw/orgs",
      "received_events_url": "https://api.github.com/users/daxian-dbw/received_events",
      "repos_url": "https://api.github.com/users/daxian-dbw/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/daxian-dbw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daxian-dbw/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/daxian-dbw"
    }
  }
]
