[
  {
    "author_association": "CONTRIBUTOR",
    "body": "I don't believe this is possible with `HttpClient` (the underlying .NET API called by the web cmdlets). `BasicHtmlWebResponseObject.RawContent ` (there is no `HtmlWebResponseObject` in PowerShell Core) is created after the response is already received. We currently do not have access to this in a \"live\" fashion. I think even if we switched to doing an async request, we still wouldn't have any kind of live update for this as the `HttpResponseHeaders` and `HttpContentHeaders` objects are not populated until he response has completed, and that is how we are currently building `RawContent `.\r\n\r\nBaring major changes to the underlying .NET API this won't be feasible and anything we did here would be redundant to the data provided on `BasicHtmlWebResponseObject`.",
    "created_at": "2017-11-28T16:06:17Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5564#issuecomment-347572365",
    "id": 347572365,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5564",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NzU3MjM2NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/347572365/reactions"
    },
    "updated_at": "2017-11-28T16:07:20Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/347572365",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6509955?v=4",
      "events_url": "https://api.github.com/users/markekraus/events{/privacy}",
      "followers_url": "https://api.github.com/users/markekraus/followers",
      "following_url": "https://api.github.com/users/markekraus/following{/other_user}",
      "gists_url": "https://api.github.com/users/markekraus/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/markekraus",
      "id": 6509955,
      "login": "markekraus",
      "node_id": "MDQ6VXNlcjY1MDk5NTU=",
      "organizations_url": "https://api.github.com/users/markekraus/orgs",
      "received_events_url": "https://api.github.com/users/markekraus/received_events",
      "repos_url": "https://api.github.com/users/markekraus/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/markekraus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markekraus/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/markekraus"
    }
  },
  {
    "author_association": "NONE",
    "body": "I don't think it needs to be live data, but -Verbose on Invoke-WebRequest and RestMethod is nearly useless compared to what I think most people /want/ it to do - which is something like above.  For example, the verbose message on POST is always wrong, it says its sending with a -1-byte payload regardless of -Body contents.\r\n\r\nVerbose messages that look like http traces that included the dns lookup results, the headers being sent, maybe the body (or part of the body) would be super helpful in my opinion.\r\n\r\nThe response being part of -Verbose... ehh, not as important to me personally, given we'll have it on the pipeline there anyway.  Could still throw the headers and response code out on Verbose though, or with some additional param like suggested above.   I don't know how verbose is *too* verbose, but what the two cmdlets do now isn't sufficient in my opinion\r\n",
    "created_at": "2018-01-08T20:38:46Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5564#issuecomment-356089018",
    "id": 356089018,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5564",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjA4OTAxOA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/356089018/reactions"
    },
    "updated_at": "2018-01-08T20:38:46Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/356089018",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/5770051?v=4",
      "events_url": "https://api.github.com/users/charlieschmidt/events{/privacy}",
      "followers_url": "https://api.github.com/users/charlieschmidt/followers",
      "following_url": "https://api.github.com/users/charlieschmidt/following{/other_user}",
      "gists_url": "https://api.github.com/users/charlieschmidt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/charlieschmidt",
      "id": 5770051,
      "login": "charlieschmidt",
      "node_id": "MDQ6VXNlcjU3NzAwNTE=",
      "organizations_url": "https://api.github.com/users/charlieschmidt/orgs",
      "received_events_url": "https://api.github.com/users/charlieschmidt/received_events",
      "repos_url": "https://api.github.com/users/charlieschmidt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/charlieschmidt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/charlieschmidt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/charlieschmidt"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@charlieschmidt I agree that the verbose output could use some work. Some of what you suggest may not be possible. Also, I though we fixed the incorrect -1 payload in OS Core?\r\n  \r\n```powershell\r\ninvoke-restmethod -Verbose -Uri https://httpbin.org/post -Method POST -Body 'test'\r\n```\r\n\r\nresult\r\n\r\n```none\r\nVERBOSE: POST https://httpbin.org/post with 4-byte payload\r\nVERBOSE: received 432-byte response of content type application/json\r\nVERBOSE: Content encoding: iso-8859-1\r\n\r\n\r\nargs    :\r\ndata    :\r\nfiles   :\r\nform    : @{test=}\r\nheaders : @{Connection=close; Content-Length=4; Content-Type=application/x-www-form-urlencoded; Host=httpbin.org;\r\n          User-Agent=Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.16299; en-US) PowerShell/6.0.0}\r\njson    :\r\norigin  : 65.36.55.130\r\nurl     : https://httpbin.org/post\r\n```",
    "created_at": "2018-01-08T20:46:44Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5564#issuecomment-356091209",
    "id": 356091209,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5564",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjA5MTIwOQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/356091209/reactions"
    },
    "updated_at": "2018-01-08T20:48:51Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/356091209",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6509955?v=4",
      "events_url": "https://api.github.com/users/markekraus/events{/privacy}",
      "followers_url": "https://api.github.com/users/markekraus/followers",
      "following_url": "https://api.github.com/users/markekraus/following{/other_user}",
      "gists_url": "https://api.github.com/users/markekraus/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/markekraus",
      "id": 6509955,
      "login": "markekraus",
      "node_id": "MDQ6VXNlcjY1MDk5NTU=",
      "organizations_url": "https://api.github.com/users/markekraus/orgs",
      "received_events_url": "https://api.github.com/users/markekraus/received_events",
      "repos_url": "https://api.github.com/users/markekraus/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/markekraus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markekraus/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/markekraus"
    }
  },
  {
    "author_association": "NONE",
    "body": "Yeah my mistake, it was fixed in Core; i switch between Core at home and v5 at work still so it's confusing for me, apologies.\r\n\r\nto me, the perfect result of -Verbose (or hell, -VerboseHeaders ?)  would be something like:\r\n\r\n```\r\nVERBOSE: POST https://httpbin.org/post with 4-byte payload\r\nVERBOSE: Connecting 52.243.164.125 on port 80\r\nVERBOSE: Request Headers:\r\nVERBOSE: Content-Length: 4\r\n...\r\nVERBOSE: Received response status code 200\r\nVERBOSE: Received 432-byte response of content type application/json\r\nVERBOSE: Response Headers:\r\nVERBOSE: Content-Length: 453\r\n...\r\n\r\n\r\nargs    :\r\ndata    :\r\nfiles   :\r\nform    : @{test=}\r\nheaders : @{Connection=close; Content-Length=4; Content-Type=application/x-www-form-urlencoded; Host=httpbin.org;\r\n          User-Agent=Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.16299; en-US) PowerShell/6.0.0}\r\njson    :\r\norigin  : 65.36.55.130\r\nurl     : https://httpbin.org/post\r\n\r\n```\r\n\r\n\r\nDunno.  I suppose that is a lot of info.  But from experience it's rare to want a Verbose web request and not want to see at least some of the headers",
    "created_at": "2018-01-08T21:03:38Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5564#issuecomment-356095657",
    "id": 356095657,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5564",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjA5NTY1Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 3,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 3,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/356095657/reactions"
    },
    "updated_at": "2018-01-08T21:03:38Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/356095657",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/5770051?v=4",
      "events_url": "https://api.github.com/users/charlieschmidt/events{/privacy}",
      "followers_url": "https://api.github.com/users/charlieschmidt/followers",
      "following_url": "https://api.github.com/users/charlieschmidt/following{/other_user}",
      "gists_url": "https://api.github.com/users/charlieschmidt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/charlieschmidt",
      "id": 5770051,
      "login": "charlieschmidt",
      "node_id": "MDQ6VXNlcjU3NzAwNTE=",
      "organizations_url": "https://api.github.com/users/charlieschmidt/orgs",
      "received_events_url": "https://api.github.com/users/charlieschmidt/received_events",
      "repos_url": "https://api.github.com/users/charlieschmidt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/charlieschmidt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/charlieschmidt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/charlieschmidt"
    }
  },
  {
    "author_association": "NONE",
    "body": "Some one should point me to this issue! 😄 \r\n\r\nRelated Stack Overflow question: https://stackoverflow.com/questions/47533798/how-to-show-tls-handshake-information-and-connect-request-in-invoke-webrequest\r\n\r\nI did some research on this repository; I found\r\n\r\nhttps://github.com/PowerShell/PowerShell/blob/13cf8af66734b4119643748f36ed92260ceae7da/src/Microsoft.PowerShell.Commands.Utility/commands/utility/WebCmdlet/CoreCLR/InvokeWebRequestCommand.CoreClr.cs#L16\r\n\r\nSo I searched for `WebRequestPSCmdlet` and found that HTTP is processed in this method:\r\n\r\nhttps://github.com/PowerShell/PowerShell/blob/13cf8af66734b4119643748f36ed92260ceae7da/src/Microsoft.PowerShell.Commands.Utility/commands/utility/WebCmdlet/Common/WebRequestPSCmdlet.Common.cs#L1428\r\n\r\nWhich is using [`System.Net.Http.HttpClient`](https://docs.microsoft.com/en-us/dotnet/api/system.net.http.httpclient?view=netcore-2.1). I'm still reading their documentation to see whether this class provides such detailed information; if they don't then I guess we can do nothing here.",
    "created_at": "2018-12-04T15:41:56Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5564#issuecomment-444145793",
    "id": 444145793,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5564",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NDE0NTc5Mw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/444145793/reactions"
    },
    "updated_at": "2018-12-04T15:41:56Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/444145793",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/3153452?v=4",
      "events_url": "https://api.github.com/users/FranklinYu/events{/privacy}",
      "followers_url": "https://api.github.com/users/FranklinYu/followers",
      "following_url": "https://api.github.com/users/FranklinYu/following{/other_user}",
      "gists_url": "https://api.github.com/users/FranklinYu/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/FranklinYu",
      "id": 3153452,
      "login": "FranklinYu",
      "node_id": "MDQ6VXNlcjMxNTM0NTI=",
      "organizations_url": "https://api.github.com/users/FranklinYu/orgs",
      "received_events_url": "https://api.github.com/users/FranklinYu/received_events",
      "repos_url": "https://api.github.com/users/FranklinYu/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/FranklinYu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/FranklinYu/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/FranklinYu"
    }
  },
  {
    "author_association": "NONE",
    "body": "Is there an update on this issue?  This functionality is still very desirable.",
    "created_at": "2019-07-08T15:16:35Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5564#issuecomment-509268793",
    "id": 509268793,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5564",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwOTI2ODc5Mw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 11,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 11,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/509268793/reactions"
    },
    "updated_at": "2019-07-08T15:16:35Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/509268793",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/49068?v=4",
      "events_url": "https://api.github.com/users/marioja/events{/privacy}",
      "followers_url": "https://api.github.com/users/marioja/followers",
      "following_url": "https://api.github.com/users/marioja/following{/other_user}",
      "gists_url": "https://api.github.com/users/marioja/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/marioja",
      "id": 49068,
      "login": "marioja",
      "node_id": "MDQ6VXNlcjQ5MDY4",
      "organizations_url": "https://api.github.com/users/marioja/orgs",
      "received_events_url": "https://api.github.com/users/marioja/received_events",
      "repos_url": "https://api.github.com/users/marioja/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/marioja/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marioja/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/marioja"
    }
  },
  {
    "author_association": "NONE",
    "body": "Details are required. This information is required for debugging. When the error happened, I don't know what the problem is.\r\n\r\n",
    "created_at": "2019-11-27T10:22:05Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5564#issuecomment-559025409",
    "id": 559025409,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5564",
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1OTAyNTQwOQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/559025409/reactions"
    },
    "updated_at": "2019-11-27T10:22:05Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/559025409",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/26913892?v=4",
      "events_url": "https://api.github.com/users/he852100/events{/privacy}",
      "followers_url": "https://api.github.com/users/he852100/followers",
      "following_url": "https://api.github.com/users/he852100/following{/other_user}",
      "gists_url": "https://api.github.com/users/he852100/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/he852100",
      "id": 26913892,
      "login": "he852100",
      "node_id": "MDQ6VXNlcjI2OTEzODky",
      "organizations_url": "https://api.github.com/users/he852100/orgs",
      "received_events_url": "https://api.github.com/users/he852100/received_events",
      "repos_url": "https://api.github.com/users/he852100/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/he852100/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/he852100/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/he852100"
    }
  },
  {
    "author_association": "NONE",
    "body": "any update for this ???",
    "created_at": "2020-09-07T05:49:14Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5564#issuecomment-688051021",
    "id": 688051021,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5564",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4ODA1MTAyMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/688051021/reactions"
    },
    "updated_at": "2020-09-07T05:49:14Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/688051021",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/19735243?v=4",
      "events_url": "https://api.github.com/users/Zorono/events{/privacy}",
      "followers_url": "https://api.github.com/users/Zorono/followers",
      "following_url": "https://api.github.com/users/Zorono/following{/other_user}",
      "gists_url": "https://api.github.com/users/Zorono/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/Zorono",
      "id": 19735243,
      "login": "Zorono",
      "node_id": "MDQ6VXNlcjE5NzM1MjQz",
      "organizations_url": "https://api.github.com/users/Zorono/orgs",
      "received_events_url": "https://api.github.com/users/Zorono/received_events",
      "repos_url": "https://api.github.com/users/Zorono/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/Zorono/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Zorono/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/Zorono"
    }
  },
  {
    "author_association": "NONE",
    "body": "Any news on this? It's really hard to find out why you webrequest failed if you only get a response code. Would really love to get some more information on what's happening in the background.",
    "created_at": "2021-04-19T08:25:10Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5564#issuecomment-822276968",
    "id": 822276968,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5564",
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMjI3Njk2OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 14,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 14,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/822276968/reactions"
    },
    "updated_at": "2021-04-19T08:25:10Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/822276968",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/10698116?v=4",
      "events_url": "https://api.github.com/users/McGeifer/events{/privacy}",
      "followers_url": "https://api.github.com/users/McGeifer/followers",
      "following_url": "https://api.github.com/users/McGeifer/following{/other_user}",
      "gists_url": "https://api.github.com/users/McGeifer/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/McGeifer",
      "id": 10698116,
      "login": "McGeifer",
      "node_id": "MDQ6VXNlcjEwNjk4MTE2",
      "organizations_url": "https://api.github.com/users/McGeifer/orgs",
      "received_events_url": "https://api.github.com/users/McGeifer/received_events",
      "repos_url": "https://api.github.com/users/McGeifer/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/McGeifer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/McGeifer/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/McGeifer"
    }
  }
]
