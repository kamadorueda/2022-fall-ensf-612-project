[
  {
    "author_association": "NONE",
    "body": "What is `unbuffer`?\r\n\r\n```\r\n> Get-Command unbuffer\r\nGet-Command: The term 'unbuffer' is not recognized as a name of a cmdlet, function, script file, or executable program.\r\nCheck the spelling of the name, or if a path was included, verify that the path is correct and try again.\r\n\r\n > uname -a\r\nLinux mymsi 5.10.15-172.current #1 SMP PREEMPT Fri Feb 12 16:35:57 UTC 2021 x86_64 GNU/Linux\r\n\r\n > lsb_release -a\r\nLSB Version:\t1.4\r\nDistributor ID:\tSolus\r\nDescription:\tSolus\r\nRelease:\t4.2\r\nCodename:\tfortitude\r\n\r\n > (Get-Host).Version.ToString()\r\n7.1.2\r\n```\r\n",
    "created_at": "2021-03-03T07:55:23Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14932#issuecomment-789516854",
    "id": 789516854,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14932",
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4OTUxNjg1NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/789516854/reactions"
    },
    "updated_at": "2021-03-03T07:55:23Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/789516854",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/78153320?v=4",
      "events_url": "https://api.github.com/users/237dmitry/events{/privacy}",
      "followers_url": "https://api.github.com/users/237dmitry/followers",
      "following_url": "https://api.github.com/users/237dmitry/following{/other_user}",
      "gists_url": "https://api.github.com/users/237dmitry/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/237dmitry",
      "id": 78153320,
      "login": "237dmitry",
      "node_id": "MDQ6VXNlcjc4MTUzMzIw",
      "organizations_url": "https://api.github.com/users/237dmitry/orgs",
      "received_events_url": "https://api.github.com/users/237dmitry/received_events",
      "repos_url": "https://api.github.com/users/237dmitry/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/237dmitry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/237dmitry/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/237dmitry"
    }
  },
  {
    "author_association": "NONE",
    "body": "It is a program that uses `expect` to remove the buffering from a program. It comes from the `expect` package. http://manpages.ubuntu.com/manpages/hirsute/en/man1/expect_unbuffer.1.html\r\n\r\nI'm not 100% certain but I think `expect` spawns a TTY in order to do its magic. The same problematic behavior can be replicated by using `expect` at least.\r\n\r\nCreate this script:\r\n\r\n```sh\r\nspawn pwsh\r\nexpect '>'\r\n```\r\n\r\nThen run it: `expect test.sh`.\n\n<blockquote><div><strong><a href=\"http://manpages.ubuntu.com/manpages/hirsute/en/man1/expect_unbuffer.1.html\">Ubuntu Manpage:\n\n       unbuffer - unbuffer output</a></strong></div></blockquote>",
    "created_at": "2021-03-03T15:18:46Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14932#issuecomment-789791139",
    "id": 789791139,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14932",
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4OTc5MTEzOQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/789791139/reactions"
    },
    "updated_at": "2021-03-03T15:18:48Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/789791139",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6819051?v=4",
      "events_url": "https://api.github.com/users/jclariviere/events{/privacy}",
      "followers_url": "https://api.github.com/users/jclariviere/followers",
      "following_url": "https://api.github.com/users/jclariviere/following{/other_user}",
      "gists_url": "https://api.github.com/users/jclariviere/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jclariviere",
      "id": 6819051,
      "login": "jclariviere",
      "node_id": "MDQ6VXNlcjY4MTkwNTE=",
      "organizations_url": "https://api.github.com/users/jclariviere/orgs",
      "received_events_url": "https://api.github.com/users/jclariviere/received_events",
      "repos_url": "https://api.github.com/users/jclariviere/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jclariviere/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jclariviere/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jclariviere"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "This looks like a dupe of https://github.com/PowerShell/PowerShell/issues/11215?",
    "created_at": "2021-03-04T01:06:50Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14932#issuecomment-790202339",
    "id": 790202339,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14932",
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5MDIwMjMzOQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/790202339/reactions"
    },
    "updated_at": "2021-03-04T01:06:50Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/790202339",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "NONE",
    "body": "I think it's similar but in #11215 , the issue seems to happen when you start a subprocess from a powershell console. Here, the issue happens when you start a powershell console as a subprocess from another shell.\r\n\r\nI have made two other observations that I think will help pinpointing the problem:\r\n\r\n- I get similar issues if I connect to a Windows SSH server (connect to a Windows SSH server with python's pexpect for example). The remote shell type I get seems to be cmd.exe and not powershell, so it may not be a powershell-specific issue.\r\n- I don't get the issue if the powershell subprocess is not in a TTY. So it works with python's `subprocess` module for example, but not with `pexpect`. So it seems to be an issue specific to TTYs.",
    "created_at": "2021-03-08T16:32:44Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14932#issuecomment-792881078",
    "id": 792881078,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14932",
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5Mjg4MTA3OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/792881078/reactions"
    },
    "updated_at": "2021-03-08T16:32:44Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/792881078",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6819051?v=4",
      "events_url": "https://api.github.com/users/jclariviere/events{/privacy}",
      "followers_url": "https://api.github.com/users/jclariviere/followers",
      "following_url": "https://api.github.com/users/jclariviere/following{/other_user}",
      "gists_url": "https://api.github.com/users/jclariviere/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jclariviere",
      "id": 6819051,
      "login": "jclariviere",
      "node_id": "MDQ6VXNlcjY4MTkwNTE=",
      "organizations_url": "https://api.github.com/users/jclariviere/orgs",
      "received_events_url": "https://api.github.com/users/jclariviere/received_events",
      "repos_url": "https://api.github.com/users/jclariviere/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jclariviere/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jclariviere/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jclariviere"
    }
  },
  {
    "author_association": "NONE",
    "body": "The output here looks very similar to that caused by https://github.com/PowerShell/PSReadLine/issues/1376. Perhaps similar?",
    "created_at": "2021-03-11T04:30:48Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14932#issuecomment-796441406",
    "id": 796441406,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14932",
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5NjQ0MTQwNg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/796441406/reactions"
    },
    "updated_at": "2021-03-11T04:30:48Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/796441406",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/189190?v=4",
      "events_url": "https://api.github.com/users/DHowett/events{/privacy}",
      "followers_url": "https://api.github.com/users/DHowett/followers",
      "following_url": "https://api.github.com/users/DHowett/following{/other_user}",
      "gists_url": "https://api.github.com/users/DHowett/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/DHowett",
      "id": 189190,
      "login": "DHowett",
      "node_id": "MDQ6VXNlcjE4OTE5MA==",
      "organizations_url": "https://api.github.com/users/DHowett/orgs",
      "received_events_url": "https://api.github.com/users/DHowett/received_events",
      "repos_url": "https://api.github.com/users/DHowett/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/DHowett/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DHowett/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/DHowett"
    }
  },
  {
    "author_association": "NONE",
    "body": "It does seem very similar! TTYs likely don't control a cursor so it could be the same problem. That PSReadLine issue also points to it being a .NET problem and not powershell directly, which would confirm my earlier finding with a Windows SSH server.",
    "created_at": "2021-03-11T16:59:45Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14932#issuecomment-796888065",
    "id": 796888065,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14932",
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5Njg4ODA2NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/796888065/reactions"
    },
    "updated_at": "2021-03-11T16:59:45Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/796888065",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6819051?v=4",
      "events_url": "https://api.github.com/users/jclariviere/events{/privacy}",
      "followers_url": "https://api.github.com/users/jclariviere/followers",
      "following_url": "https://api.github.com/users/jclariviere/following{/other_user}",
      "gists_url": "https://api.github.com/users/jclariviere/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jclariviere",
      "id": 6819051,
      "login": "jclariviere",
      "node_id": "MDQ6VXNlcjY4MTkwNTE=",
      "organizations_url": "https://api.github.com/users/jclariviere/orgs",
      "received_events_url": "https://api.github.com/users/jclariviere/received_events",
      "repos_url": "https://api.github.com/users/jclariviere/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jclariviere/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jclariviere/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jclariviere"
    }
  }
]
