[
  {
    "author_association": "CONTRIBUTOR",
    "body": "The behaviour makes sense to me if you look at the types:\r\n- `@()+$null` starts with an `Object[]` array of underlying base type `System.Array` and adds an item to it, with the value being $null. Similarly, in `C#` you can add `null` to an `IList` or `IEnumarable`\r\n- `$null+@()` starts with `$null`, which is loosely speaking 'nothing' and adding an array to it, means we end up with just the empty array.\r\n\r\nThis behaviour is much better than the one of C# where `null + new object[0]` or `new object[] + null` always ends up being a string with the content `System.Object[]`. My recommendations are:\r\n- Create array first and add only the elements that you want to, including also null checks (make sure `$null` is on the LHS when checking for it, see PSSA rule [PossibleIncorrectComparisonWithNull](https://github.com/PowerShell/PSScriptAnalyzer/blob/development/RuleDocumentation/PossibleIncorrectComparisonWithNull.md) for details, which boils down to unintuitive behaviour when comparing arrays)\r\n- Using `+` and `+=` operators are generally discouraged to be used with PowerShell arrays because they create a new array under the hood (because they use C# arrays that have a fixed size), leading to bad performance for big lists and object references not working as expected any more, see [issue 5805](https://github.com/PowerShell/PowerShell/issues/5805) for details and e.g. this [blog](https://powershell.org/2013/09/16/powershell-performance-the-operator-and-when-to-avoid-it/) for alternatives.\r\nCurrently, there is active work in progress for adding native support for lists in PowerShell with similar user usage to arrays in [issue 5643](https://github.com/PowerShell/PowerShell/issues/5643). 2 PRs trying to add a `[]` or `@[]` syntax failed unfortunately and it currently looks like the final implementation will use type accelerators and we will probably end up with ` [list]@(...)`.",
    "created_at": "2018-02-10T21:47:31Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/6131#issuecomment-364696753",
    "id": 364696753,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/6131",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NDY5Njc1Mw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/364696753/reactions"
    },
    "updated_at": "2018-02-10T21:51:34Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/364696753",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/9250262?v=4",
      "events_url": "https://api.github.com/users/bergmeister/events{/privacy}",
      "followers_url": "https://api.github.com/users/bergmeister/followers",
      "following_url": "https://api.github.com/users/bergmeister/following{/other_user}",
      "gists_url": "https://api.github.com/users/bergmeister/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/bergmeister",
      "id": 9250262,
      "login": "bergmeister",
      "node_id": "MDQ6VXNlcjkyNTAyNjI=",
      "organizations_url": "https://api.github.com/users/bergmeister/orgs",
      "received_events_url": "https://api.github.com/users/bergmeister/received_events",
      "repos_url": "https://api.github.com/users/bergmeister/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/bergmeister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bergmeister/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/bergmeister"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Closing as it is marked \"resolved\" and no ones commented on it for a while.",
    "created_at": "2018-03-30T00:57:54Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/6131#issuecomment-377415615",
    "id": 377415615,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/6131",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzQxNTYxNQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/377415615/reactions"
    },
    "updated_at": "2018-03-30T00:57:54Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/377415615",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6876108?v=4",
      "events_url": "https://api.github.com/users/BrucePay/events{/privacy}",
      "followers_url": "https://api.github.com/users/BrucePay/followers",
      "following_url": "https://api.github.com/users/BrucePay/following{/other_user}",
      "gists_url": "https://api.github.com/users/BrucePay/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/BrucePay",
      "id": 6876108,
      "login": "BrucePay",
      "node_id": "MDQ6VXNlcjY4NzYxMDg=",
      "organizations_url": "https://api.github.com/users/BrucePay/orgs",
      "received_events_url": "https://api.github.com/users/BrucePay/received_events",
      "repos_url": "https://api.github.com/users/BrucePay/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/BrucePay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BrucePay/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/BrucePay"
    }
  }
]
