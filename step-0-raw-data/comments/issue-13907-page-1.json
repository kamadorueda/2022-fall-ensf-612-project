[
  {
    "author_association": "COLLABORATOR",
    "body": "@mklement0 I don't understand why you open the issue if this was approved and implemented as by-design. For several years, no one has brought an important scenario for which it would be worth changing something. As soon as such a scenario appears, we can start a discussion on the merits\r\n",
    "created_at": "2020-10-27T16:01:25Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13907#issuecomment-717345943",
    "id": 717345943,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13907",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNzM0NTk0Mw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/717345943/reactions"
    },
    "updated_at": "2020-10-27T16:01:25Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/717345943",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@iSazonov: Treating a _double-quoted_ `#` as the start of a comment line isn't by design - it is a _bug_, and that's what this issue is about.\r\n\r\nIn no language / file format where `#` is used as the line-initial comment / annotation sigil does `\"#\"` work as well - obviously, it shouldn't.\r\n\r\nThe _correct_ aspect of the approved, by-design changes (_unquoted_ `#`) will continue to function.",
    "created_at": "2020-10-27T17:12:21Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13907#issuecomment-717392999",
    "id": 717392999,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13907",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNzM5Mjk5OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/717392999/reactions"
    },
    "updated_at": "2020-10-27T17:17:34Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/717392999",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@iSazonov, I've updated the OP to make it clearer that this is only about `\"#\"`,  not about `#` - let me know if anything is still unclear.",
    "created_at": "2020-10-27T17:43:18Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13907#issuecomment-717411865",
    "id": 717411865,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13907",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNzQxMTg2NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/717411865/reactions"
    },
    "updated_at": "2020-10-28T12:33:33Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/717411865",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "There one parser is used for all lines and it was design decision.  We would need new parser for header. And we should think about performance too.\r\n\r\nThe code is here https://github.com/PowerShell/PowerShell/blob/dfc591c218ae2647e23577ebd77a380b3193e5f0/src/Microsoft.PowerShell.Commands.Utility/commands/utility/CsvCommands.cs#L1313",
    "created_at": "2020-10-28T04:46:11Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13907#issuecomment-717692234",
    "id": 717692234,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13907",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNzY5MjIzNA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/717692234/reactions"
    },
    "updated_at": "2020-10-28T05:01:35Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/717692234",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "By relabeling to \"up-for-grabs\" I see that you now agree that this should be fixed, but just to spell it out: whether it was by design or not, the current behavior, as described in the OP, is flawed.\r\n\r\nYes, some refactoring is needed, but I'm pretty sure it's not that hard and can be done without a noticeable impact on performance.\r\n\r\nJust to throw a quick idea out there: add a `bool` `out` parameter named `firstValueWasDoubleQuoted` to `ParseNextRecord()` that tells the caller whether the first non-whitespace token was double-quoted - if it was, the row is by definition _not_ a comment.\r\n\r\n",
    "created_at": "2020-10-28T12:41:38Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13907#issuecomment-717906770",
    "id": 717906770,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13907",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNzkwNjc3MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/717906770/reactions"
    },
    "updated_at": "2020-10-28T12:41:38Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/717906770",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  }
]
