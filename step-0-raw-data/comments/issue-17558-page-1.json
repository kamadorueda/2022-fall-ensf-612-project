[
  {
    "author_association": "CONTRIBUTOR",
    "body": "I've ran 50k iterations on 7.2.5 without repro.\r\n@g-chauvel what is the repro machine specs? Is it under high load from some other processes when the PS hang happens?",
    "created_at": "2022-07-13T22:09:19Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17558#issuecomment-1183729251",
    "id": 1183729251,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17558",
    "node_id": "IC_kwDOAvT7bc5GjkZj",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1183729251/reactions"
    },
    "updated_at": "2022-07-13T22:09:19Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1183729251",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11860095?v=4",
      "events_url": "https://api.github.com/users/anmenaga/events{/privacy}",
      "followers_url": "https://api.github.com/users/anmenaga/followers",
      "following_url": "https://api.github.com/users/anmenaga/following{/other_user}",
      "gists_url": "https://api.github.com/users/anmenaga/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/anmenaga",
      "id": 11860095,
      "login": "anmenaga",
      "node_id": "MDQ6VXNlcjExODYwMDk1",
      "organizations_url": "https://api.github.com/users/anmenaga/orgs",
      "received_events_url": "https://api.github.com/users/anmenaga/received_events",
      "repos_url": "https://api.github.com/users/anmenaga/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/anmenaga/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/anmenaga/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/anmenaga"
    }
  },
  {
    "author_association": "NONE",
    "body": "@anmenaga corporate managed PCs with monitoring services and antivirus. Happens at least on 2 different hardware with the same software environment, idle state.\r\n\r\n",
    "created_at": "2022-09-08T13:41:00Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17558#issuecomment-1240734413",
    "id": 1240734413,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17558",
    "node_id": "IC_kwDOAvT7bc5J9BrN",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1240734413/reactions"
    },
    "updated_at": "2022-09-09T07:26:46Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1240734413",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/44832931?v=4",
      "events_url": "https://api.github.com/users/g-chauvel/events{/privacy}",
      "followers_url": "https://api.github.com/users/g-chauvel/followers",
      "following_url": "https://api.github.com/users/g-chauvel/following{/other_user}",
      "gists_url": "https://api.github.com/users/g-chauvel/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/g-chauvel",
      "id": 44832931,
      "login": "g-chauvel",
      "node_id": "MDQ6VXNlcjQ0ODMyOTMx",
      "organizations_url": "https://api.github.com/users/g-chauvel/orgs",
      "received_events_url": "https://api.github.com/users/g-chauvel/received_events",
      "repos_url": "https://api.github.com/users/g-chauvel/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/g-chauvel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/g-chauvel/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/g-chauvel"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@g-chauvel Have the PCs Internet connect? If no please try to disable new PowerShell version check and telemetry.",
    "created_at": "2022-09-09T03:48:05Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17558#issuecomment-1241465440",
    "id": 1241465440,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17558",
    "node_id": "IC_kwDOAvT7bc5J_0Jg",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1241465440/reactions"
    },
    "updated_at": "2022-09-09T03:48:05Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1241465440",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "NONE",
    "body": "@iSazonov \r\nI tried with\r\n```pwsh\r\n$env:POWERSHELL_CLI_TELEMETRY_OPTOUT=1\r\n$env:POWERSHELL_TELEMETRY_OPTOUT=1\r\n$env:POWERSHELL_UPDATECHECK=\"Off\"\r\n$env:POWERSHELL_UPDATECHECK_OPTOUT=1\r\n$env:DOTNET_CLI_TELEMETRY_OPTOUT=1\r\n$env:DOTNET_TELEMETRY_OPTOUT=1\r\n$env:COMPlus_EnableDiagnostics=0\r\n```\r\nsame behavior",
    "created_at": "2022-09-09T07:26:35Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17558#issuecomment-1241605463",
    "id": 1241605463,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17558",
    "node_id": "IC_kwDOAvT7bc5KAWVX",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1241605463/reactions"
    },
    "updated_at": "2022-09-09T07:26:35Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1241605463",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/44832931?v=4",
      "events_url": "https://api.github.com/users/g-chauvel/events{/privacy}",
      "followers_url": "https://api.github.com/users/g-chauvel/followers",
      "following_url": "https://api.github.com/users/g-chauvel/following{/other_user}",
      "gists_url": "https://api.github.com/users/g-chauvel/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/g-chauvel",
      "id": 44832931,
      "login": "g-chauvel",
      "node_id": "MDQ6VXNlcjQ0ODMyOTMx",
      "organizations_url": "https://api.github.com/users/g-chauvel/orgs",
      "received_events_url": "https://api.github.com/users/g-chauvel/received_events",
      "repos_url": "https://api.github.com/users/g-chauvel/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/g-chauvel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/g-chauvel/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/g-chauvel"
    }
  },
  {
    "author_association": "NONE",
    "body": "For anyone else out there, we experienced similar issues but on Linux instead of Windows.\r\n\r\nWe built a private docker image with pwsh 7.2.6 installed. On our nonprod servers the image worked perfectly fine. When we executed 'pwsh' it showed the version and produced a powershell prompt. On our production server when we ran 'pwsh' it just hung indefinitely.\r\n\r\nThis gave us the hint it wasn't really to do with the image itself and more to do with the software running on the servers themselves. Problem was, there was no logs to help us identify what it was.\r\n\r\nJust for debugging purposes we tried the public powershell images too. 'mcr.microsoft.com/powershell:**7.2.2**-ubuntu-18.04' hung indefinitely on the production server but pwsh executed fine on nonprod server. 'mcr.microsoft.com/powershell:**7.1.0**-ubuntu-18.04' worked perfectly fine on both environments. The same behaviour was found on images based off of alpine too.\r\n\r\nWhen trying 'mcr.microsoft.com/powershell:7.3.0-preview.3-ubuntu-18.04' we actually found our issue... We had an error relating to 'Dynatrace OneAgent' which injects itself into Docker containers as part of its monitoring. We had already thought of this and disabled the software but seemingly this wasn't enough.... when we removed that package from the production server, our image with pwsh 7.2.6 (and others) all worked in production again.\r\n\r\nSo for us, the issue was Dynatrace. The version of dynatrace we were running in prod was different to nonprod and this was causing the issues.",
    "created_at": "2022-10-25T21:26:15Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17558#issuecomment-1291162255",
    "id": 1291162255,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17558",
    "node_id": "IC_kwDOAvT7bc5M9ZKP",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1291162255/reactions"
    },
    "updated_at": "2022-10-25T22:22:29Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1291162255",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/18432055?v=4",
      "events_url": "https://api.github.com/users/chrisc96/events{/privacy}",
      "followers_url": "https://api.github.com/users/chrisc96/followers",
      "following_url": "https://api.github.com/users/chrisc96/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrisc96/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/chrisc96",
      "id": 18432055,
      "login": "chrisc96",
      "node_id": "MDQ6VXNlcjE4NDMyMDU1",
      "organizations_url": "https://api.github.com/users/chrisc96/orgs",
      "received_events_url": "https://api.github.com/users/chrisc96/received_events",
      "repos_url": "https://api.github.com/users/chrisc96/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/chrisc96/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrisc96/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/chrisc96"
    }
  }
]
