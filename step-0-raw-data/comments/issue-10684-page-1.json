[
  {
    "author_association": "COLLABORATOR",
    "body": "We send null to MatchSwitch()\r\nhttps://github.com/PowerShell/PowerShell/blob/77ddec161417f98f8f2e57e9e9ef57d00cdc4c98/src/Microsoft.PowerShell.ConsoleHost/host/msh/CommandLineParameterParser.cs#L523-L541\r\n\r\nWe need to issue common user-friendly message.",
    "created_at": "2019-10-03T03:39:17Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/10684#issuecomment-537770499",
    "id": 537770499,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10684",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNzc3MDQ5OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/537770499/reactions"
    },
    "updated_at": "2019-10-03T03:39:17Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/537770499",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@chuanjiao10 I think it is one issue.",
    "created_at": "2019-10-03T09:14:06Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/10684#issuecomment-537860797",
    "id": 537860797,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10684",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNzg2MDc5Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/537860797/reactions"
    },
    "updated_at": "2019-10-03T09:14:06Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/537860797",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@chuanjiao10: \r\n\r\nYour original issue had a misconception about how POSIX-like shells such as Bash evaluate `pwsh -c \"$pid\"`.\r\n\r\nhttps://github.com/PowerShell/PowerShell/issues/10410#issuecomment-537570864 explains the misconception in detail and offers solutions.\r\n\r\nIn short: When you call from Bash, `pwsh -c \"$pid\"`  is effectively the same as `pwsh -c \"\"`, because _Bash_ expands `$pid` and - given that the variable doesn't exist - expands it to the empty string.\r\n\r\n**It is _only_ `pwsh -c \"\"` that is the problem** - that is, passing what (ultimately evaluates to) an _empty string_ to `-c` (`-Command`) from _outside of PowerShell_  - and that's why this issue was created: to focus on the real problem.\r\n\r\n\r\n",
    "created_at": "2019-10-03T12:28:01Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/10684#issuecomment-537923361",
    "id": 537923361,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10684",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNzkyMzM2MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/537923361/reactions"
    },
    "updated_at": "2019-10-03T12:30:31Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/537923361",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "NONE",
    "body": "This doesn't appear to crash on `pwsh -c \"\"` currently but the process exits with 0 with no helpful information.\r\n\r\n`pwsh -c`, however, exits with a code of 64 and a message. The behavior of `pwsh -c \"\"` (empty argument) could be made more consistent with the behavior with no argument (and when invoked from inside of PowerShell).",
    "created_at": "2020-10-17T22:30:26Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/10684#issuecomment-711088400",
    "id": 711088400,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10684",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMTA4ODQwMA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/711088400/reactions"
    },
    "updated_at": "2020-10-17T22:30:26Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/711088400",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/4007197?v=4",
      "events_url": "https://api.github.com/users/mbpreble/events{/privacy}",
      "followers_url": "https://api.github.com/users/mbpreble/followers",
      "following_url": "https://api.github.com/users/mbpreble/following{/other_user}",
      "gists_url": "https://api.github.com/users/mbpreble/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mbpreble",
      "id": 4007197,
      "login": "mbpreble",
      "node_id": "MDQ6VXNlcjQwMDcxOTc=",
      "organizations_url": "https://api.github.com/users/mbpreble/orgs",
      "received_events_url": "https://api.github.com/users/mbpreble/received_events",
      "repos_url": "https://api.github.com/users/mbpreble/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mbpreble/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mbpreble/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mbpreble"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "> The behavior of pwsh -c \"\" (empty argument) could be made more consistent with the behavior with no argument (and when invoked from inside of PowerShell).\r\n\r\nBut \"\" is valid command.",
    "created_at": "2020-10-19T04:37:48Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/10684#issuecomment-711545849",
    "id": 711545849,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10684",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMTU0NTg0OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/711545849/reactions"
    },
    "updated_at": "2020-10-19T04:37:48Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/711545849",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "Agreed, @iSazonov.\r\n\r\nOn further reflection, I think I was wrong about the expected behavior in the OP:\r\n\r\nSince an argument _is_ passed to `-c` in this case, the syntax requirements are met, so we shouldn't treat this the same as neglecting to pass an argument to `-c`.\r\n\r\nAfter the `\"\"` are stripped by PowerShell's CLI, a verbatim empty string remains (as opposed to a string literal representing the empty string). This is effectively the _absence_ of any statement.\r\n\r\nAs a no-op, it is by definition successful, and the exit should be `0`.\r\nThis is consistent with how POSIX-compatible shells handle this case.\r\n\r\nSince the current preview already exhibits this behavior, I think we can close this issue.\r\n\r\nNote that the only reason it behaves differently when called _from PowerShell_ is the broken handling of quoted arguments as described in #1995, which causes empty-string literals not to be passed at all, so that `pwsh -c \"\"` is unexpectedly the same as `pwsh -c`",
    "created_at": "2020-10-19T05:03:03Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/10684#issuecomment-711570881",
    "id": 711570881,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10684",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMTU3MDg4MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/711570881/reactions"
    },
    "updated_at": "2020-10-19T05:06:21Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/711570881",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  }
]
