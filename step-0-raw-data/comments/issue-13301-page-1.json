[
  {
    "author_association": "COLLABORATOR",
    "body": "The error message suggests the content of the script doesn't match the signature. Given that it only happens in PS 6+, my first guess is that the script is encoded in an extended ASCII encoding like CP1252, and PS 6+'s default of UTF-8 has an issue with that. Some first things to check might be:\r\n\r\n- The encoding of the file (notepad.exe is pretty good at guessing this)\r\n- Whether the script has any special characters in it (ones not in the standard 127 ASCII set)",
    "created_at": "2020-07-29T14:19:31Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13301#issuecomment-665693011",
    "id": 665693011,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13301",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NTY5MzAxMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/665693011/reactions"
    },
    "updated_at": "2020-07-29T14:19:31Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/665693011",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7009879?v=4",
      "events_url": "https://api.github.com/users/rjmholt/events{/privacy}",
      "followers_url": "https://api.github.com/users/rjmholt/followers",
      "following_url": "https://api.github.com/users/rjmholt/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjmholt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rjmholt",
      "id": 7009879,
      "login": "rjmholt",
      "node_id": "MDQ6VXNlcjcwMDk4Nzk=",
      "organizations_url": "https://api.github.com/users/rjmholt/orgs",
      "received_events_url": "https://api.github.com/users/rjmholt/received_events",
      "repos_url": "https://api.github.com/users/rjmholt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rjmholt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjmholt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rjmholt"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Wouldn't the authenticode signature be based on the raw bytes of the file and not the string after it's encoded?",
    "created_at": "2020-07-29T22:50:05Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13301#issuecomment-665970052",
    "id": 665970052,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13301",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NTk3MDA1Mg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/665970052/reactions"
    },
    "updated_at": "2020-07-29T22:50:05Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/665970052",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/8462645?v=4",
      "events_url": "https://api.github.com/users/jborean93/events{/privacy}",
      "followers_url": "https://api.github.com/users/jborean93/followers",
      "following_url": "https://api.github.com/users/jborean93/following{/other_user}",
      "gists_url": "https://api.github.com/users/jborean93/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jborean93",
      "id": 8462645,
      "login": "jborean93",
      "node_id": "MDQ6VXNlcjg0NjI2NDU=",
      "organizations_url": "https://api.github.com/users/jborean93/orgs",
      "received_events_url": "https://api.github.com/users/jborean93/received_events",
      "repos_url": "https://api.github.com/users/jborean93/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jborean93/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jborean93/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jborean93"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@TravisEz13 may have a better idea of what's happening here",
    "created_at": "2020-07-29T23:56:54Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13301#issuecomment-665989912",
    "id": 665989912,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13301",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NTk4OTkxMg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/665989912/reactions"
    },
    "updated_at": "2020-07-29T23:56:54Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/665989912",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7009879?v=4",
      "events_url": "https://api.github.com/users/rjmholt/events{/privacy}",
      "followers_url": "https://api.github.com/users/rjmholt/followers",
      "following_url": "https://api.github.com/users/rjmholt/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjmholt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rjmholt",
      "id": 7009879,
      "login": "rjmholt",
      "node_id": "MDQ6VXNlcjcwMDk4Nzk=",
      "organizations_url": "https://api.github.com/users/rjmholt/orgs",
      "received_events_url": "https://api.github.com/users/rjmholt/received_events",
      "repos_url": "https://api.github.com/users/rjmholt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rjmholt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjmholt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rjmholt"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "Does this only happen to `Import-Module`? What about dot-sourcing the file directly? \r\n/cc @PaulHigin for insights.",
    "created_at": "2020-07-31T15:59:10Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13301#issuecomment-667197598",
    "id": 667197598,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13301",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NzE5NzU5OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/667197598/reactions"
    },
    "updated_at": "2020-07-31T15:59:10Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/667197598",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/127450?v=4",
      "events_url": "https://api.github.com/users/daxian-dbw/events{/privacy}",
      "followers_url": "https://api.github.com/users/daxian-dbw/followers",
      "following_url": "https://api.github.com/users/daxian-dbw/following{/other_user}",
      "gists_url": "https://api.github.com/users/daxian-dbw/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/daxian-dbw",
      "id": 127450,
      "login": "daxian-dbw",
      "node_id": "MDQ6VXNlcjEyNzQ1MA==",
      "organizations_url": "https://api.github.com/users/daxian-dbw/orgs",
      "received_events_url": "https://api.github.com/users/daxian-dbw/received_events",
      "repos_url": "https://api.github.com/users/daxian-dbw/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/daxian-dbw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daxian-dbw/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/daxian-dbw"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "> Wouldn't the authenticode signature be based on the raw bytes of the file and not the string after it's encoded?\r\n\r\nUnfortunately, this is exactly wrong.\r\n\r\nPlease make sure the file is UTF-8 and it should resolve the issue.\r\n\r\nThis is also, a windows issue (as in the authenticode code live in windows.). The process for filing those issues in in the bug template.\r\n\r\n> For Windows PowerShell 5.1 issues, suggestions, or feature requests please use the following link instead:\r\nWindows PowerShell [UserVoice](https://windowsserver.uservoice.com/forums/301869-powershell)",
    "created_at": "2020-07-31T17:26:45Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13301#issuecomment-667241867",
    "id": 667241867,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13301",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NzI0MTg2Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/667241867/reactions"
    },
    "updated_at": "2020-07-31T17:29:11Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/667241867",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/10873629?v=4",
      "events_url": "https://api.github.com/users/TravisEz13/events{/privacy}",
      "followers_url": "https://api.github.com/users/TravisEz13/followers",
      "following_url": "https://api.github.com/users/TravisEz13/following{/other_user}",
      "gists_url": "https://api.github.com/users/TravisEz13/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/TravisEz13",
      "id": 10873629,
      "login": "TravisEz13",
      "node_id": "MDQ6VXNlcjEwODczNjI5",
      "organizations_url": "https://api.github.com/users/TravisEz13/orgs",
      "received_events_url": "https://api.github.com/users/TravisEz13/received_events",
      "repos_url": "https://api.github.com/users/TravisEz13/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/TravisEz13/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TravisEz13/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/TravisEz13"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "I filed https://github.com/MicrosoftDocs/PowerShell-Docs/issues/6402 to update the documentation",
    "created_at": "2020-07-31T17:39:34Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13301#issuecomment-667247308",
    "id": 667247308,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13301",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NzI0NzMwOA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/667247308/reactions"
    },
    "updated_at": "2020-07-31T17:39:34Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/667247308",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/10873629?v=4",
      "events_url": "https://api.github.com/users/TravisEz13/events{/privacy}",
      "followers_url": "https://api.github.com/users/TravisEz13/followers",
      "following_url": "https://api.github.com/users/TravisEz13/following{/other_user}",
      "gists_url": "https://api.github.com/users/TravisEz13/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/TravisEz13",
      "id": 10873629,
      "login": "TravisEz13",
      "node_id": "MDQ6VXNlcjEwODczNjI5",
      "organizations_url": "https://api.github.com/users/TravisEz13/orgs",
      "received_events_url": "https://api.github.com/users/TravisEz13/received_events",
      "repos_url": "https://api.github.com/users/TravisEz13/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/TravisEz13/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TravisEz13/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/TravisEz13"
    }
  },
  {
    "author_association": "NONE",
    "body": "> \r\n> \r\n> Does this only happen to `Import-Module`? What about dot-sourcing the file directly?\r\n> /cc @PaulHigin for insights.\r\n\r\nIt happens in dot-sourcing also",
    "created_at": "2020-08-03T06:36:03Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13301#issuecomment-667833197",
    "id": 667833197,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13301",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NzgzMzE5Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/667833197/reactions"
    },
    "updated_at": "2020-08-03T06:36:03Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/667833197",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/18732053?v=4",
      "events_url": "https://api.github.com/users/Ghufz/events{/privacy}",
      "followers_url": "https://api.github.com/users/Ghufz/followers",
      "following_url": "https://api.github.com/users/Ghufz/following{/other_user}",
      "gists_url": "https://api.github.com/users/Ghufz/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/Ghufz",
      "id": 18732053,
      "login": "Ghufz",
      "node_id": "MDQ6VXNlcjE4NzMyMDUz",
      "organizations_url": "https://api.github.com/users/Ghufz/orgs",
      "received_events_url": "https://api.github.com/users/Ghufz/received_events",
      "repos_url": "https://api.github.com/users/Ghufz/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/Ghufz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Ghufz/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/Ghufz"
    }
  }
]
