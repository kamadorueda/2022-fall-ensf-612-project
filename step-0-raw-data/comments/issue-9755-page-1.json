[
  {
    "author_association": "CONTRIBUTOR",
    "body": "I'd like to fix these issues once #8205 is accepted/merged, assuming y'all are OK with them @SteveL-MSFT. Since these changes pertain to interactive use only (`ActionPreference.Inquire` responses cannot be scripted), they would be non-breaking, and they would catch the `ActionPreference.Inquire` feature up to the latest functionality while fixing a bundle of issues in it.",
    "created_at": "2019-05-29T17:00:26Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9755#issuecomment-497022908",
    "id": 497022908,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9755",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NzAyMjkwOA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/497022908/reactions"
    },
    "updated_at": "2019-05-29T17:00:26Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/497022908",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/3515485?v=4",
      "events_url": "https://api.github.com/users/KirkMunro/events{/privacy}",
      "followers_url": "https://api.github.com/users/KirkMunro/followers",
      "following_url": "https://api.github.com/users/KirkMunro/following{/other_user}",
      "gists_url": "https://api.github.com/users/KirkMunro/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/KirkMunro",
      "id": 3515485,
      "login": "KirkMunro",
      "node_id": "MDQ6VXNlcjM1MTU0ODU=",
      "organizations_url": "https://api.github.com/users/KirkMunro/orgs",
      "received_events_url": "https://api.github.com/users/KirkMunro/received_events",
      "repos_url": "https://api.github.com/users/KirkMunro/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/KirkMunro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/KirkMunro/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/KirkMunro"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@KirkMunro First - thanks for the detailed write-up! Second - I haven't had coffee yet so I'm going to ask some stupid questions which you've probably already answered. My main question is why should the inquire prompt have the _same_ behaviour for _different_ kinds of messages? For example, offering \"Yes to all\" makes no sense for a terminating error but it definitely makes sense for non-terminating errors. The goal of `Inquire` was to inspect the messages and then take appropriate action based on that message - skip the message, skip all of the messages, halt execution or enter a subshell/debugger to examine the state of the system to see what's happening, etc. But the set of operations needs to change for different types of messages.  What am I missing?",
    "created_at": "2019-05-29T17:38:25Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9755#issuecomment-497036782",
    "id": 497036782,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9755",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NzAzNjc4Mg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/497036782/reactions"
    },
    "updated_at": "2019-05-29T17:38:25Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/497036782",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/50499275?v=4",
      "events_url": "https://api.github.com/users/bpayette/events{/privacy}",
      "followers_url": "https://api.github.com/users/bpayette/followers",
      "following_url": "https://api.github.com/users/bpayette/following{/other_user}",
      "gists_url": "https://api.github.com/users/bpayette/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/bpayette",
      "id": 50499275,
      "login": "bpayette",
      "node_id": "MDQ6VXNlcjUwNDk5Mjc1",
      "organizations_url": "https://api.github.com/users/bpayette/orgs",
      "received_events_url": "https://api.github.com/users/bpayette/received_events",
      "repos_url": "https://api.github.com/users/bpayette/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/bpayette/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bpayette/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/bpayette"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for coming back so quickly with questions, @bpayette. Since I don't necessarily have all of the history behind why things are the way they are, I often just look at the end user experience. I tried many ways to get `Inquire` with a response of `Yes to All` to actually suppress all further prompts without any success whatsoever. For example, I tried the following, with and without SupportsShouldProcess, and was always prompted for each item, in both PowerShell 5.1 and 6.2 (sorry that I don't have any older versions handy to test this with right now).\r\n\r\n```none\r\nPS C:\\> $ErrorActionPreference = 'Inquire'\r\nPS C:\\> & {[CmdletBinding(SupportsShouldProcess)]param(); gps -id 1234; gps -id 1234}\r\n\r\nConfirm\r\nCannot find a process with the process identifier 1234.\r\n[Y] Yes  [A] Yes to All  [H] Halt Command  [S] Suspend  [?] Help (default is \"Y\"): a\r\ngps : Cannot find a process with the process identifier 1234.\r\nAt line:1 char:51\r\n+ ...  {[CmdletBinding(SupportsShouldProcess)]param(); gps -id 1234; gps -i ...\r\n+                                                      ~~~~~~~~~~~~\r\n+ CategoryInfo          : ObjectNotFound: (1234:Int32) [Get-Process], ProcessCommandException\r\n+ FullyQualifiedErrorId : NoProcessFoundForGivenId,Microsoft.PowerShell.Commands.GetProcessCommand\r\n\r\n\r\nConfirm\r\nCannot find a process with the process identifier 1234.\r\n[Y] Yes  [A] Yes to All  [H] Halt Command  [S] Suspend  [?] Help (default is \"Y\"): a\r\ngps : Cannot find a process with the process identifier 1234.\r\nAt line:1 char:65\r\n+ ... etBinding(SupportsShouldProcess)]param(); gps -id 1234; gps -id 1234}\r\n+                                                             ~~~~~~~~~~~~\r\n+ CategoryInfo          : ObjectNotFound: (1234:Int32) [Get-Process], ProcessCommandException\r\n+ FullyQualifiedErrorId : NoProcessFoundForGivenId,Microsoft.PowerShell.Commands.GetProcessCommand\r\n```\r\n\r\nI'm fine if there need to be some differences between terminating/non-terminating support based on what is possible, but those differences need to be rationalized for today (since this functionality was in version 1.0 and pre-dates the PowerShell debugger), the bugs need to be fixed, the functionality should tie into the debugger instead of having suspend, and the wording and choices needs to be cleaned up.\r\n\r\nI had thought what you described was the original intent until I ran a bunch of tests to figure out why I haven't tried using this functionality in many years, which usually stems from running into issues and realizing it's just broken). Even then, though, if it was working that way, that makes `Inquire` work like a conditional `Confirm` for non-terminating messages, vs like a light-weight debugger prompt for terminating messages? It's certainly confusing. I don't have my heart set on one approach or the other, as long as it is consistent at the least (with obvious technical differences) and rational.\r\n\r\nHere's an example showing how the wording presented right now for non-terminating errors is just odd:\r\n\r\n```none\r\nConfirm\r\nCannot find a process with the process identifier 1234.\r\n[Y] Yes  [A] Yes to All  [H] Halt Command  [S] Suspend  [?] Help (default is \"Y\"):\r\n```\r\n\r\nConfirm what? That it cannot find that process? And the help doesn't really help. Here's what that says:\r\n\r\n```none\r\nY - Continue with only the next step of the operation.\r\nA - Continue with all the steps of the operation.\r\nH - Stop this command.\r\nS - Pause the current pipeline and return to the command prompt. Type \"exit\" to resume the pipeline.\r\n```\r\n\r\nIs `[Y] Yes` really a step like it sounds in the description (i.e. \"_only_ the next step of the operation\")? That's not accurate. Is `[A] Yes to All` really continuing \"with all steps of the operation\"? That's not entirely accurate either. Doesn't that just mean continue, like in the debugger?\r\n\r\nPlus where options can be consistent (i.e. `Halt` vs `Break`), they should be consistent.\r\n\r\nI'll think about this some more with the idea that users should be able to run a command without further prompts if desired. Maybe that should be an explicit option that is very clear in the choices: \"Run to completion\" (maybe ignoring Inquire prompts of any type at that point, not just for the specific message type that occurred).",
    "created_at": "2019-05-29T18:53:11Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9755#issuecomment-497064975",
    "id": 497064975,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9755",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NzA2NDk3NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/497064975/reactions"
    },
    "updated_at": "2019-05-29T18:55:29Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/497064975",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/3515485?v=4",
      "events_url": "https://api.github.com/users/KirkMunro/events{/privacy}",
      "followers_url": "https://api.github.com/users/KirkMunro/followers",
      "following_url": "https://api.github.com/users/KirkMunro/following{/other_user}",
      "gists_url": "https://api.github.com/users/KirkMunro/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/KirkMunro",
      "id": 3515485,
      "login": "KirkMunro",
      "node_id": "MDQ6VXNlcjM1MTU0ODU=",
      "organizations_url": "https://api.github.com/users/KirkMunro/orgs",
      "received_events_url": "https://api.github.com/users/KirkMunro/received_events",
      "repos_url": "https://api.github.com/users/KirkMunro/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/KirkMunro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/KirkMunro/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/KirkMunro"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "Just to share more questions while they are top of mind, to drive this closer to a solution:\r\n\r\n1. What is the benefit of allowing users to Silently Continue an exception (suppressing the message on their screen)? When would you ever gain value from doing that based on `ActionPreference.Inquire`?\r\n1. Would this be a more rational, consistent set of options that could be applied both to terminating and non-terminating errors?\r\n    `[C] Continue [P] Continue without further prompts [S] Stop [D] Debug [?] Help (default is \"C\"):`\r\n\r\nThis answers your question about why they should have the same prompting (terminating vs non-terminating). You're right, `Yes to All` doesn't make sense for terminating. But `Continue` makes sense to both, and `Continue without further prompts` (or better wording) also makes sense to both.\r\n\r\nThis also highlights the confusion with the wording, because what you guys meant by `Silently Continue` here may have been `Continue without further prompts`, but those are two different things, are they not? Because it wouldn't suppress errors like `SilentlyContinue` does...it would just stop the `Inquire` prompting from occurring.",
    "created_at": "2019-05-29T19:10:09Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9755#issuecomment-497071066",
    "id": 497071066,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9755",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NzA3MTA2Ng==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/497071066/reactions"
    },
    "updated_at": "2019-05-29T19:10:29Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/497071066",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/3515485?v=4",
      "events_url": "https://api.github.com/users/KirkMunro/events{/privacy}",
      "followers_url": "https://api.github.com/users/KirkMunro/followers",
      "following_url": "https://api.github.com/users/KirkMunro/following{/other_user}",
      "gists_url": "https://api.github.com/users/KirkMunro/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/KirkMunro",
      "id": 3515485,
      "login": "KirkMunro",
      "node_id": "MDQ6VXNlcjM1MTU0ODU=",
      "organizations_url": "https://api.github.com/users/KirkMunro/orgs",
      "received_events_url": "https://api.github.com/users/KirkMunro/received_events",
      "repos_url": "https://api.github.com/users/KirkMunro/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/KirkMunro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/KirkMunro/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/KirkMunro"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@KirkMunro  \r\n> What is the benefit of allowing users to Silently Continue an exception \r\n\r\nIf you're running a script and you're looking for the nth exception, skipping them until you get to the right one makes sense to me. But you could also `Continue` without much difference in effect.\r\n\r\n> Would this be a more rational, consistent set of options that could be applied both ...\r\n\r\n\"Continue without further prompts\" doesn't make any sense. It's not going to continue the current operation because it was a terminating error. (BTW - the context of these prompts is the current command/pipeline, not the script running the pipeline.)\r\n\r\nAnyway, it sounds like there are significant bugs in the implementation. \"We\" :-) should probably fix the bugs first before deciding to change the behaviour based on a faulty impression of how things work.)\r\n",
    "created_at": "2019-05-31T19:40:39Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9755#issuecomment-497836451",
    "id": 497836451,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9755",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NzgzNjQ1MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/497836451/reactions"
    },
    "updated_at": "2019-05-31T19:40:39Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/497836451",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6876108?v=4",
      "events_url": "https://api.github.com/users/BrucePay/events{/privacy}",
      "followers_url": "https://api.github.com/users/BrucePay/followers",
      "following_url": "https://api.github.com/users/BrucePay/following{/other_user}",
      "gists_url": "https://api.github.com/users/BrucePay/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/BrucePay",
      "id": 6876108,
      "login": "BrucePay",
      "node_id": "MDQ6VXNlcjY4NzYxMDg=",
      "organizations_url": "https://api.github.com/users/BrucePay/orgs",
      "received_events_url": "https://api.github.com/users/BrucePay/received_events",
      "repos_url": "https://api.github.com/users/BrucePay/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/BrucePay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BrucePay/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/BrucePay"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@BrucePay \r\n\r\n> ... it sounds like there are significant bugs in the implementation. \"We\" :-) should probably fix the bugs first before deciding to change the behaviour based on a faulty impression of how things work.\r\n\r\nI'm not completely in agreement with you on that point. I would suggest the following instead:\r\n\r\n1. \"We\" identify all of the intended current behaviours of `ActionPreference.Inquire`. I'm just talking about documentation here. Based on this discussion I think I'm closer to understanding the use cases, but it would be worth putting them to text to make sure it is all covered. You're right that we shouldn't make changes based on a faulty impression of how it works.\r\n1. \"We\" identify the current bugs in the implementation based on the intended current behaviours of the feature. There seem to be multiple significant issues right now.\r\n1. \"We\" revisit the original design and decide if it is still appropriate or not, talk about a new design, and based on that discussion determine if it is better to fix the current issues or just replace what's there with what we really want now.\r\n\r\nThat last point is key for me because `ActionPreference.Inquire` pre-dates the PowerShell debugger, and I believe while it's design may have been well thought out for PowerShell 1.0, I feel it quickly became antiquated and of questionable value in PowerShell 2.0 and later. Since we're approaching PowerShell 7.0, it seems like a great time to turn this questionable-valued feature (that I even suggested in another discussion could probably be yanked from PowerShell, given it's very limited usefulness and buggy implementation) into something that people can and will use. I'd much prefer spending some time on an RFC on a new design that makes more sense for `PowerShell 7` and implementing that design than waste time fixing bugs in a feature that \"nobody uses\" (I literally know no one -- 12 years of working with PowerShell in the community, and aside from when someone would run into `ActionPreference.Inquire` behavior as a result of `-Debug`, which has since been updated such that `-Debug` now just sets `$DebugPreference` to `ActionPreference.Continue`, I've never seen a single person explicitly use `ActionPreference.Inquire`).\r\n\r\nThoughts?",
    "created_at": "2019-06-06T15:29:08Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9755#issuecomment-499544806",
    "id": 499544806,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9755",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5OTU0NDgwNg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/499544806/reactions"
    },
    "updated_at": "2019-06-06T17:00:40Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/499544806",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/3515485?v=4",
      "events_url": "https://api.github.com/users/KirkMunro/events{/privacy}",
      "followers_url": "https://api.github.com/users/KirkMunro/followers",
      "following_url": "https://api.github.com/users/KirkMunro/following{/other_user}",
      "gists_url": "https://api.github.com/users/KirkMunro/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/KirkMunro",
      "id": 3515485,
      "login": "KirkMunro",
      "node_id": "MDQ6VXNlcjM1MTU0ODU=",
      "organizations_url": "https://api.github.com/users/KirkMunro/orgs",
      "received_events_url": "https://api.github.com/users/KirkMunro/received_events",
      "repos_url": "https://api.github.com/users/KirkMunro/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/KirkMunro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/KirkMunro/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/KirkMunro"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "Just to add a data point to this: I [tweeted](https://twitter.com/Poshoholic/status/1136657800074055680) a question about `ActionPreference.Inquire` Thursday last week, which was retweeted a number of times, and not a single person responded. Literally, crickets, so I followed up on it, and have had some responses, confirming that they don't use the feature. It will be interesting to see if other responses show up or not...",
    "created_at": "2019-06-10T19:21:38Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9755#issuecomment-500554920",
    "id": 500554920,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9755",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMDU1NDkyMA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/500554920/reactions"
    },
    "updated_at": "2019-06-10T19:21:38Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/500554920",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/3515485?v=4",
      "events_url": "https://api.github.com/users/KirkMunro/events{/privacy}",
      "followers_url": "https://api.github.com/users/KirkMunro/followers",
      "following_url": "https://api.github.com/users/KirkMunro/following{/other_user}",
      "gists_url": "https://api.github.com/users/KirkMunro/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/KirkMunro",
      "id": 3515485,
      "login": "KirkMunro",
      "node_id": "MDQ6VXNlcjM1MTU0ODU=",
      "organizations_url": "https://api.github.com/users/KirkMunro/orgs",
      "received_events_url": "https://api.github.com/users/KirkMunro/received_events",
      "repos_url": "https://api.github.com/users/KirkMunro/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/KirkMunro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/KirkMunro/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/KirkMunro"
    }
  }
]
