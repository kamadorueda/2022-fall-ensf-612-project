[
  {
    "author_association": "MEMBER",
    "body": "CoreFx has an open issue to add API support: https://github.com/dotnet/corefx/issues/27304\r\n\r\nDepending on how that goes (whether it's Unix specific, for example), perhaps we should consider a `$IsAdmin` automatic variable.",
    "created_at": "2018-07-23T21:50:59Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7343#issuecomment-407212761",
    "id": 407212761,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7343",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzIxMjc2MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 3,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 3,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/407212761/reactions"
    },
    "updated_at": "2018-07-23T21:50:59Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/407212761",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "We have `Test-IsElevated` in out HelpersCommon.psm1.  We could re-implement it on C#. Although the use of `whoami/id` is under question.",
    "created_at": "2018-09-28T10:02:27Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7343#issuecomment-425387630",
    "id": 425387630,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7343",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTM4NzYzMA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/425387630/reactions"
    },
    "updated_at": "2018-09-28T11:23:08Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/425387630",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "Looks like the CoreFx issue was closed and the recommended solution was to:\r\n\r\nhttps://github.com/dotnet/runtime/issues/25118#issuecomment-367407469\r\n\r\n> To check if you are running as `root` on Unix:\r\n> \r\n> 1. add a PackageReference to [Mono.Posix.NETStandard](https://www.nuget.org/packages/Mono.Posix.NETStandard/)\r\n> 2. Change `IsAdminstrator` to the following:\r\n> \r\n> ```cs\r\n>         public static bool IsAdministrator =>\r\n>             RuntimeInformation.IsOSPlatform(OSPlatform.Windows) ?\r\n>                 new WindowsPrincipal(WindowsIdentity.GetCurrent())\r\n>                     .IsInRole(WindowsBuiltInRole.Administrator) :\r\n>                 Mono.Unix.Native.Syscall.geteuid() == 0; \r\n> ```\r\n\r\n",
    "created_at": "2020-10-13T18:35:43Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7343#issuecomment-707932238",
    "id": 707932238,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7343",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNzkzMjIzOA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/707932238/reactions"
    },
    "updated_at": "2020-10-13T18:35:43Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/707932238",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/38873752?v=4",
      "events_url": "https://api.github.com/users/ThomasNieto/events{/privacy}",
      "followers_url": "https://api.github.com/users/ThomasNieto/followers",
      "following_url": "https://api.github.com/users/ThomasNieto/following{/other_user}",
      "gists_url": "https://api.github.com/users/ThomasNieto/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/ThomasNieto",
      "id": 38873752,
      "login": "ThomasNieto",
      "node_id": "MDQ6VXNlcjM4ODczNzUy",
      "organizations_url": "https://api.github.com/users/ThomasNieto/orgs",
      "received_events_url": "https://api.github.com/users/ThomasNieto/received_events",
      "repos_url": "https://api.github.com/users/ThomasNieto/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/ThomasNieto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ThomasNieto/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/ThomasNieto"
    }
  },
  {
    "author_association": "NONE",
    "body": "This is what I landed on:\r\n\r\n```powershell\r\n$isDesktop = ($PSVersionTable.PSEdition -eq \"Desktop\")\r\n\r\nif ($isDesktop -or $IsWindows) {\r\n    $windowsIdentity = [System.Security.Principal.WindowsIdentity]::GetCurrent()\r\n    $windowsPrincipal = new-object 'System.Security.Principal.WindowsPrincipal' $windowsIdentity\r\n    $isAdmin = $windowsPrincipal.IsInRole(\"Administrators\") -eq 1\r\n}\r\nelse {\r\n    $isAdmin = ((& id -u) -eq 0)\r\n}\r\n```\r\n\r\nDoesn't make sense to add a reference to `Mono.Postix.NETStandard` from PowerShell.",
    "created_at": "2020-10-14T02:01:17Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7343#issuecomment-708107690",
    "id": 708107690,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7343",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwODEwNzY5MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/708107690/reactions"
    },
    "updated_at": "2020-10-14T02:01:17Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/708107690",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/16944?v=4",
      "events_url": "https://api.github.com/users/bradwilson/events{/privacy}",
      "followers_url": "https://api.github.com/users/bradwilson/followers",
      "following_url": "https://api.github.com/users/bradwilson/following{/other_user}",
      "gists_url": "https://api.github.com/users/bradwilson/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/bradwilson",
      "id": 16944,
      "login": "bradwilson",
      "node_id": "MDQ6VXNlcjE2OTQ0",
      "organizations_url": "https://api.github.com/users/bradwilson/orgs",
      "received_events_url": "https://api.github.com/users/bradwilson/received_events",
      "repos_url": "https://api.github.com/users/bradwilson/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/bradwilson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bradwilson/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/bradwilson"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "It is better to have in .Net.\r\n\r\n.Net team asks to open new issue with API proposal. If you want to get any progress I suggest to open such issue there while they plans .Net 6.0.",
    "created_at": "2020-10-14T03:30:26Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7343#issuecomment-708133869",
    "id": 708133869,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7343",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwODEzMzg2OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/708133869/reactions"
    },
    "updated_at": "2020-10-14T03:31:51Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/708133869",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "NONE",
    "body": "@iSazonov This doesn't need to be a .NET feature. It could absolutely be a PowerShell feature.",
    "created_at": "2020-10-14T03:33:09Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7343#issuecomment-708134651",
    "id": 708134651,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7343",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwODEzNDY1MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/708134651/reactions"
    },
    "updated_at": "2020-10-14T03:33:09Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/708134651",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/16944?v=4",
      "events_url": "https://api.github.com/users/bradwilson/events{/privacy}",
      "followers_url": "https://api.github.com/users/bradwilson/followers",
      "following_url": "https://api.github.com/users/bradwilson/following{/other_user}",
      "gists_url": "https://api.github.com/users/bradwilson/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/bradwilson",
      "id": 16944,
      "login": "bradwilson",
      "node_id": "MDQ6VXNlcjE2OTQ0",
      "organizations_url": "https://api.github.com/users/bradwilson/orgs",
      "received_events_url": "https://api.github.com/users/bradwilson/received_events",
      "repos_url": "https://api.github.com/users/bradwilson/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/bradwilson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bradwilson/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/bradwilson"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "We prefer to follow .Net in the repository.\r\n\r\nThe API is problematic because it depends on platforms. It should take into account all Unix clones and specific \"platforms\" like WebAssembly/Blazor. This requires complex testing and discussion.\r\n",
    "created_at": "2020-10-14T03:38:39Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7343#issuecomment-708136108",
    "id": 708136108,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7343",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwODEzNjEwOA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/708136108/reactions"
    },
    "updated_at": "2020-10-14T03:38:39Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/708136108",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "We could utilize to implement https://github.com/PowerShell/PowerShell/issues/7343#issuecomment-707932238:\r\n```c#\r\n    [DllImport(\"libc\")]\r\n    public static extern uint geteuid();\r\n```",
    "created_at": "2021-01-15T06:05:23Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7343#issuecomment-760671322",
    "id": 760671322,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7343",
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2MDY3MTMyMg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/760671322/reactions"
    },
    "updated_at": "2021-01-15T06:07:45Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/760671322",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  }
]
