[
  {
    "author_association": "COLLABORATOR",
    "body": "`Export-ModuleMember` will only work as you expect if you omit the `psd1` module spec entirely. From memory, module exports work something like this:\r\n\r\n- If you don't use any `Export-ModuleMember` in the module `psm1`, then a `psd1` module spec file will determine the exported functions via its `FunctionsToExport` key.\r\n- If you do use `Export-ModuleMember` _and_ you have a `psd1`, then you must also name all of the functions that you want exported in the `psd1` as well. You can't omit the `FunctionsToExport` just because you've used `Export-ModuleMember`.\r\n  - The odd thing here is that if you use `Export-ModuleMember` in the `psm1`, then the `psd1` can only export functions that have _also_ been exported with `Export-ModuleMember`.\r\n- If you omit the `psd1` file then the `Export-ModuleMember` statements are solely responsible for what functions are exported from the module.\r\n\r\nThis behaviour and interaction between Export-ModuleMember and a PSD1 file with a module is fairly non-obvious and I'm unsure if it's fully documented.",
    "created_at": "2022-07-20T19:38:11Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17730#issuecomment-1190678484",
    "id": 1190678484,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17730",
    "node_id": "IC_kwDOAvT7bc5G-E_U",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1190678484/reactions"
    },
    "updated_at": "2022-07-20T19:45:05Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1190678484",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "NONE",
    "body": "@vexx32 it does not work the way you've described it in second bullet. if you have `psd1` you can omit `FunctionsToExport ` you can put `*` there, it does not matter, you don't have to put any function names there, if you have `Export-ModuleMember` in `psm1` it takes precedence, as long as you set it like I've describe in my issue, which is not consistent with documentation examples.",
    "created_at": "2022-07-22T14:40:50Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17730#issuecomment-1192644444",
    "id": 1192644444,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17730",
    "node_id": "IC_kwDOAvT7bc5HFk9c",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1192644444/reactions"
    },
    "updated_at": "2022-07-22T14:40:50Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1192644444",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/336719?v=4",
      "events_url": "https://api.github.com/users/maciejw/events{/privacy}",
      "followers_url": "https://api.github.com/users/maciejw/followers",
      "following_url": "https://api.github.com/users/maciejw/following{/other_user}",
      "gists_url": "https://api.github.com/users/maciejw/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/maciejw",
      "id": 336719,
      "login": "maciejw",
      "node_id": "MDQ6VXNlcjMzNjcxOQ==",
      "organizations_url": "https://api.github.com/users/maciejw/orgs",
      "received_events_url": "https://api.github.com/users/maciejw/received_events",
      "repos_url": "https://api.github.com/users/maciejw/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/maciejw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maciejw/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/maciejw"
    }
  },
  {
    "author_association": "NONE",
    "body": "The 3rd bullet point is not working for me either.",
    "created_at": "2022-09-23T18:26:42Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17730#issuecomment-1256536302",
    "id": 1256536302,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17730",
    "node_id": "IC_kwDOAvT7bc5K5Tju",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1256536302/reactions"
    },
    "updated_at": "2022-09-23T18:26:42Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1256536302",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/10394370?v=4",
      "events_url": "https://api.github.com/users/cxc256/events{/privacy}",
      "followers_url": "https://api.github.com/users/cxc256/followers",
      "following_url": "https://api.github.com/users/cxc256/following{/other_user}",
      "gists_url": "https://api.github.com/users/cxc256/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/cxc256",
      "id": 10394370,
      "login": "cxc256",
      "node_id": "MDQ6VXNlcjEwMzk0Mzcw",
      "organizations_url": "https://api.github.com/users/cxc256/orgs",
      "received_events_url": "https://api.github.com/users/cxc256/received_events",
      "repos_url": "https://api.github.com/users/cxc256/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/cxc256/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cxc256/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/cxc256"
    }
  }
]
