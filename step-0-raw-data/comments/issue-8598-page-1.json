[
  {
    "author_association": "COLLABORATOR",
    "body": "This should be relatively straightforward, I should think. Probably have to pick it up in the tokenizer, or potentially the parser if that turns out to be a simpler point to detect it at (as it well might, it having been already neatly chopped into tokens by that point).\r\n\r\nAre there any other keywords that take parameters like this? I can't think of any off the top of my head, but if there _are_ we probably ought to check we don't have a similar error there.",
    "created_at": "2019-01-07T15:40:20Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8598#issuecomment-451976096",
    "id": 451976096,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8598",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MTk3NjA5Ng==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/451976096/reactions"
    },
    "updated_at": "2019-01-07T15:40:20Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/451976096",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "I'm glad to hear it, @vexx32.\r\n\r\nFrom what I can glean from [`about_language_keywords`](https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_language_keywords?view=powershell-6), the only other statement that supports options with the same type of syntax is [`DATA`](https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_data_sections?view=powershell-6), which supports only the `-SupportedCommand` option, which, however, is already parsed as expected: it should and does  permit only _one_ instance of `-SupportedCommand` (to which  an _array_ of command names may be passed).\r\n",
    "created_at": "2019-01-07T16:36:10Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8598#issuecomment-451995798",
    "id": 451995798,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8598",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MTk5NTc5OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/451995798/reactions"
    },
    "updated_at": "2019-01-07T16:37:29Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/451995798",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "I have never even heard that mentioned in passing. Ever. Didn't even know that was a language keyword, and I've read that help doc several times.... wow. Must have just skimmed over it a good many times.\r\n\r\nThat needs a thorough write up... guess I know what I'm doing for next week's blog, haha! That is really nice to know about, thank you!",
    "created_at": "2019-01-07T16:41:34Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8598#issuecomment-451997693",
    "id": 451997693,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8598",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MTk5NzY5Mw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/451997693/reactions"
    },
    "updated_at": "2019-01-07T16:41:34Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/451997693",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@mklement0\r\n> Any combination of conceptually mutually exclusive options -exact, -wildcard, and -regex\r\n\r\nBut they are not _actually_ mutually exclusive. You can specify multiple options and  the last one wins (i.e. order matters). So this is definitely a breaking change. What benefit would we accrue from taking this breaking change?\r\n\r\nFrom a historical perspective, IIRC, in V1, there might have been some thought that these would be switch parameters but because they are language elements instead of parameters, that doesn't work. @JamesWTruher @khansen00  - do you guys remember any more details about this? \r\n\r\n@vexx32 The code is here:\r\n\r\n[Parser.cs:2559](https://github.com/PowerShell/PowerShell/blob/d51b5fdc3087b6eaee1107f76e480027eb4545b4/src/System.Management.Automation/engine/parser/Parser.cs#L2559)\r\n\r\n@mklement0 \r\n> From what I can glean from about_language_keywords, the only other statement that supports options with the same type of syntax is DATA, \r\n\r\nThe DSC `configuration` keyword also takes 'parameters' however as a general rule, we tried to avoid parameters on language elements because they don't behave like proper cmdlet parameters.\r\n",
    "created_at": "2019-01-07T22:11:55Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8598#issuecomment-452100268",
    "id": 452100268,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8598",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MjEwMDI2OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/452100268/reactions"
    },
    "updated_at": "2019-01-07T22:11:55Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/452100268",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6876108?v=4",
      "events_url": "https://api.github.com/users/BrucePay/events{/privacy}",
      "followers_url": "https://api.github.com/users/BrucePay/followers",
      "following_url": "https://api.github.com/users/BrucePay/following{/other_user}",
      "gists_url": "https://api.github.com/users/BrucePay/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/BrucePay",
      "id": 6876108,
      "login": "BrucePay",
      "node_id": "MDQ6VXNlcjY4NzYxMDg=",
      "organizations_url": "https://api.github.com/users/BrucePay/orgs",
      "received_events_url": "https://api.github.com/users/BrucePay/received_events",
      "repos_url": "https://api.github.com/users/BrucePay/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/BrucePay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BrucePay/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/BrucePay"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "They're *functionally* mutually exclusive, though. You can only use one functionality at a time, which makes the suggestions in the current documentation confusing at best, in my opinion.\r\n\r\nWould be interesting to hear any further background on this!",
    "created_at": "2019-01-07T22:30:18Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8598#issuecomment-452105210",
    "id": 452105210,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8598",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MjEwNTIxMA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/452105210/reactions"
    },
    "updated_at": "2019-01-07T22:30:18Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/452105210",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "To add to @vexx32's comment:\r\n\r\nThat they're not _actually_ mutually exclusive is the very reason for creating this issue: they _should_ be, which brings us to **why this change is worth making:**\r\n\r\nIf we prevent nonsensical / pointless use to begin with, we reduce complexity in several respects:\r\n\r\n  * Users are spared from accidentally creating self-contradictory / confusing `switch` statements.\r\n  * Similarly, users reading existing code won't be faced with such statements.\r\n  * There is no need to establish and document precedence rules, whose sole raison d'être is to resolve ambiguity due to self-contradictory / repeated-options use.\r\n  * Users therefore need not be aware of and need not learn these precedence rules.\r\n\r\nAs for **what could break**:\r\n\r\n* Contradictory use: Statements such as `switch -wildcard -regex ...`\r\n  * Clearly, no one should ever have written such a statement, as it betrays a lack of understanding. (Note that programmatic construction of the options (via splatting) doesn't apply to `switch`, leaving `Invoke-Expression` aside, which I don't think we need to worry about). \r\n\r\n* Pointless repetition: Statements such as `switch -wildcard -wildcard ...` and `switch -file 1.txt -file 2.txt ...`\r\n  * Such repetition is benign with the parameterless options, but problematic with `-file` (again, the last one wins) - if there really is concern about breaking such usage, we could limit the change to preventing contradictory use.\r\n\r\n\r\n",
    "created_at": "2019-01-08T12:11:38Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8598#issuecomment-452277041",
    "id": 452277041,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8598",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MjI3NzA0MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/452277041/reactions"
    },
    "updated_at": "2019-01-08T12:11:38Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/452277041",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  }
]
