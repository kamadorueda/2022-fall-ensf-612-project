[
  {
    "author_association": "NONE",
    "body": "Out of curiosity does the same thing happen if you use, say, `invoke-command -scriptblock {vi /etc/profile}`   just thinking it probably happens in a bunch of places and it may be fixable in some but not others.  ",
    "created_at": "2020-04-14T10:11:23Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12307#issuecomment-613350632",
    "id": 613350632,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12307",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMzM1MDYzMg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/613350632/reactions"
    },
    "updated_at": "2020-04-14T10:11:23Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/613350632",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/16209593?v=4",
      "events_url": "https://api.github.com/users/jhoneill/events{/privacy}",
      "followers_url": "https://api.github.com/users/jhoneill/followers",
      "following_url": "https://api.github.com/users/jhoneill/following{/other_user}",
      "gists_url": "https://api.github.com/users/jhoneill/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jhoneill",
      "id": 16209593,
      "login": "jhoneill",
      "node_id": "MDQ6VXNlcjE2MjA5NTkz",
      "organizations_url": "https://api.github.com/users/jhoneill/orgs",
      "received_events_url": "https://api.github.com/users/jhoneill/received_events",
      "repos_url": "https://api.github.com/users/jhoneill/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jhoneill/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jhoneill/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jhoneill"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "`Invoke-History` needs to check if:\r\n\r\n1. It's the last item in the pipeline\r\n1. `this.CommandRuntime.OutputPipe.DownstreamCmdlet` is `Out-Default`\r\n\r\nIf those are true, it should add `Out-Default` to it's nested `PowerShell` instance. If not, it should continue as normal.\r\n\r\nIt may also need to check `ErrorOutputPipe`, and merge the two streams with `Command.MergeMyResults`.",
    "created_at": "2020-04-14T12:39:12Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12307#issuecomment-613418301",
    "id": 613418301,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12307",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMzQxODMwMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/613418301/reactions"
    },
    "updated_at": "2020-04-14T13:19:44Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/613418301",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/24977523?v=4",
      "events_url": "https://api.github.com/users/SeeminglyScience/events{/privacy}",
      "followers_url": "https://api.github.com/users/SeeminglyScience/followers",
      "following_url": "https://api.github.com/users/SeeminglyScience/following{/other_user}",
      "gists_url": "https://api.github.com/users/SeeminglyScience/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SeeminglyScience",
      "id": 24977523,
      "login": "SeeminglyScience",
      "node_id": "MDQ6VXNlcjI0OTc3NTIz",
      "organizations_url": "https://api.github.com/users/SeeminglyScience/orgs",
      "received_events_url": "https://api.github.com/users/SeeminglyScience/received_events",
      "repos_url": "https://api.github.com/users/SeeminglyScience/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SeeminglyScience/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SeeminglyScience/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SeeminglyScience"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "Thanks, @SeeminglyScience.\r\n\r\n@jhoneill, it works fine with `Invoke-Command`; however, you can provoke the symptom with  \r\n`vi /etc/profile | Tee-Object -ov v` (which doesn't make sense to do; exit with ^C).\r\n\r\nP.S.: While this fix is pending,  https://stackoverflow.com/a/61192256/45375 offers a workaround.",
    "created_at": "2020-04-14T12:45:02Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12307#issuecomment-613420900",
    "id": 613420900,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12307",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMzQyMDkwMA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/613420900/reactions"
    },
    "updated_at": "2020-04-14T12:47:30Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/613420900",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": ">  you can provoke the symptom with\r\n> `vi /etc/profile | Tee-Object -ov v` (which doesn't make sense to do; exit with ^C).\r\n\r\nYou probably know this @mklement0, but just to clarify this one is purposeful.  If the native command isn't the last thing in the pipeline then it needs to redirect output so that it can be saved.\r\n",
    "created_at": "2020-04-15T12:15:36Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12307#issuecomment-614001736",
    "id": 614001736,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12307",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDAwMTczNg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/614001736/reactions"
    },
    "updated_at": "2020-04-15T12:15:36Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/614001736",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/24977523?v=4",
      "events_url": "https://api.github.com/users/SeeminglyScience/events{/privacy}",
      "followers_url": "https://api.github.com/users/SeeminglyScience/followers",
      "following_url": "https://api.github.com/users/SeeminglyScience/following{/other_user}",
      "gists_url": "https://api.github.com/users/SeeminglyScience/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SeeminglyScience",
      "id": 24977523,
      "login": "SeeminglyScience",
      "node_id": "MDQ6VXNlcjI0OTc3NTIz",
      "organizations_url": "https://api.github.com/users/SeeminglyScience/orgs",
      "received_events_url": "https://api.github.com/users/SeeminglyScience/received_events",
      "repos_url": "https://api.github.com/users/SeeminglyScience/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SeeminglyScience/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SeeminglyScience/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SeeminglyScience"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "Thanks, @SeeminglyScience, understood. The purpose of the example command was to demonstrate that `Invoke-History` - inappropriately, and unlike `Invoke-Command` - behaves as if its output were redirected (pipeline, file) even when it isn't (and you've fortunately already provided [detailed pointers](https://github.com/PowerShell/PowerShell/issues/12307#issuecomment-613418301) to a fix).",
    "created_at": "2020-04-15T12:23:43Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12307#issuecomment-614005672",
    "id": 614005672,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12307",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDAwNTY3Mg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/614005672/reactions"
    },
    "updated_at": "2020-04-15T12:23:43Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/614005672",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  }
]
