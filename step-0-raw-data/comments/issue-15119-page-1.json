[
  {
    "author_association": "MEMBER",
    "body": "Can you update the description showing what the user was doing, the expected result, and the actual result?",
    "created_at": "2021-03-29T19:23:37Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/15119#issuecomment-809646729",
    "id": 809646729,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15119",
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwOTY0NjcyOQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/809646729/reactions"
    },
    "updated_at": "2021-03-29T19:23:37Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/809646729",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "> Can you update the description showing what the user was doing, the expected result, and the actual result?\r\n\r\nUnfortunately, we don't have details on what the users are doing for this exception to cause. But there have been many exceptions seen in the Watson crash dumps, at this line of code.\r\n\r\n`result = resultRoot.OpenSubKey(remainingPath, writeAccess);`",
    "created_at": "2021-03-29T19:29:38Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/15119#issuecomment-809650540",
    "id": 809650540,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15119",
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwOTY1MDU0MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/809650540/reactions"
    },
    "updated_at": "2021-03-29T19:29:38Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/809650540",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/28543010?v=4",
      "events_url": "https://api.github.com/users/krishnayalavarthi/events{/privacy}",
      "followers_url": "https://api.github.com/users/krishnayalavarthi/followers",
      "following_url": "https://api.github.com/users/krishnayalavarthi/following{/other_user}",
      "gists_url": "https://api.github.com/users/krishnayalavarthi/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/krishnayalavarthi",
      "id": 28543010,
      "login": "krishnayalavarthi",
      "node_id": "MDQ6VXNlcjI4NTQzMDEw",
      "organizations_url": "https://api.github.com/users/krishnayalavarthi/orgs",
      "received_events_url": "https://api.github.com/users/krishnayalavarthi/received_events",
      "repos_url": "https://api.github.com/users/krishnayalavarthi/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/krishnayalavarthi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/krishnayalavarthi/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/krishnayalavarthi"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@krishnayalavarthi Please fix a test  https://dev.azure.com/powershell/PowerShell/_build/results?buildId=75680&view=logs&j=99798060-e5bf-55b9-b3b5-109e6acacce3&t=0050f0b1-14ee-5c4d-b4b0-da6405e3eaf0&l=452\r\n```\r\n     [-] Verify Get-Item on inaccessible path 94ms\r\n        Expected an exception, with FullyQualifiedErrorId 'System.Security.SecurityException,Microsoft.PowerShell.Commands.GetItemCommand' to be thrown, but the FullyQualifiedErrorId was 'GetDynamicParametersException,Microsoft.PowerShell.Commands.GetItemCommand'. from D:\\a\\1\\s\\test\\powershell\\Modules\\Microsoft.PowerShell.Management\\Registry.Tests.ps1:63 char:15\r\n            +             { Get-Item HKLM:\\SAM\\SAM -ErrorAction Stop } | Should -Th …\r\n            +               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n        63:             { Get-Item HKLM:\\SAM\\SAM -ErrorAction Stop } | Should -Throw -ErrorId \"System.Security.SecurityException,Microsoft.PowerShell.Commands.GetItemCommand\"\r\n        at <ScriptBlock>, D:\\a\\1\\s\\test\\powershell\\Modules\\Microsoft.PowerShell.Management\\Registry.Tests.ps1: line 63\r\n```",
    "created_at": "2021-03-31T03:08:13Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/15119#issuecomment-810724227",
    "id": 810724227,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15119",
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxMDcyNDIyNw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/810724227/reactions"
    },
    "updated_at": "2021-03-31T03:19:40Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/810724227",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "I have reviewed all code paths to GetRegkeyForPath() and see **two ones which are not wrapped in try-catch**.\r\nThe rest of the paths are already handling this exception. Before the PR we already have:\r\n```powershell\r\nPS C:\\> Get-Item HKLM:\\SAM\\SAM -ErrorAction Stop\r\n\r\nGet-Item: Requested registry access is not allowed.\r\n\r\nPS C:\\> Get-Error\r\n\r\nType        : System.Management.Automation.ActionPreferenceStopException\r\nErrorRecord :\r\n    Exception             :\r\n        Type       : System.Security.SecurityException\r\n        TargetSite :\r\n            Name          : InternalOpenSubKeyCore\r\n            DeclaringType : Microsoft.Win32.RegistryKey\r\n            MemberType    : Method\r\n            Module        : Microsoft.Win32.Registry.dll\r\n        StackTrace :\r\n   at Microsoft.Win32.RegistryKey.InternalOpenSubKeyCore(String name, Boolean writable)\r\n   at Microsoft.Win32.RegistryKey.OpenSubKey(String name, Boolean writable)\r\n   at Microsoft.PowerShell.Commands.RegistryWrapper.OpenSubKey(String name, Boolean writable) in C:\\Users\\1\\Documents\\G\r\nitHub\\iSazonov\\PowerShell\\src\\System.Management.Automation\\namespaces\\RegistryWrapper.cs:line 177\r\n   at Microsoft.PowerShell.Commands.RegistryProvider.GetRegkeyForPath(String path, Boolean writeAccess) in C:\\Users\\1\\D\r\nocuments\\GitHub\\iSazonov\\PowerShell\\src\\System.Management.Automation\\namespaces\\RegistryProvider.cs:line 3555\r\n   at Microsoft.PowerShell.Commands.RegistryProvider.GetRegkeyForPathWriteIfError(String path, Boolean writeAccess) in\r\nC:\\Users\\1\\Documents\\GitHub\\iSazonov\\PowerShell\\src\\System.Management.Automation\\namespaces\\RegistryProvider.cs:line 34\r\n41\r\n        Message    : Requested registry access is not allowed.\r\n        Source     : Microsoft.Win32.Registry\r\n        HResult    : -2146233078\r\n    TargetObject          : HKEY_LOCAL_MACHINE\\SAM\\SAM\r\n    CategoryInfo          : PermissionDenied: (HKEY_LOCAL_MACHINE\\SAM\\SAM:String) [Get-Item], SecurityException\r\n    FullyQualifiedErrorId : System.Security.SecurityException,Microsoft.PowerShell.Commands.GetItemCommand\r\n    InvocationInfo        :\r\n        MyCommand        : Get-Item\r\n        ScriptLineNumber : 1\r\n        OffsetInLine     : 1\r\n        HistoryId        : 6\r\n        Line             : Get-Item HKLM:\\SAM\\SAM -ErrorAction Stop\r\n        PositionMessage  : At line:1 char:1\r\n                           + Get-Item HKLM:\\SAM\\SAM -ErrorAction Stop\r\n                           + ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n        InvocationName   : Get-Item\r\n        CommandOrigin    : Internal\r\n    ScriptStackTrace      : at <ScriptBlock>, <No file>: line 1\r\n    PipelineIterationInfo :\r\n```\r\n\r\nThis suggests that the PR fix is ​​not correct and we need to investigate the problem deeper into the original application.\r\nI guess a root of the issue is in one from two code paths to GetRegkeyForPath() which are not wrapped in try-catch.",
    "created_at": "2021-03-31T03:28:46Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/15119#issuecomment-810731101",
    "id": 810731101,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15119",
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxMDczMTEwMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/810731101/reactions"
    },
    "updated_at": "2021-03-31T03:28:46Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/810731101",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "I guess we will wait and investigate further.",
    "created_at": "2021-03-31T04:13:52Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/15119#issuecomment-810745824",
    "id": 810745824,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15119",
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxMDc0NTgyNA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/810745824/reactions"
    },
    "updated_at": "2021-03-31T04:13:52Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/810745824",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/28543010?v=4",
      "events_url": "https://api.github.com/users/krishnayalavarthi/events{/privacy}",
      "followers_url": "https://api.github.com/users/krishnayalavarthi/followers",
      "following_url": "https://api.github.com/users/krishnayalavarthi/following{/other_user}",
      "gists_url": "https://api.github.com/users/krishnayalavarthi/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/krishnayalavarthi",
      "id": 28543010,
      "login": "krishnayalavarthi",
      "node_id": "MDQ6VXNlcjI4NTQzMDEw",
      "organizations_url": "https://api.github.com/users/krishnayalavarthi/orgs",
      "received_events_url": "https://api.github.com/users/krishnayalavarthi/received_events",
      "repos_url": "https://api.github.com/users/krishnayalavarthi/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/krishnayalavarthi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/krishnayalavarthi/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/krishnayalavarthi"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "I convert the PR to Draft until we get more information about original issue.",
    "created_at": "2021-04-02T06:46:14Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/15119#issuecomment-812354319",
    "id": 812354319,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15119",
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxMjM1NDMxOQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/812354319/reactions"
    },
    "updated_at": "2021-04-02T06:46:14Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/812354319",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "NONE",
    "body": "This pull request has been automatically marked as stale because it has been marked as requiring author feedback but has not had any activity for **15 days**. It will be closed if no further activity occurs **within 10 days of this comment**.",
    "created_at": "2021-04-20T08:00:05Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/15119#issuecomment-823066665",
    "id": 823066665,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15119",
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMzA2NjY2NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/823066665/reactions"
    },
    "updated_at": "2021-04-20T08:00:05Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/823066665",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/in/26612?v=4",
      "events_url": "https://api.github.com/users/msftbot%5Bbot%5D/events{/privacy}",
      "followers_url": "https://api.github.com/users/msftbot%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/msftbot%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/msftbot%5Bbot%5D/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/apps/msftbot",
      "id": 48340428,
      "login": "msftbot[bot]",
      "node_id": "MDM6Qm90NDgzNDA0Mjg=",
      "organizations_url": "https://api.github.com/users/msftbot%5Bbot%5D/orgs",
      "received_events_url": "https://api.github.com/users/msftbot%5Bbot%5D/received_events",
      "repos_url": "https://api.github.com/users/msftbot%5Bbot%5D/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/msftbot%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/msftbot%5Bbot%5D/subscriptions",
      "type": "Bot",
      "url": "https://api.github.com/users/msftbot%5Bbot%5D"
    }
  }
]
