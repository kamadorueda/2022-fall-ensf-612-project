[
  {
    "author_association": "MEMBER",
    "body": "Best that I can tell, `OperationTimeout` is only used for [WSMan operations](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-wsmv/10a60f39-7bb8-49b3-a4dc-2de481fef094) and not used at the PSSession layer.  I think what you want is https://github.com/PowerShell/PowerShell/issues/5434",
    "created_at": "2021-06-30T23:22:23Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15696#issuecomment-871789272",
    "id": 871789272,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15696",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MTc4OTI3Mg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/871789272/reactions"
    },
    "updated_at": "2021-06-30T23:22:23Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/871789272",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "> Best that I can tell, `OperationTimeout` is only used for [WSMan operations](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-wsmv/10a60f39-7bb8-49b3-a4dc-2de481fef094) and not used at the PSSession layer. I think what you want is #5434\r\n\r\nHaving both could confuse users.",
    "created_at": "2021-07-01T03:38:54Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15696#issuecomment-871888912",
    "id": 871888912,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15696",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MTg4ODkxMg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/871888912/reactions"
    },
    "updated_at": "2021-07-01T03:38:54Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/871888912",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "NONE",
    "body": "> > Best that I can tell, `OperationTimeout` is only used for [WSMan operations](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-wsmv/10a60f39-7bb8-49b3-a4dc-2de481fef094) and not used at the PSSession layer. I think what you want is #5434\r\n> \r\n> Having both could confuse users.\r\n\r\n**It definitely does.**\r\n\r\nMy confusion is really straightforward and I can't see how anyone else will not be confused the same way:\r\n\r\n[New-PsSession](https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/new-pssession?view=powershell-7.1) accepts a `-SessionOption` parameter (`PsSessionOption`)\r\n[New-PsSessionOption](https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/new-pssessionoption?view=powershell-7.1) creates a `PsSessionOption` which configures a set of different settings, among them timeout, one of them being `OperationTimeout`. Should I not naturally assume creating a `PsSessionOption` setting `OperationTimeout` should affect the `New-PsSession` created by passing this very `PsSessionOption` as a parameter ?\r\n\r\nThis `WSMan`/`PsSession` layer background is not something a simple powershell user knows of, especially if it is not mentioned in the docs, say, `PsSessionOption` parameters.",
    "created_at": "2021-07-01T07:09:26Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15696#issuecomment-871985528",
    "id": 871985528,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15696",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MTk4NTUyOA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 2,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 2,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/871985528/reactions"
    },
    "updated_at": "2021-07-01T07:44:57Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/871985528",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/8343258?v=4",
      "events_url": "https://api.github.com/users/Veverke/events{/privacy}",
      "followers_url": "https://api.github.com/users/Veverke/followers",
      "following_url": "https://api.github.com/users/Veverke/following{/other_user}",
      "gists_url": "https://api.github.com/users/Veverke/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/Veverke",
      "id": 8343258,
      "login": "Veverke",
      "node_id": "MDQ6VXNlcjgzNDMyNTg=",
      "organizations_url": "https://api.github.com/users/Veverke/orgs",
      "received_events_url": "https://api.github.com/users/Veverke/received_events",
      "repos_url": "https://api.github.com/users/Veverke/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/Veverke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Veverke/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/Veverke"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "> Should I not naturally assume creating a PsSessionOption setting OperationTimeout should affect the New-PsSession created by passing this very PsSessionOption as a parameter ?\r\n\r\nIt does affect the PSSession created when it's a WSMan one but the operation timeout isn't what you think it is. It's the timeout for how long the WSMan server can take before it responds back with some data. Where this is actually used is in the `Receive` requests that PowerShell is sending to the server. The request will wait until either there is data to send back to the client or the operation timeout is hit. The standard operation is to just resend the `Receive` request when a timeout is received as that is bound to happen with any long running script. The only time `-OperationTimeout` would actually cause a failure here is if the time it took to create the actual shell/command took longer than that value. The actual running of the command is not affected.\r\n\r\nWhat this really needs is a doc update to clarify what `-OperationTimeout` affects, mostly nothing.",
    "created_at": "2021-07-02T19:40:10Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15696#issuecomment-873220777",
    "id": 873220777,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15696",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MzIyMDc3Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 2,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 2,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/873220777/reactions"
    },
    "updated_at": "2021-07-02T19:40:10Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/873220777",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/8462645?v=4",
      "events_url": "https://api.github.com/users/jborean93/events{/privacy}",
      "followers_url": "https://api.github.com/users/jborean93/followers",
      "following_url": "https://api.github.com/users/jborean93/following{/other_user}",
      "gists_url": "https://api.github.com/users/jborean93/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jborean93",
      "id": 8462645,
      "login": "jborean93",
      "node_id": "MDQ6VXNlcjg0NjI2NDU=",
      "organizations_url": "https://api.github.com/users/jborean93/orgs",
      "received_events_url": "https://api.github.com/users/jborean93/received_events",
      "repos_url": "https://api.github.com/users/jborean93/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jborean93/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jborean93/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jborean93"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Yeah, I don't think `OperationTimeout` is the greatest description of that from a user perspective. If anything, that sounds more like implementation detail than anything that really needs to be user facing.",
    "created_at": "2021-07-02T20:19:02Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15696#issuecomment-873237626",
    "id": 873237626,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15696",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MzIzNzYyNg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 2,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 2,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/873237626/reactions"
    },
    "updated_at": "2021-07-02T20:19:02Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/873237626",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "NONE",
    "body": "> > Should I not naturally assume creating a PsSessionOption setting OperationTimeout should affect the New-PsSession created by passing this very PsSessionOption as a parameter ?\r\n> \r\n> It does affect the PSSession created when it's a WSMan one but the operation timeout isn't what you think it is. It's the timeout for how long the WSMan server can take before it responds back with some data. Where this is actually used is in the `Receive` requests that PowerShell is sending to the server. The request will wait until either there is data to send back to the client or the operation timeout is hit. The standard operation is to just resend the `Receive` request when a timeout is received as that is bound to happen with any long running script. The only time `-OperationTimeout` would actually cause a failure here is if the time it took to create the actual shell/command took longer than that value. The actual running of the command is not affected.\r\n> \r\n> What this really needs is a doc update to clarify what `-OperationTimeout` affects, mostly nothing.\r\n\r\nThanks a lot for that (by the way [this ](https://www.bloggingforlogging.com/2020/08/21/wacky-wsman-on-linux/)article you wrote was already of much help in the past, on a different issue). In case you have a StackOverflow account, you can leave this as an answer [here](https://stackoverflow.com/q/68176305/1219280).",
    "created_at": "2021-07-04T07:18:17Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15696#issuecomment-873536613",
    "id": 873536613,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15696",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MzUzNjYxMw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/873536613/reactions"
    },
    "updated_at": "2021-07-04T07:18:17Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/873536613",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/8343258?v=4",
      "events_url": "https://api.github.com/users/Veverke/events{/privacy}",
      "followers_url": "https://api.github.com/users/Veverke/followers",
      "following_url": "https://api.github.com/users/Veverke/following{/other_user}",
      "gists_url": "https://api.github.com/users/Veverke/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/Veverke",
      "id": 8343258,
      "login": "Veverke",
      "node_id": "MDQ6VXNlcjgzNDMyNTg=",
      "organizations_url": "https://api.github.com/users/Veverke/orgs",
      "received_events_url": "https://api.github.com/users/Veverke/received_events",
      "repos_url": "https://api.github.com/users/Veverke/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/Veverke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Veverke/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/Veverke"
    }
  },
  {
    "author_association": "NONE",
    "body": "@jborean93 : if you are correct, how do we understand the script excerpt mentioned above taken from Bruce Payette's Powershell book (code excerpt (screenshot) [here](https://stackoverflow.com/q/68176305/1219280))?\r\n\r\nHow do I know if I am using `WSMan` or `PsSession` ? I mean the script itself is based on a `PsSession`. Yet, the book example does seem to infer `OperationTimeout` does affect the duration of the Invoke-Command.\r\n\r\nI think this is the last bit missing to completely solve this issue.",
    "created_at": "2021-07-04T08:56:24Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15696#issuecomment-873549566",
    "id": 873549566,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15696",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MzU0OTU2Ng==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/873549566/reactions"
    },
    "updated_at": "2021-07-04T09:25:42Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/873549566",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/8343258?v=4",
      "events_url": "https://api.github.com/users/Veverke/events{/privacy}",
      "followers_url": "https://api.github.com/users/Veverke/followers",
      "following_url": "https://api.github.com/users/Veverke/following{/other_user}",
      "gists_url": "https://api.github.com/users/Veverke/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/Veverke",
      "id": 8343258,
      "login": "Veverke",
      "node_id": "MDQ6VXNlcjgzNDMyNTg=",
      "organizations_url": "https://api.github.com/users/Veverke/orgs",
      "received_events_url": "https://api.github.com/users/Veverke/received_events",
      "repos_url": "https://api.github.com/users/Veverke/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/Veverke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Veverke/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/Veverke"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "> how do we understand the script excerpt mentioned above taken from Bruce Payette's Powershell book (code excerpt (screenshot) here)?\r\n\r\nHonestly I don't know why it says what it says. I've tested all the way back to PowerShell v2 and the behaviour that occurs today is the same as it is in 7.1. Maybe it was tested with some internal build I'm honestly not sure. If you do find out then I'm definitely interested to hear what it was.\r\n\r\n> How do I know if I am using WSMan or PsSession ? I mean the script itself is based on a PsSession. Yet, the book example does seem to infer OperationTimeout does affect the duration of the Invoke-Command.\r\n\r\nEssentially everything before powershell v5 used WSMan. All the options in `New-PSSessionOption` relate to WSMan settings and AFAIK don't affect any of the other transports added. You know it's WSMan because the session was created with `-ComputerName`. SSH uses `-HostName`, Hyper-V direct uses `-VMName`, etc.\r\n\r\nI'm unsure what the usual process is here but I assume the issue should be raised on https://github.com/MicrosoftDocs/PowerShell-Docs as that is where this information lives.\r\n\r\n<blockquote><img src=\"https://repository-images.githubusercontent.com/44411511/850abe80-7ca6-11e9-886f-a1b13b275ae0\" width=\"48\" align=\"right\"><div><img src=\"https://github.githubassets.com/favicons/favicon.svg\" height=\"14\"> GitHub</div><div><strong><a href=\"https://github.com/MicrosoftDocs/PowerShell-Docs\">MicrosoftDocs/PowerShell-Docs</a></strong></div><div>The official PowerShell documentation sources. Contribute to MicrosoftDocs/PowerShell-Docs development by creating an account on GitHub.</div></blockquote>",
    "created_at": "2021-07-09T05:12:43Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15696#issuecomment-876919143",
    "id": 876919143,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15696",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NjkxOTE0Mw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/876919143/reactions"
    },
    "updated_at": "2021-07-12T21:37:05Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/876919143",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/8462645?v=4",
      "events_url": "https://api.github.com/users/jborean93/events{/privacy}",
      "followers_url": "https://api.github.com/users/jborean93/followers",
      "following_url": "https://api.github.com/users/jborean93/following{/other_user}",
      "gists_url": "https://api.github.com/users/jborean93/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jborean93",
      "id": 8462645,
      "login": "jborean93",
      "node_id": "MDQ6VXNlcjg0NjI2NDU=",
      "organizations_url": "https://api.github.com/users/jborean93/orgs",
      "received_events_url": "https://api.github.com/users/jborean93/received_events",
      "repos_url": "https://api.github.com/users/jborean93/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jborean93/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jborean93/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jborean93"
    }
  }
]
