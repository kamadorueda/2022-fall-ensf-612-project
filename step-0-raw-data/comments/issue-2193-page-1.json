[
  {
    "author_association": "NONE",
    "body": "Excellent write-up Stephen! I can second Stephen's frustration with this issue!\n",
    "created_at": "2016-09-07T11:16:32Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2193#issuecomment-245250044",
    "id": 245250044,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2193",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NTI1MDA0NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/245250044/reactions"
    },
    "updated_at": "2016-09-07T11:16:32Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/245250044",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6998507?v=4",
      "events_url": "https://api.github.com/users/mattmcnabb/events{/privacy}",
      "followers_url": "https://api.github.com/users/mattmcnabb/followers",
      "following_url": "https://api.github.com/users/mattmcnabb/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattmcnabb/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mattmcnabb",
      "id": 6998507,
      "login": "mattmcnabb",
      "node_id": "MDQ6VXNlcjY5OTg1MDc=",
      "organizations_url": "https://api.github.com/users/mattmcnabb/orgs",
      "received_events_url": "https://api.github.com/users/mattmcnabb/received_events",
      "repos_url": "https://api.github.com/users/mattmcnabb/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mattmcnabb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattmcnabb/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mattmcnabb"
    }
  },
  {
    "author_association": "NONE",
    "body": "I've definitely been bitten by this. \n",
    "created_at": "2016-09-07T14:22:30Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2193#issuecomment-245296226",
    "id": 245296226,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2193",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NTI5NjIyNg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/245296226/reactions"
    },
    "updated_at": "2016-09-07T14:22:30Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/245296226",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/813422?v=4",
      "events_url": "https://api.github.com/users/ngetchell/events{/privacy}",
      "followers_url": "https://api.github.com/users/ngetchell/followers",
      "following_url": "https://api.github.com/users/ngetchell/following{/other_user}",
      "gists_url": "https://api.github.com/users/ngetchell/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/ngetchell",
      "id": 813422,
      "login": "ngetchell",
      "node_id": "MDQ6VXNlcjgxMzQyMg==",
      "organizations_url": "https://api.github.com/users/ngetchell/orgs",
      "received_events_url": "https://api.github.com/users/ngetchell/received_events",
      "repos_url": "https://api.github.com/users/ngetchell/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/ngetchell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ngetchell/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/ngetchell"
    }
  },
  {
    "author_association": "NONE",
    "body": "Same as the above, also using a helper function to get the error response stream. Hope the fix doesn't break those modules though, but even if it does it would be worth it not having to deal with it everytime.\n\nGreat write-up!\n",
    "created_at": "2016-09-07T16:14:23Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2193#issuecomment-245334031",
    "id": 245334031,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2193",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NTMzNDAzMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/245334031/reactions"
    },
    "updated_at": "2016-09-07T16:14:23Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/245334031",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/5821559?v=4",
      "events_url": "https://api.github.com/users/AWahlqvist/events{/privacy}",
      "followers_url": "https://api.github.com/users/AWahlqvist/followers",
      "following_url": "https://api.github.com/users/AWahlqvist/following{/other_user}",
      "gists_url": "https://api.github.com/users/AWahlqvist/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/AWahlqvist",
      "id": 5821559,
      "login": "AWahlqvist",
      "node_id": "MDQ6VXNlcjU4MjE1NTk=",
      "organizations_url": "https://api.github.com/users/AWahlqvist/orgs",
      "received_events_url": "https://api.github.com/users/AWahlqvist/received_events",
      "repos_url": "https://api.github.com/users/AWahlqvist/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/AWahlqvist/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AWahlqvist/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/AWahlqvist"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Essentially, if we just remove one line\r\n\r\n```\r\nresponse.EnsureSuccessStatusCode();\r\n```\r\n\r\nhttps://github.com/PowerShell/PowerShell/blob/aa764dd54edd5b214eb1fcb67aba5370014e7663/src/Microsoft.PowerShell.Commands.Utility/commands/utility/WebCmdlet/CoreCLR/WebRequestPSCmdlet.CoreClr.cs#L350\r\n\r\nwe will get a pretty decent output.\r\nFor example:\r\n\r\n```\r\n     Reading web response                                                                                                                                          StatusCode        : 400e stream... (Number of bytes read: 229)                                                                                                     StatusDescription : BadRequest                                                                                                                                     Content           : Error in call to API function \"team/get_info\": Bad HTTP \"Content-Type\" header: \"application/x-www-form-urlencoded\".  Expecting one of \r\n                    \"application/json\", \"application/json; charset=utf-8\", \"text/plain...\r\nRawContent        : HTTP/1.1 400 BadRequest\r\n                    Server: nginx\r\n                    Date: Sat, 11 Feb 2017 06:39:47 GMT\r\n                    Connection: keep-alive\r\n                    User-Agent: \r\n                    \r\n                    Error in call to API function \"tea...\r\nForms             : \r\nHeaders           : {[Server, System.String[]], [Date, System.String[]], [Connection, System.String[]], [User-Agent, System.String[]]...}\r\nImages            : {}\r\nInputFields       : {}\r\nLinks             : {}\r\nParsedHtml        : \r\nRawContentLength  : 229\r\n```",
    "created_at": "2017-02-11T06:40:34Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2193#issuecomment-279125767",
    "id": 279125767,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2193",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTEyNTc2Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/279125767/reactions"
    },
    "updated_at": "2017-02-11T06:40:34Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/279125767",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/816680?v=4",
      "events_url": "https://api.github.com/users/vors/events{/privacy}",
      "followers_url": "https://api.github.com/users/vors/followers",
      "following_url": "https://api.github.com/users/vors/following{/other_user}",
      "gists_url": "https://api.github.com/users/vors/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vors",
      "id": 816680,
      "login": "vors",
      "node_id": "MDQ6VXNlcjgxNjY4MA==",
      "organizations_url": "https://api.github.com/users/vors/orgs",
      "received_events_url": "https://api.github.com/users/vors/received_events",
      "repos_url": "https://api.github.com/users/vors/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vors/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vors"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Btw, in the FullCLR version there is no call to it.",
    "created_at": "2017-02-11T06:41:50Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2193#issuecomment-279125804",
    "id": 279125804,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2193",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTEyNTgwNA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/279125804/reactions"
    },
    "updated_at": "2017-02-11T06:41:50Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/279125804",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/816680?v=4",
      "events_url": "https://api.github.com/users/vors/events{/privacy}",
      "followers_url": "https://api.github.com/users/vors/followers",
      "following_url": "https://api.github.com/users/vors/following{/other_user}",
      "gists_url": "https://api.github.com/users/vors/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vors",
      "id": 816680,
      "login": "vors",
      "node_id": "MDQ6VXNlcjgxNjY4MA==",
      "organizations_url": "https://api.github.com/users/vors/orgs",
      "received_events_url": "https://api.github.com/users/vors/received_events",
      "repos_url": "https://api.github.com/users/vors/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vors/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vors"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "Here's the experience I have coded up, feedback welcome:\r\n\r\n```powershell\r\nPS /home/steve/repos/PowerShell> invoke-webrequest http://httpstat.us/418       \r\ninvoke-webrequest : 418 I'm a teapot\r\nAt line:1 char:1\r\n+ invoke-webrequest http://httpstat.us/418\r\n+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    + CategoryInfo          : InvalidOperation: (Method: GET, Re...rShell/6.0. \r\n   0\r\n}:HttpRequestMessage) [Invoke-WebRequest], I'm a teapot\r\n    + FullyQualifiedErrorId : 418,Microsoft.PowerShell.Commands.InvokeWebReque \r\n   stCommand\r\nPS /home/steve/repos/PowerShell> $e.FullyQualifiedErrorId                       \r\n418,Microsoft.PowerShell.Commands.InvokeWebRequestCommand\r\n```",
    "created_at": "2017-02-13T20:15:45Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2193#issuecomment-279509084",
    "id": 279509084,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2193",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTUwOTA4NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 2,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 2,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/279509084/reactions"
    },
    "updated_at": "2017-02-13T20:15:45Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/279509084",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "The content of the response is stuffed into the Message property of the ErrorDetail and the HTTP Status Code is in the front of the FullyQualifiedErrorId.  Response headers are thrown away (not sure if there's any useful case when you receive an error from the server).",
    "created_at": "2017-02-14T19:39:40Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2193#issuecomment-279812865",
    "id": 279812865,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2193",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTgxMjg2NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/279812865/reactions"
    },
    "updated_at": "2017-02-14T19:39:40Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/279812865",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "> HTTP Status Code is in the front of the FullyQualifiedErrorId\r\n\r\nNot sure that's a good idea.",
    "created_at": "2017-02-15T04:10:20Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2193#issuecomment-279912229",
    "id": 279912229,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2193",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3OTkxMjIyOQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/279912229/reactions"
    },
    "updated_at": "2017-02-15T04:10:20Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/279912229",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/816680?v=4",
      "events_url": "https://api.github.com/users/vors/events{/privacy}",
      "followers_url": "https://api.github.com/users/vors/followers",
      "following_url": "https://api.github.com/users/vors/following{/other_user}",
      "gists_url": "https://api.github.com/users/vors/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vors",
      "id": 816680,
      "login": "vors",
      "node_id": "MDQ6VXNlcjgxNjY4MA==",
      "organizations_url": "https://api.github.com/users/vors/orgs",
      "received_events_url": "https://api.github.com/users/vors/received_events",
      "repos_url": "https://api.github.com/users/vors/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vors/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vors"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@vors, open to suggestions.  Could prefix with `HttpStatus`, but then it's more parsing for scripts that want the actual code",
    "created_at": "2017-02-15T17:33:16Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2193#issuecomment-280080061",
    "id": 280080061,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2193",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDA4MDA2MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/280080061/reactions"
    },
    "updated_at": "2017-02-15T17:33:16Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/280080061",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@PowerShell/powershell-committee (subset of @HemantMahawar @lzybkr @khansen00 and myself) think that the most important piece is that you're able to get at the `Response` property of the exception as you can in FullCLR:\r\n\r\nWhen running `Invoke-WebRequest http://httpstat.us/418`, the behavior currently differs between Core and Full:\r\n\r\nFullCLR:\r\n```\r\nPS C:\\Users\\jaiello> $error[1].exception.response\r\n\r\n\r\nIsMutuallyAuthenticated : False\r\nCookies                 : {ARRAffinity=ce89bc5d89e3eae7a38e90a2582b973f890225b3bddc47e95c77a1d7831a8a71}\r\nHeaders                 : {X-AspNetMvc-Version, Access-Control-Allow-Origin, Content-Length, Cache-Control...}\r\nSupportsHeaders         : True\r\nContentLength           : 16\r\nContentEncoding         :\r\nContentType             : text/plain; charset=utf-8\r\nCharacterSet            : utf-8\r\nServer                  : Microsoft-IIS/8.0\r\nLastModified            : 2/15/2017 4:16:36 PM\r\nStatusCode              : 418\r\nStatusDescription       : I'm a teapot\r\nProtocolVersion         : 1.1\r\nResponseUri             : http://httpstat.us/418\r\nMethod                  : GET\r\nIsFromCache             : False\r\n```\r\n\r\nCoreCLR:\r\n```\r\nPS C:\\Program Files\\PowerShell\\6.0.0.15> $error[0].exception | fl -force *\r\n\r\n\r\nMessage        : Response status code does not indicate success: 418 (I'm a teapot).\r\nData           : {}\r\nInnerException :\r\nTargetSite     : System.Net.Http.HttpResponseMessage EnsureSuccessStatusCode()\r\nStackTrace     :    at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n                    at Microsoft.PowerShell.Commands.WebRequestPSCmdlet.ProcessRecord()\r\nHelpLink       :\r\nSource         : System.Net.Http\r\nHResult        : -2146233088\r\n```",
    "created_at": "2017-02-16T00:21:48Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2193#issuecomment-280187451",
    "id": 280187451,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2193",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDE4NzQ1MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 2,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 2,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/280187451/reactions"
    },
    "updated_at": "2017-02-16T00:21:48Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/280187451",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/1255187?v=4",
      "events_url": "https://api.github.com/users/joeyaiello/events{/privacy}",
      "followers_url": "https://api.github.com/users/joeyaiello/followers",
      "following_url": "https://api.github.com/users/joeyaiello/following{/other_user}",
      "gists_url": "https://api.github.com/users/joeyaiello/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/joeyaiello",
      "id": 1255187,
      "login": "joeyaiello",
      "node_id": "MDQ6VXNlcjEyNTUxODc=",
      "organizations_url": "https://api.github.com/users/joeyaiello/orgs",
      "received_events_url": "https://api.github.com/users/joeyaiello/received_events",
      "repos_url": "https://api.github.com/users/joeyaiello/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/joeyaiello/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joeyaiello/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/joeyaiello"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "The experience won't be exactly the same as the coreClr types are different, but it's improved and similar:\r\n\r\n```powershell\r\nPS /home/steve/repos/PowerShell> invoke-webrequest http://httpstat.us/418                                     \r\ninvoke-webrequest : Response status code does not indicate success: 418 (I'm a teapot).\r\nAt line:1 char:1\r\n+ invoke-webrequest http://httpstat.us/418\r\n+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    + CategoryInfo          : InvalidOperation: (Method: GET, Re...rShell/6.0.0\r\n}:HttpRequestMessage) [Invoke-WebRequest], I'm a teapot\r\n    + FullyQualifiedErrorId : WebCmdletWebResponseException,Microsoft.PowerShell.Commands.InvokeWebRequestCo \r\n   mmand\r\nPS /home/steve/repos/PowerShell> $error[0].exception.response                                                 \r\n\r\n\r\nVersion             : 1.1\r\nContent             : System.Net.Http.StreamContent\r\nStatusCode          : 418\r\nReasonPhrase        : I'm a teapot\r\nHeaders             : {[Cache-Control, System.String[]], [Server, System.String[]], [X-AspNetMvc-Version, \r\n                      System.String[]], [X-AspNet-Version, System.String[]]...}\r\nRequestMessage      : Method: GET, RequestUri: 'http://httpstat.us/418', Version: 1.1, Content: <null>, \r\n                      Headers:\r\n                      {\r\n                        User-Agent: Mozilla/5.0\r\n                        User-Agent: (Windows NT; Linux 4.4.0-64-generic #85-Ubuntu SMP Mon Feb 20 11:50:30 \r\n                      UTC 2017; en-US)\r\n                        User-Agent: WindowsPowerShell/6.0.0\r\n                      }\r\nIsSuccessStatusCode : False\r\n```",
    "created_at": "2017-02-24T01:11:26Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2193#issuecomment-282173595",
    "id": 282173595,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2193",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjE3MzU5NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 2,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 2,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/282173595/reactions"
    },
    "updated_at": "2017-02-24T01:11:26Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/282173595",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "NONE",
    "body": "Tried another work around to capture error from a REST API is anyone is trying to capture that:\r\n```\r\nfunction Failure {\r\n               $Message =  $_.ErrorDetails.Message;\r\n\t\t$json = $Message | ConvertFrom-Json  #if error you are trying to capture is returned in json\r\n               Write-Host (\"Message: \"+ $Message)\r\n}\r\n```\r\nWith this function loaded in memory, put your try / catch around Invoke-RestMethod and call Failure on error. Hope this helps.",
    "created_at": "2019-03-14T15:31:47Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2193#issuecomment-472920613",
    "id": 472920613,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2193",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MjkyMDYxMw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 5,
      "-1": 0,
      "confused": 0,
      "eyes": 1,
      "heart": 1,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 7,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/472920613/reactions"
    },
    "updated_at": "2019-03-14T15:31:47Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/472920613",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/39066737?v=4",
      "events_url": "https://api.github.com/users/abhinavsingh003/events{/privacy}",
      "followers_url": "https://api.github.com/users/abhinavsingh003/followers",
      "following_url": "https://api.github.com/users/abhinavsingh003/following{/other_user}",
      "gists_url": "https://api.github.com/users/abhinavsingh003/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/abhinavsingh003",
      "id": 39066737,
      "login": "abhinavsingh003",
      "node_id": "MDQ6VXNlcjM5MDY2NzM3",
      "organizations_url": "https://api.github.com/users/abhinavsingh003/orgs",
      "received_events_url": "https://api.github.com/users/abhinavsingh003/received_events",
      "repos_url": "https://api.github.com/users/abhinavsingh003/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/abhinavsingh003/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/abhinavsingh003/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/abhinavsingh003"
    }
  },
  {
    "author_association": "NONE",
    "body": "Thanks abhinavsingh003 !\r\n\r\n```\r\n`        Catch {\r\n            if($_.ErrorDetails.Message) {\r\n                #WebResponseError\r\n                Write-Host $_.ErrorDetails.Message;\r\n            } else {\r\n                #UsualException\r\n                $_\r\n            }\r\n\r\n        }`\r\n```",
    "created_at": "2020-12-18T10:02:23Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2193#issuecomment-747997634",
    "id": 747997634,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2193",
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0Nzk5NzYzNA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 3,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 3,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/747997634/reactions"
    },
    "updated_at": "2020-12-18T10:02:40Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/747997634",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/16150863?v=4",
      "events_url": "https://api.github.com/users/MeGoodGuy/events{/privacy}",
      "followers_url": "https://api.github.com/users/MeGoodGuy/followers",
      "following_url": "https://api.github.com/users/MeGoodGuy/following{/other_user}",
      "gists_url": "https://api.github.com/users/MeGoodGuy/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/MeGoodGuy",
      "id": 16150863,
      "login": "MeGoodGuy",
      "node_id": "MDQ6VXNlcjE2MTUwODYz",
      "organizations_url": "https://api.github.com/users/MeGoodGuy/orgs",
      "received_events_url": "https://api.github.com/users/MeGoodGuy/received_events",
      "repos_url": "https://api.github.com/users/MeGoodGuy/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/MeGoodGuy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MeGoodGuy/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/MeGoodGuy"
    }
  }
]
