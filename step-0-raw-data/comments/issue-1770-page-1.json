[
  {
    "author_association": "NONE",
    "body": "This error is still reproducable.\r\n\r\n```\r\nPS> $ExecutionContext.SessionState.InvokeProvider.SecurityDescriptor.Get(\"/\",\"None\")\r\nException calling \"Get\" with \"2\" argument(s): \"Attempting to perform the GetSecurityDescriptor operation on the 'FileSystem' provider failed for path '/'. Unable to load shared library 'api-ms-win-security-lsalookup-l2-1-0.dll' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: libapi-ms-win-security-lsalookup-l2-1-0.dll: cannot open shared object file: No such file or directory\"\r\nAt line:1 char:1\r\n+ $ExecutionContext.SessionState.InvokeProvider.SecurityDescriptor.Get( ...\r\n+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n+ CategoryInfo          : NotSpecified: (:) [], MethodInvocationException\r\n+ FullyQualifiedErrorId : ProviderInvocationException\r\n```\r\n```\r\nPS> $psversiontable \r\n\r\nName                           Value\r\n----                           -----\r\nPSVersion                      6.2.3\r\nPSEdition                      Core\r\nGitCommitId                    6.2.3\r\nOS                             Linux 5.3.16-300.fc31.x86_64 #1 SMP Fri Dec 13 17:59:04 UTC 2019\r\nPlatform                       Unix\r\nPSCompatibleVersions           {1.0, 2.0, 3.0, 4.0â€¦}\r\nPSRemotingProtocolVersion      2.3\r\nSerializationVersion           1.1.0.1\r\nWSManStackVersion              3.0\r\n```",
    "created_at": "2020-01-01T10:31:40Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/1770#issuecomment-570041065",
    "id": 570041065,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/1770",
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3MDA0MTA2NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/570041065/reactions"
    },
    "updated_at": "2020-01-01T10:31:40Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/570041065",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/17226133?v=4",
      "events_url": "https://api.github.com/users/h93xV2/events{/privacy}",
      "followers_url": "https://api.github.com/users/h93xV2/followers",
      "following_url": "https://api.github.com/users/h93xV2/following{/other_user}",
      "gists_url": "https://api.github.com/users/h93xV2/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/h93xV2",
      "id": 17226133,
      "login": "h93xV2",
      "node_id": "MDQ6VXNlcjE3MjI2MTMz",
      "organizations_url": "https://api.github.com/users/h93xV2/orgs",
      "received_events_url": "https://api.github.com/users/h93xV2/received_events",
      "repos_url": "https://api.github.com/users/h93xV2/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/h93xV2/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/h93xV2/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/h93xV2"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "We should catch the exception and report an appropriate error stating that this is not supported on the current platform.",
    "created_at": "2021-02-25T21:38:29Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/1770#issuecomment-786245194",
    "id": 786245194,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/1770",
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NjI0NTE5NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/786245194/reactions"
    },
    "updated_at": "2021-02-25T21:38:29Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/786245194",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/12820925?v=4",
      "events_url": "https://api.github.com/users/adityapatwardhan/events{/privacy}",
      "followers_url": "https://api.github.com/users/adityapatwardhan/followers",
      "following_url": "https://api.github.com/users/adityapatwardhan/following{/other_user}",
      "gists_url": "https://api.github.com/users/adityapatwardhan/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/adityapatwardhan",
      "id": 12820925,
      "login": "adityapatwardhan",
      "node_id": "MDQ6VXNlcjEyODIwOTI1",
      "organizations_url": "https://api.github.com/users/adityapatwardhan/orgs",
      "received_events_url": "https://api.github.com/users/adityapatwardhan/received_events",
      "repos_url": "https://api.github.com/users/adityapatwardhan/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/adityapatwardhan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adityapatwardhan/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/adityapatwardhan"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "In order to help find where the exception needs to be caught: Using `master`, here is the stacktrace:\r\n```\r\n at System.Management.Automation.ExceptionHandlingOps.ConvertToMethodInvocationException(Exception exception, Type typeToThrow, String methodName, Int32 numArgs, MemberInfo memberInfo) \r\n                              in /workspaces/PowerShell/src/System.Management.Automation/engine/runtime/Operations/MiscOps.cs:line 2067\r\n                                 at CallSite.Target(Closure , CallSite , Object , String , String )\r\n                                 at System.Dynamic.UpdateDelegates.UpdateAndExecute3[T0,T1,T2,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2) in System.Linq.Expressions.dll:token 0x6001064+0x128\r\n                                 at System.Management.Automation.Interpreter.DynamicInstruction`4.Run(InterpretedFrame frame) in \r\n                              /workspaces/PowerShell/src/System.Management.Automation/engine/interpreter/DynamicInstructions.Generated.cs:line 192\r\n                                 at System.Management.Automation.Interpreter.EnterTryCatchFinallyInstruction.Run(InterpretedFrame frame) in \r\n                              /workspaces/PowerShell/src/System.Management.Automation/engine/interpreter/ControlFlowInstructions.cs:line 358\r\n```\r\nAnd here the inner exception:\r\n```\r\nSystem.Management.Automation.ProviderInvocationException: Attempting to perform the GetSecurityDescriptor operation on the 'FileSystem' provider failed for path '/'. Unable to load \r\n                              shared library 'api-ms-win-security-lsalookup-l2-1-0.dll' or one of its dependencies. In order to help diagnose loading problems, consider setting the LD_DEBUG environment variable: \r\n                              libapi-ms-win-security-lsalookup-l2-1-0.dll: cannot open shared object file: No such file or directory\r\n                               ---> System.DllNotFoundException: Unable to load shared library 'api-ms-win-security-lsalookup-l2-1-0.dll' or one of its dependencies. In order to help diagnose loading problems, \r\n                              consider setting the LD_DEBUG environment variable: libapi-ms-win-security-lsalookup-l2-1-0.dll: cannot open shared object file: No such file or directory\r\n                                 at System.Management.Automation.PlatformInvokes.LookupPrivilegeValue(String lpSystemName, String lpName, LUID& lpLuid)\r\n                                 at System.Management.Automation.PlatformInvokes.EnableTokenPrivilege(String privilegeName, TOKEN_PRIVILEGE& oldPrivilegeState) in \r\n                              /workspaces/PowerShell/src/System.Management.Automation/utils/PlatformInvokes.cs:line 282\r\n                                 at Microsoft.PowerShell.Commands.FileSystemProvider.GetSecurityDescriptor(String path, AccessControlSections sections) in \r\n                              /workspaces/PowerShell/src/System.Management.Automation/namespaces/FileSystemSecurity.cs:line 60\r\n                                 at System.Management.Automation.Provider.CmdletProvider.GetSecurityDescriptor(String path, AccessControlSections sections, CmdletProviderContext context) in \r\n                              /workspaces/PowerShell/src/System.Management.Automation/namespaces/ProviderBaseSecurity.cs:line 49\r\n                                 at System.Management.Automation.SessionStateInternal.GetSecurityDescriptor(CmdletProvider providerInstance, String path, AccessControlSections sections, CmdletProviderContext context) \r\n                              in /workspaces/PowerShell/src/System.Management.Automation/engine/SessionStateSecurityDescriptorInterface.cs:line 155\r\n                                 --- End of inner exception stack trace ---\r\n                                 at System.Management.Automation.SessionStateInternal.GetSecurityDescriptor(CmdletProvider providerInstance, String path, AccessControlSections sections, CmdletProviderContext context) \r\n                              in /workspaces/PowerShell/src/System.Management.Automation/engine/SessionStateSecurityDescriptorInterface.cs:line 171\r\n                                 at System.Management.Automation.SessionStateInternal.GetSecurityDescriptor(String path, AccessControlSections sections, CmdletProviderContext context) in \r\n                              /workspaces/PowerShell/src/System.Management.Automation/engine/SessionStateSecurityDescriptorInterface.cs:line 126\r\n                                 at System.Management.Automation.SessionStateInternal.GetSecurityDescriptor(String path, AccessControlSections sections) in \r\n                              /workspaces/PowerShell/src/System.Management.Automation/engine/SessionStateSecurityDescriptorInterface.cs:line 74\r\n                                 at System.Management.Automation.SecurityDescriptorCmdletProviderIntrinsics.Get(String path, AccessControlSections includeSections) in \r\n                              /workspaces/PowerShell/src/System.Management.Automation/engine/SecurityDescriptorCmdletProviderInterfaces.cs:line 90\r\n                                 at CallSite.Target(Closure , CallSite , Object , String , String )\r\n```",
    "created_at": "2021-06-17T19:29:01Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/1770#issuecomment-863507093",
    "id": 863507093,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/1770",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MzUwNzA5Mw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/863507093/reactions"
    },
    "updated_at": "2021-06-17T19:29:01Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/863507093",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/9250262?v=4",
      "events_url": "https://api.github.com/users/bergmeister/events{/privacy}",
      "followers_url": "https://api.github.com/users/bergmeister/followers",
      "following_url": "https://api.github.com/users/bergmeister/following{/other_user}",
      "gists_url": "https://api.github.com/users/bergmeister/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/bergmeister",
      "id": 9250262,
      "login": "bergmeister",
      "node_id": "MDQ6VXNlcjkyNTAyNjI=",
      "organizations_url": "https://api.github.com/users/bergmeister/orgs",
      "received_events_url": "https://api.github.com/users/bergmeister/received_events",
      "repos_url": "https://api.github.com/users/bergmeister/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/bergmeister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bergmeister/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/bergmeister"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "This code should rather be ported than disabled.",
    "created_at": "2021-06-18T03:25:49Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/1770#issuecomment-863726709",
    "id": 863726709,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/1770",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MzcyNjcwOQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/863726709/reactions"
    },
    "updated_at": "2021-06-18T03:25:49Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/863726709",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "on non-Windows systems, i would rather provide a permissions-llike object using stat or some such",
    "created_at": "2021-07-29T16:34:06Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/1770#issuecomment-889294057",
    "id": 889294057,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/1770",
    "node_id": "IC_kwDOAvT7bc41AYzp",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/889294057/reactions"
    },
    "updated_at": "2021-07-29T16:34:06Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/889294057",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/10214008?v=4",
      "events_url": "https://api.github.com/users/JamesWTruher/events{/privacy}",
      "followers_url": "https://api.github.com/users/JamesWTruher/followers",
      "following_url": "https://api.github.com/users/JamesWTruher/following{/other_user}",
      "gists_url": "https://api.github.com/users/JamesWTruher/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/JamesWTruher",
      "id": 10214008,
      "login": "JamesWTruher",
      "node_id": "MDQ6VXNlcjEwMjE0MDA4",
      "organizations_url": "https://api.github.com/users/JamesWTruher/orgs",
      "received_events_url": "https://api.github.com/users/JamesWTruher/received_events",
      "repos_url": "https://api.github.com/users/JamesWTruher/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/JamesWTruher/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JamesWTruher/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/JamesWTruher"
    }
  }
]
