[
  {
    "author_association": "COLLABORATOR",
    "body": "Looking at this, If I look at a file system object with Get-ChildItem, I note that in PowerShell V 7, the object's Parent property is a full pathname (same in 6.2), but a relative pathname in V5.1. This is not really a regression in 7.0.",
    "created_at": "2019-06-03T16:42:29Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9800#issuecomment-498334513",
    "id": 498334513,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9800",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODMzNDUxMw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/498334513/reactions"
    },
    "updated_at": "2019-06-03T16:42:29Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/498334513",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/3630329?v=4",
      "events_url": "https://api.github.com/users/doctordns/events{/privacy}",
      "followers_url": "https://api.github.com/users/doctordns/followers",
      "following_url": "https://api.github.com/users/doctordns/following{/other_user}",
      "gists_url": "https://api.github.com/users/doctordns/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/doctordns",
      "id": 3630329,
      "login": "doctordns",
      "node_id": "MDQ6VXNlcjM2MzAzMjk=",
      "organizations_url": "https://api.github.com/users/doctordns/orgs",
      "received_events_url": "https://api.github.com/users/doctordns/received_events",
      "repos_url": "https://api.github.com/users/doctordns/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/doctordns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/doctordns/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/doctordns"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@TheGoddessInari would you be able to provide a standalone repro? It looks like I'd need a C++ project to reproduce this currently",
    "created_at": "2019-06-03T23:47:27Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9800#issuecomment-498466250",
    "id": 498466250,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9800",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODQ2NjI1MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/498466250/reactions"
    },
    "updated_at": "2019-06-03T23:47:27Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/498466250",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7009879?v=4",
      "events_url": "https://api.github.com/users/rjmholt/events{/privacy}",
      "followers_url": "https://api.github.com/users/rjmholt/followers",
      "following_url": "https://api.github.com/users/rjmholt/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjmholt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rjmholt",
      "id": 7009879,
      "login": "rjmholt",
      "node_id": "MDQ6VXNlcjcwMDk4Nzk=",
      "organizations_url": "https://api.github.com/users/rjmholt/orgs",
      "received_events_url": "https://api.github.com/users/rjmholt/received_events",
      "repos_url": "https://api.github.com/users/rjmholt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rjmholt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjmholt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rjmholt"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "The problem is easy to reproduce. Get-ChildItem is returning a different value for the Parent property of the System.IO.Directoryinfo object between Windows PowerShell and Powershell 6.2, and 7 (and probably also earlier versions of 6.x). \r\n\r\nI have a folder, C:\\Foo\\Test\\Test2, and the following happens:\r\n````powershell\r\n# In WindowsPowerShell 5.1\r\nPS [C:\\foo> ]> get-item c:\\foo\\test\\test2 | fl name, parent\r\nName   : test2\r\nParent : test\r\n# In PowerShell 6.2, and 7:\r\nPS [C:\\foo> ]> get-item c:\\foo\\test\\test2 | fl name, parent\r\nName   : test2\r\nParent : C:\\foo\\test\r\n````\r\nI suspect the script that is having the issue is adding the parent name returned to a string to create a path, and due to this change in System.IO.DirectoryInfo this no longer works the same way, hence the reported error.\r\n\r\nNot sure if this is a bug in the cmdlet or a feature (and thus a breaking change).\r\n\r\n",
    "created_at": "2019-06-04T11:04:47Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9800#issuecomment-498625521",
    "id": 498625521,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9800",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODYyNTUyMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/498625521/reactions"
    },
    "updated_at": "2019-06-04T11:04:47Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/498625521",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/3630329?v=4",
      "events_url": "https://api.github.com/users/doctordns/events{/privacy}",
      "followers_url": "https://api.github.com/users/doctordns/followers",
      "following_url": "https://api.github.com/users/doctordns/following{/other_user}",
      "gists_url": "https://api.github.com/users/doctordns/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/doctordns",
      "id": 3630329,
      "login": "doctordns",
      "node_id": "MDQ6VXNlcjM2MzAzMjk=",
      "organizations_url": "https://api.github.com/users/doctordns/orgs",
      "received_events_url": "https://api.github.com/users/doctordns/received_events",
      "repos_url": "https://api.github.com/users/doctordns/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/doctordns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/doctordns/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/doctordns"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "I'm wondering if this change might originate in .net Core?",
    "created_at": "2019-06-04T12:11:14Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9800#issuecomment-498644924",
    "id": 498644924,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9800",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODY0NDkyNA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/498644924/reactions"
    },
    "updated_at": "2019-06-04T12:11:14Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/498644924",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "So I did a little bit of digging:\r\n\r\n- `gci` returns `FileSystemInfo` objects (not strings), as does `(gci).Parent`\r\n- The formatting in the default formatter in PowerShell still uses the relative name:\r\n```\r\n> [System.IO.DirectoryInfo]::new($PWD).Parent\r\n\r\nMode                LastWriteTime         Length Name\r\n----                -------------         ------ ----\r\nd-r---         5/31/2019 10:12 PM                Users\r\n\r\n> [System.IO.DirectoryInfo]::new($PWD).Parent.Name\r\nUsers\r\n\r\n> gci | select -First 1 | % { $_.Parent }\r\n\r\nMode                LastWriteTime         Length Name\r\n----                -------------         ------ ----\r\nd-----          6/3/2019 11:23 AM                me\r\n\r\n> gci | select -First 1 | ft name,parent\r\n\r\nName   Parent\r\n----   ------\r\n.Azure C:\\Users\\me\r\n```\r\n- *But*, `[System.IO.DirectoryInfo]::new($PWD).Parent.ToString()` has changed from relative to absolute. That appears to be because [DirectoryInfo.ToString() returns the original path used in the constructor](https://docs.microsoft.com/en-us/dotnet/api/system.io.directoryinfo.tostring?view=netcore-3.0).\r\n- Since this is a type created purely in .NET (and we don't control the constructor for `Parent`), this looks like a .NET regression that nobody caught\r\n- The strange part is [they already hit this once](https://github.com/dotnet/corefx/issues/2632) and added tests for it. So I'll open an issue and check",
    "created_at": "2019-06-04T17:06:54Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9800#issuecomment-498759532",
    "id": 498759532,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9800",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODc1OTUzMg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/498759532/reactions"
    },
    "updated_at": "2019-06-04T17:08:14Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/498759532",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7009879?v=4",
      "events_url": "https://api.github.com/users/rjmholt/events{/privacy}",
      "followers_url": "https://api.github.com/users/rjmholt/followers",
      "following_url": "https://api.github.com/users/rjmholt/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjmholt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rjmholt",
      "id": 7009879,
      "login": "rjmholt",
      "node_id": "MDQ6VXNlcjcwMDk4Nzk=",
      "organizations_url": "https://api.github.com/users/rjmholt/orgs",
      "received_events_url": "https://api.github.com/users/rjmholt/received_events",
      "repos_url": "https://api.github.com/users/rjmholt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rjmholt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjmholt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rjmholt"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Looks like .NET is leaning toward WontFix.\r\n\r\nIn that case, we should:\r\n- Investigate changing `LanguagePrimitives` so that converting a `DirectoryInfo` to a `string` uses `Name` rather than `ToString()`\r\n- Investigate investment in @rkeithhill's suggested `[Path()]` attribute (or a similar parameter processing attribute)\r\n- Update any relevant documentation",
    "created_at": "2019-06-04T21:32:34Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9800#issuecomment-498851785",
    "id": 498851785,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9800",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODg1MTc4NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/498851785/reactions"
    },
    "updated_at": "2019-06-04T21:38:06Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/498851785",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7009879?v=4",
      "events_url": "https://api.github.com/users/rjmholt/events{/privacy}",
      "followers_url": "https://api.github.com/users/rjmholt/followers",
      "following_url": "https://api.github.com/users/rjmholt/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjmholt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rjmholt",
      "id": 7009879,
      "login": "rjmholt",
      "node_id": "MDQ6VXNlcjcwMDk4Nzk=",
      "organizations_url": "https://api.github.com/users/rjmholt/orgs",
      "received_events_url": "https://api.github.com/users/rjmholt/received_events",
      "repos_url": "https://api.github.com/users/rjmholt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rjmholt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjmholt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rjmholt"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Is it worth pointing this out as a Breaking Issue for PowerShell 7?",
    "created_at": "2019-06-05T13:53:32Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9800#issuecomment-499092461",
    "id": 499092461,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9800",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5OTA5MjQ2MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/499092461/reactions"
    },
    "updated_at": "2019-06-05T13:53:32Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/499092461",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/3630329?v=4",
      "events_url": "https://api.github.com/users/doctordns/events{/privacy}",
      "followers_url": "https://api.github.com/users/doctordns/followers",
      "following_url": "https://api.github.com/users/doctordns/following{/other_user}",
      "gists_url": "https://api.github.com/users/doctordns/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/doctordns",
      "id": 3630329,
      "login": "doctordns",
      "node_id": "MDQ6VXNlcjM2MzAzMjk=",
      "organizations_url": "https://api.github.com/users/doctordns/orgs",
      "received_events_url": "https://api.github.com/users/doctordns/received_events",
      "repos_url": "https://api.github.com/users/doctordns/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/doctordns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/doctordns/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/doctordns"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "> Is it worth pointing this out as a Breaking Issue for PowerShell 7?\r\n\r\nIt'll likely go in the changelog of the next release as a breaking change - @joeyaiello and @TravisEz13 are most familiar with our changelog processes.",
    "created_at": "2019-06-05T16:54:25Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9800#issuecomment-499167110",
    "id": 499167110,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9800",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5OTE2NzExMA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 2,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 2,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/499167110/reactions"
    },
    "updated_at": "2019-06-05T16:54:25Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/499167110",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7009879?v=4",
      "events_url": "https://api.github.com/users/rjmholt/events{/privacy}",
      "followers_url": "https://api.github.com/users/rjmholt/followers",
      "following_url": "https://api.github.com/users/rjmholt/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjmholt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rjmholt",
      "id": 7009879,
      "login": "rjmholt",
      "node_id": "MDQ6VXNlcjcwMDk4Nzk=",
      "organizations_url": "https://api.github.com/users/rjmholt/orgs",
      "received_events_url": "https://api.github.com/users/rjmholt/received_events",
      "repos_url": "https://api.github.com/users/rjmholt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rjmholt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjmholt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rjmholt"
    }
  },
  {
    "author_association": "NONE",
    "body": "It's worth noting that Powershell 6.0 also returns relative. \r\nI'm also not sure what the point of the press release for Powershell 7 saying it's supposed to be a drop-in replacement for Windows Powershell is if it's going to break scripts that use any of these common functions, even those that were already modified to be clean on both Powershell 5.0 and 6.0.\r\nAs far as I can tell, it was never listed as a breaking change for 6.1 or 6.2, and it breaks Powershell scripts that even Microsoft ships.",
    "created_at": "2019-06-05T22:51:54Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9800#issuecomment-499284901",
    "id": 499284901,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9800",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5OTI4NDkwMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/499284901/reactions"
    },
    "updated_at": "2019-06-05T22:52:14Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/499284901",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/38739324?v=4",
      "events_url": "https://api.github.com/users/TheGoddessInari/events{/privacy}",
      "followers_url": "https://api.github.com/users/TheGoddessInari/followers",
      "following_url": "https://api.github.com/users/TheGoddessInari/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheGoddessInari/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/TheGoddessInari",
      "id": 38739324,
      "login": "TheGoddessInari",
      "node_id": "MDQ6VXNlcjM4NzM5MzI0",
      "organizations_url": "https://api.github.com/users/TheGoddessInari/orgs",
      "received_events_url": "https://api.github.com/users/TheGoddessInari/received_events",
      "repos_url": "https://api.github.com/users/TheGoddessInari/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/TheGoddessInari/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheGoddessInari/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/TheGoddessInari"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Duplicate of https://github.com/PowerShell/PowerShell/issues/7132",
    "created_at": "2019-06-06T00:50:52Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9800#issuecomment-499307966",
    "id": 499307966,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9800",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5OTMwNzk2Ng==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/499307966/reactions"
    },
    "updated_at": "2019-06-06T00:50:52Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/499307966",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7009879?v=4",
      "events_url": "https://api.github.com/users/rjmholt/events{/privacy}",
      "followers_url": "https://api.github.com/users/rjmholt/followers",
      "following_url": "https://api.github.com/users/rjmholt/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjmholt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rjmholt",
      "id": 7009879,
      "login": "rjmholt",
      "node_id": "MDQ6VXNlcjcwMDk4Nzk=",
      "organizations_url": "https://api.github.com/users/rjmholt/orgs",
      "received_events_url": "https://api.github.com/users/rjmholt/received_events",
      "repos_url": "https://api.github.com/users/rjmholt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rjmholt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjmholt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rjmholt"
    }
  }
]
