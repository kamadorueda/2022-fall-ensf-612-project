[
  {
    "author_association": "COLLABORATOR",
    "body": "Hi @metablaster \r\nThe coloring for all types of data records is done by the host (console host) so if you use the appropriate `Write-*` you get the appropriate coloring. You can see this by instantiating a WarningRecord\r\n```powershell\r\n{master} PSCore (1:34) >  [System.Management.Automation.WarningRecord]::new(\"Hello\")\r\nHello\r\n{master} PSCore (1:35) >  Write-Warning ([System.Management.Automation.WarningRecord]::new(\"Hello\")) ; write the warning record\r\nWARNING: Hello\r\n```\r\nSo the color & prefix does not generally depend on the _type_ of object, it depends on the _disposition_ of the object.\r\n\r\nExcept for error records that is :-) Because of the way the Console Host muxes and demuxes error and output records, things of type `ErrorRecord` are always printed in red even when displayed through stdout.\r\n\r\n```powershell\r\n{master}PSCore (1:42) >  $ev =  [System.Management.Automation.ErrorRecord]::new([exception]::New(\"exception yo!\"), \"123\", \"NotImplemented\", $null)\r\n{master}PSCore (1:43) >  $ev\r\n\r\nNotImplemented: exception yo! #<-- this shows up in read.\r\n{master}PSCore (1:44) >\r\n```\r\n\r\nPart of the reason things work the way they do is because the non-error information streams were originally simple strings, not instances of a particular type. Over the years, they turned into rich objects but the color-handling code hasn't changed (much).\r\n\r\nSo you can argue that not automagically coloring the various data record is wrong. But you can also argue that the behaviour for ErrorRecord is wrong. IMHO either behaviour is probably fine as is the current mixed behaviour.\r\n\r\n",
    "created_at": "2020-02-20T18:55:24Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/11900#issuecomment-589251551",
    "id": 589251551,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/11900",
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4OTI1MTU1MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 3,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 3,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/589251551/reactions"
    },
    "updated_at": "2020-02-20T18:55:24Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/589251551",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6876108?v=4",
      "events_url": "https://api.github.com/users/BrucePay/events{/privacy}",
      "followers_url": "https://api.github.com/users/BrucePay/followers",
      "following_url": "https://api.github.com/users/BrucePay/following{/other_user}",
      "gists_url": "https://api.github.com/users/BrucePay/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/BrucePay",
      "id": 6876108,
      "login": "BrucePay",
      "node_id": "MDQ6VXNlcjY4NzYxMDg=",
      "organizations_url": "https://api.github.com/users/BrucePay/orgs",
      "received_events_url": "https://api.github.com/users/BrucePay/received_events",
      "repos_url": "https://api.github.com/users/BrucePay/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/BrucePay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BrucePay/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/BrucePay"
    }
  },
  {
    "author_association": "NONE",
    "body": "@BrucePay Thank you for detailed explanation!\r\nSo basically we need to `Write-Warning` again to format the output.\r\n\r\nI understand that the additional reason (to one you explained) why `Write-Error` is an exception is because if we would be required to `Write-Error` again just to get formatted output then the `$Error` automatic variable would contain duplicate data.\r\n\r\nSince other streams do not have associated automatic variables this is not a problem.\r\n",
    "created_at": "2020-02-21T19:35:09Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/11900#issuecomment-589802520",
    "id": 589802520,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/11900",
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4OTgwMjUyMA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/589802520/reactions"
    },
    "updated_at": "2020-02-21T19:35:09Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/589802520",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/44481081?v=4",
      "events_url": "https://api.github.com/users/metablaster/events{/privacy}",
      "followers_url": "https://api.github.com/users/metablaster/followers",
      "following_url": "https://api.github.com/users/metablaster/following{/other_user}",
      "gists_url": "https://api.github.com/users/metablaster/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/metablaster",
      "id": 44481081,
      "login": "metablaster",
      "node_id": "MDQ6VXNlcjQ0NDgxMDgx",
      "organizations_url": "https://api.github.com/users/metablaster/orgs",
      "received_events_url": "https://api.github.com/users/metablaster/received_events",
      "repos_url": "https://api.github.com/users/metablaster/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/metablaster/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/metablaster/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/metablaster"
    }
  }
]
