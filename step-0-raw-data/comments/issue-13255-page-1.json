[
  {
    "author_association": "MEMBER",
    "body": "/cc @iSazonov to comment.",
    "created_at": "2020-07-23T21:16:43Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13255#issuecomment-663236887",
    "id": 663236887,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13255",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MzIzNjg4Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/663236887/reactions"
    },
    "updated_at": "2020-07-23T21:16:43Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/663236887",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/127450?v=4",
      "events_url": "https://api.github.com/users/daxian-dbw/events{/privacy}",
      "followers_url": "https://api.github.com/users/daxian-dbw/followers",
      "following_url": "https://api.github.com/users/daxian-dbw/following{/other_user}",
      "gists_url": "https://api.github.com/users/daxian-dbw/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/daxian-dbw",
      "id": 127450,
      "login": "daxian-dbw",
      "node_id": "MDQ6VXNlcjEyNzQ1MA==",
      "organizations_url": "https://api.github.com/users/daxian-dbw/orgs",
      "received_events_url": "https://api.github.com/users/daxian-dbw/received_events",
      "repos_url": "https://api.github.com/users/daxian-dbw/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/daxian-dbw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daxian-dbw/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/daxian-dbw"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@smitheroons Thanks for your report!\r\n\r\nWe use [NJsonSchema ](https://github.com/RicoSuter/NJsonSchema) API to validate JSON schema. You could ask in NJsonSchema repository about this behavior.",
    "created_at": "2020-07-24T06:01:14Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13255#issuecomment-663360965",
    "id": 663360965,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13255",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MzM2MDk2NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 1,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 1,
      "total_count": 2,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/663360965/reactions"
    },
    "updated_at": "2020-07-24T06:01:14Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/663360965",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@iSazonov Can we label this one as `external`?",
    "created_at": "2020-07-31T15:48:03Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13255#issuecomment-667191602",
    "id": 667191602,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13255",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NzE5MTYwMg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 1,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 1,
      "total_count": 2,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/667191602/reactions"
    },
    "updated_at": "2020-07-31T15:48:03Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/667191602",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/127450?v=4",
      "events_url": "https://api.github.com/users/daxian-dbw/events{/privacy}",
      "followers_url": "https://api.github.com/users/daxian-dbw/followers",
      "following_url": "https://api.github.com/users/daxian-dbw/following{/other_user}",
      "gists_url": "https://api.github.com/users/daxian-dbw/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/daxian-dbw",
      "id": 127450,
      "login": "daxian-dbw",
      "node_id": "MDQ6VXNlcjEyNzQ1MA==",
      "organizations_url": "https://api.github.com/users/daxian-dbw/orgs",
      "received_events_url": "https://api.github.com/users/daxian-dbw/received_events",
      "repos_url": "https://api.github.com/users/daxian-dbw/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/daxian-dbw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daxian-dbw/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/daxian-dbw"
    }
  },
  {
    "author_association": "NONE",
    "body": "@daxian-dbw / @iSazonov \r\nDo either of you have time to write up a test in .NET to try this in the NJsonSchema library directly?\r\n\r\nIf we don't see this issue in the library directly then it sounds like this is a cmdlet issue.\r\nIf we do see this issue in the library then we have a repro ready to file an upstream bug.",
    "created_at": "2020-07-31T16:47:42Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13255#issuecomment-667223440",
    "id": 667223440,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13255",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NzIyMzQ0MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 1,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 1,
      "total_count": 2,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/667223440/reactions"
    },
    "updated_at": "2020-07-31T16:47:42Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/667223440",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/3119155?v=4",
      "events_url": "https://api.github.com/users/cchildress/events{/privacy}",
      "followers_url": "https://api.github.com/users/cchildress/followers",
      "following_url": "https://api.github.com/users/cchildress/following{/other_user}",
      "gists_url": "https://api.github.com/users/cchildress/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/cchildress",
      "id": 3119155,
      "login": "cchildress",
      "node_id": "MDQ6VXNlcjMxMTkxNTU=",
      "organizations_url": "https://api.github.com/users/cchildress/orgs",
      "received_events_url": "https://api.github.com/users/cchildress/received_events",
      "repos_url": "https://api.github.com/users/cchildress/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/cchildress/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cchildress/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/cchildress"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@cchildress All the cmdlet does it is call two NJsonSchema methods\r\nhttps://github.com/PowerShell/PowerShell/blob/4464d1b4140cc53fa1cf65e95b569e8fd956bba8/src/Microsoft.PowerShell.Commands.Utility/commands/utility/TestJsonCommand.cs#L85-L106",
    "created_at": "2020-07-31T17:37:58Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13255#issuecomment-667246590",
    "id": 667246590,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13255",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NzI0NjU5MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 1,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 1,
      "total_count": 2,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/667246590/reactions"
    },
    "updated_at": "2020-07-31T17:37:58Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/667246590",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "NONE",
    "body": "According to RicoSuter/NJsonSchema#1276, support for dependencies is not implemented in NJsonSchema yet ",
    "created_at": "2021-06-25T16:17:53Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13255#issuecomment-868678719",
    "id": 868678719,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13255",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2ODY3ODcxOQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/868678719/reactions"
    },
    "updated_at": "2021-06-25T16:17:53Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/868678719",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/18121861?v=4",
      "events_url": "https://api.github.com/users/Glober777/events{/privacy}",
      "followers_url": "https://api.github.com/users/Glober777/followers",
      "following_url": "https://api.github.com/users/Glober777/following{/other_user}",
      "gists_url": "https://api.github.com/users/Glober777/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/Glober777",
      "id": 18121861,
      "login": "Glober777",
      "node_id": "MDQ6VXNlcjE4MTIxODYx",
      "organizations_url": "https://api.github.com/users/Glober777/orgs",
      "received_events_url": "https://api.github.com/users/Glober777/received_events",
      "repos_url": "https://api.github.com/users/Glober777/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/Glober777/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Glober777/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/Glober777"
    }
  },
  {
    "author_association": "NONE",
    "body": "By the way, it is worth mentioning that JsonSchema is now obsolete:\r\nhttps://github.com/PowerShell/PowerShell/blob/4464d1b4140cc53fa1cf65e95b569e8fd956bba8/src/Microsoft.PowerShell.Commands.Utility/commands/utility/TestJsonCommand.cs#L51\r\n\r\nHere are the link to the docs:\r\nhttps://www.newtonsoft.com/json/help/html/T_Newtonsoft_Json_Schema_JsonSchema.htm\r\n\r\nThis has been moved to a separate package, which, by the way, does support dependencies:\r\n\r\n```posh\r\nAdd-Type -Path \"C:\\Temp\\JsonSchema\\Bin\\netstandard2.0\\Newtonsoft.Json.Schema.dll\"\r\n\r\n$SchemaJSON = @\"\r\n{\r\n    \"additionalProperties\": false,\r\n    \"properties\": {\r\n    \"PropertyOne\": {\"type\": \"string\"},\r\n    \"PropertyTwo\": {\"type\": \"string\"},\r\n    \"PropertyThree\": {\"type\": \"string\"}\r\n    },\r\n    \"dependencies\":{\r\n        \"PropertyThree\": [\r\n            \"PropertyOne\",\r\n            \"PropertyTwo\"\r\n        ]\r\n    },\r\n    \"type\": \"object\"\r\n}\r\n\"@\r\n\r\n$TestJSON = @\"\r\n{\r\n    \"PropertyThree\": \"qwerty\"\r\n}\r\n\"@\r\n\r\n$ParsedJSON = [Newtonsoft.Json.Linq.JObject]::Parse($TestJSON)\r\n$Schema = [Newtonsoft.Json.Schema.JSchema]::Parse($SchemaJSON)\r\n\r\n$ValidationErrors = New-Object System.Collections.Generic.List[string]\r\n$Result = [Newtonsoft.Json.Schema.SchemaExtensions]::IsValid($ParsedJSON, $Schema, [ref] $ValidationErrors)\r\n\r\n$Result # is $False\r\n\r\n$ValidationErrors # Dependencies for property 'PropertyThree' failed. Missing required keys: PropertyOne, PropertyTwo. Path '', line 1, position 1.\r\n``` \r\n\r\n@iSazonov, is there a chance the Test-JSON cmdlet can be updated to use the new package?\r\n\r\n<blockquote><img src=\"../icons/favicon.ico\" width=\"48\" align=\"right\"><div><strong><a href=\"https://www.newtonsoft.com/json/help/html/T_Newtonsoft_Json_Schema_JsonSchema.htm\">JsonSchema Class</a></strong></div><div>An in-memory representation of a JSON Schema. JSON Schema validation has been moved to its own package. See https://www.newtonsoft.com/jsonschema for more details.</div></blockquote>",
    "created_at": "2021-06-26T10:07:28Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13255#issuecomment-868979286",
    "id": 868979286,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13255",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2ODk3OTI4Ng==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/868979286/reactions"
    },
    "updated_at": "2021-06-26T10:08:10Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/868979286",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/18121861?v=4",
      "events_url": "https://api.github.com/users/Glober777/events{/privacy}",
      "followers_url": "https://api.github.com/users/Glober777/followers",
      "following_url": "https://api.github.com/users/Glober777/following{/other_user}",
      "gists_url": "https://api.github.com/users/Glober777/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/Glober777",
      "id": 18121861,
      "login": "Glober777",
      "node_id": "MDQ6VXNlcjE4MTIxODYx",
      "organizations_url": "https://api.github.com/users/Glober777/orgs",
      "received_events_url": "https://api.github.com/users/Glober777/received_events",
      "repos_url": "https://api.github.com/users/Glober777/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/Glober777/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Glober777/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/Glober777"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@Glober777 We use NJsonSchema. \r\nNewtonsoft.Json.Schema is a paid package and we can not use it.",
    "created_at": "2021-06-26T17:18:07Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13255#issuecomment-869032240",
    "id": 869032240,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13255",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2OTAzMjI0MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/869032240/reactions"
    },
    "updated_at": "2021-06-26T17:18:07Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/869032240",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  }
]
