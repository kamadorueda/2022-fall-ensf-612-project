[
  {
    "author_association": "NONE",
    "body": "@antondats The informations you need to understand the whole chain :\r\n\r\nThe error said \"Get-PackageProvider\" not found.\r\n\r\nGet-PackageProvider is a command from module packagemanagement [get-packageprovider](https://docs.microsoft.com/en-us/powershell/module/packagemanagement/get-packageprovider?view=powershell-6)\r\n\r\nThe environment variable that declare module path : [Modifying the PSModulePath Installation Path](https://docs.microsoft.com/en-us/powershell/developer/module/modifying-the-psmodulepath-installation-path)\r\n\r\nThere is preference variable that configure PSModule Autoloading [PSModuleAutoloadingPreference](https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_preference_variables?view=powershell-6#psmoduleautoloadingpreference)\r\n\r\nThis is the command for import module [Import-Module](https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/import-module?view=powershell-6)\r\n\r\nI advice you to verify where is packagemanagement module,if it's in the env:PSModulePath, verify PSModuleAutoloadingPreference, and use Import-Module.\r\n\r\nPS : it's a community response to help you quickly but it's not a problem in this repository",
    "created_at": "2019-04-25T17:52:13Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9467#issuecomment-486773829",
    "id": 486773829,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9467",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4Njc3MzgyOQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/486773829/reactions"
    },
    "updated_at": "2019-04-25T17:52:13Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/486773829",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6187529?v=4",
      "events_url": "https://api.github.com/users/fMichaleczek/events{/privacy}",
      "followers_url": "https://api.github.com/users/fMichaleczek/followers",
      "following_url": "https://api.github.com/users/fMichaleczek/following{/other_user}",
      "gists_url": "https://api.github.com/users/fMichaleczek/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/fMichaleczek",
      "id": 6187529,
      "login": "fMichaleczek",
      "node_id": "MDQ6VXNlcjYxODc1Mjk=",
      "organizations_url": "https://api.github.com/users/fMichaleczek/orgs",
      "received_events_url": "https://api.github.com/users/fMichaleczek/received_events",
      "repos_url": "https://api.github.com/users/fMichaleczek/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/fMichaleczek/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fMichaleczek/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/fMichaleczek"
    }
  },
  {
    "author_association": "NONE",
    "body": "@fmichaleczek Thanks for the answer) \r\nBut in docker container there is PSModulePath with valid data about path to the packagemanagement module. And when I connect to container I can execute \"Get-PackageProvider\" command without any errors but when command is executed from the code in my webjob, I get an error. \r\nSo, I thing problem is with powerhell packages. It seems that these packages can't run powershell core in the docker container. (the same issue there is azure webjob)\r\n\r\nPS: I've also posted this issue to the powershell community but I've not received the answer yet ",
    "created_at": "2019-04-26T11:16:55Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9467#issuecomment-487021915",
    "id": 487021915,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9467",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzAyMTkxNQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/487021915/reactions"
    },
    "updated_at": "2019-04-26T11:18:47Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/487021915",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/26163040?v=4",
      "events_url": "https://api.github.com/users/antondats/events{/privacy}",
      "followers_url": "https://api.github.com/users/antondats/followers",
      "following_url": "https://api.github.com/users/antondats/following{/other_user}",
      "gists_url": "https://api.github.com/users/antondats/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/antondats",
      "id": 26163040,
      "login": "antondats",
      "node_id": "MDQ6VXNlcjI2MTYzMDQw",
      "organizations_url": "https://api.github.com/users/antondats/orgs",
      "received_events_url": "https://api.github.com/users/antondats/received_events",
      "repos_url": "https://api.github.com/users/antondats/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/antondats/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/antondats/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/antondats"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "What container are you talking about?  Can we see the Dockerfile for this container?",
    "created_at": "2019-04-26T23:12:59Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9467#issuecomment-487228530",
    "id": 487228530,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9467",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzIyODUzMA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/487228530/reactions"
    },
    "updated_at": "2019-04-26T23:12:59Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/487228530",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/10873629?v=4",
      "events_url": "https://api.github.com/users/TravisEz13/events{/privacy}",
      "followers_url": "https://api.github.com/users/TravisEz13/followers",
      "following_url": "https://api.github.com/users/TravisEz13/following{/other_user}",
      "gists_url": "https://api.github.com/users/TravisEz13/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/TravisEz13",
      "id": 10873629,
      "login": "TravisEz13",
      "node_id": "MDQ6VXNlcjEwODczNjI5",
      "organizations_url": "https://api.github.com/users/TravisEz13/orgs",
      "received_events_url": "https://api.github.com/users/TravisEz13/received_events",
      "repos_url": "https://api.github.com/users/TravisEz13/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/TravisEz13/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TravisEz13/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/TravisEz13"
    }
  },
  {
    "author_association": "NONE",
    "body": "@TravisEz13 Yes, of course) \r\nThis is my docker file for windows container: \r\n```\r\nFROM microsoft/dotnet:2.1-aspnetcore-runtime-nanoserver-1709 AS base\r\nWORKDIR /app\r\n\r\nFROM microsoft/dotnet:2.1-sdk-nanoserver-1709 AS build\r\nWORKDIR /src\r\nCOPY [<All my files and projects>]\r\nRUN dotnet restore \"WebJob.csproj\"\r\nCOPY . .\r\nWORKDIR \"/src/WebJob\"\r\nRUN dotnet build \"WebJob.csproj\" -c Release -o /app\r\n\r\nFROM build AS publish\r\nRUN dotnet publish \"WebJob.csproj\" -c Release -o /app\r\n\r\nFROM base AS final\r\nWORKDIR /app\r\nCOPY --from=publish /app .\r\nCOPY [\"pathtopowershell/PowerShell/\", \"PowerShell/\"]\r\nENTRYPOINT [\"dotnet\", \"WebJob.dll\"]\r\n```\r\nContainer starts without any errors and PSModulePath is set correct.\r\n\r\nI've also tried with linux containers but I get the same error:\r\n```\r\nFROM microsoft/dotnet:2.1-runtime AS base\r\nWORKDIR /app\r\n\r\nFROM microsoft/dotnet:2.1-sdk AS build\r\nWORKDIR /src\r\nCOPY [<all my files and projects>]\r\nRUN dotnet restore \"WebJob.csproj\"\r\nCOPY . .\r\nWORKDIR \"/src/WebJob\"\r\nRUN dotnet build \"WebJob.csproj\" -c Release -o /app\r\n\r\nFROM build AS publish\r\nRUN dotnet publish \"WebJob.csproj\" -c Release -o /app\r\n\r\nFROM base AS final\r\nWORKDIR /app\r\nCOPY --from=publish /app .\r\n\r\nRUN apt-get update\r\nRUN yes | apt-get install curl gnupg apt-transport-https \r\nRUN curl https://packages.microsoft.com/keys/microsoft.asc | apt-key add - \r\nRUN sh -c 'echo \"deb [arch=amd64] https://packages.microsoft.com/repos/microsoft-debian-stretch-prod stretch main\" > /etc/apt/sources.list.d/microsoft.list' \r\nRUN apt-get update \r\nRUN apt-get install -y powershell --allow-unauthenticated\r\n\r\nENTRYPOINT [\"dotnet\", \"WebJob.dll\"]\r\n```\r\n\r\nI think it is not a problem because the same issue I have when I deploy webjob in azure webjob.",
    "created_at": "2019-04-29T09:38:27Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9467#issuecomment-487517026",
    "id": 487517026,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9467",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzUxNzAyNg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/487517026/reactions"
    },
    "updated_at": "2019-04-29T09:38:27Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/487517026",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/26163040?v=4",
      "events_url": "https://api.github.com/users/antondats/events{/privacy}",
      "followers_url": "https://api.github.com/users/antondats/followers",
      "following_url": "https://api.github.com/users/antondats/following{/other_user}",
      "gists_url": "https://api.github.com/users/antondats/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/antondats",
      "id": 26163040,
      "login": "antondats",
      "node_id": "MDQ6VXNlcjI2MTYzMDQw",
      "organizations_url": "https://api.github.com/users/antondats/orgs",
      "received_events_url": "https://api.github.com/users/antondats/received_events",
      "repos_url": "https://api.github.com/users/antondats/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/antondats/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/antondats/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/antondats"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@PoshChan Please remind me in 7 days",
    "created_at": "2019-04-29T17:47:27Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9467#issuecomment-487677288",
    "id": 487677288,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9467",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzY3NzI4OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/487677288/reactions"
    },
    "updated_at": "2019-04-29T17:53:18Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/487677288",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/10873629?v=4",
      "events_url": "https://api.github.com/users/TravisEz13/events{/privacy}",
      "followers_url": "https://api.github.com/users/TravisEz13/followers",
      "following_url": "https://api.github.com/users/TravisEz13/following{/other_user}",
      "gists_url": "https://api.github.com/users/TravisEz13/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/TravisEz13",
      "id": 10873629,
      "login": "TravisEz13",
      "node_id": "MDQ6VXNlcjEwODczNjI5",
      "organizations_url": "https://api.github.com/users/TravisEz13/orgs",
      "received_events_url": "https://api.github.com/users/TravisEz13/received_events",
      "repos_url": "https://api.github.com/users/TravisEz13/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/TravisEz13/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TravisEz13/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/TravisEz13"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@antondats I'm at dockercon.  I'll try to look at this, but I cannot guarantee.",
    "created_at": "2019-04-29T17:47:58Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9467#issuecomment-487677467",
    "id": 487677467,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9467",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzY3NzQ2Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/487677467/reactions"
    },
    "updated_at": "2019-04-29T17:47:58Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/487677467",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/10873629?v=4",
      "events_url": "https://api.github.com/users/TravisEz13/events{/privacy}",
      "followers_url": "https://api.github.com/users/TravisEz13/followers",
      "following_url": "https://api.github.com/users/TravisEz13/following{/other_user}",
      "gists_url": "https://api.github.com/users/TravisEz13/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/TravisEz13",
      "id": 10873629,
      "login": "TravisEz13",
      "node_id": "MDQ6VXNlcjEwODczNjI5",
      "organizations_url": "https://api.github.com/users/TravisEz13/orgs",
      "received_events_url": "https://api.github.com/users/TravisEz13/received_events",
      "repos_url": "https://api.github.com/users/TravisEz13/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/TravisEz13/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TravisEz13/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/TravisEz13"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@PoshChan Please remind me in 7 days",
    "created_at": "2019-04-29T17:51:20Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9467#issuecomment-487678657",
    "id": 487678657,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9467",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzY3ODY1Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/487678657/reactions"
    },
    "updated_at": "2019-04-29T17:51:20Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/487678657",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/10873629?v=4",
      "events_url": "https://api.github.com/users/TravisEz13/events{/privacy}",
      "followers_url": "https://api.github.com/users/TravisEz13/followers",
      "following_url": "https://api.github.com/users/TravisEz13/following{/other_user}",
      "gists_url": "https://api.github.com/users/TravisEz13/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/TravisEz13",
      "id": 10873629,
      "login": "TravisEz13",
      "node_id": "MDQ6VXNlcjEwODczNjI5",
      "organizations_url": "https://api.github.com/users/TravisEz13/orgs",
      "received_events_url": "https://api.github.com/users/TravisEz13/received_events",
      "repos_url": "https://api.github.com/users/TravisEz13/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/TravisEz13/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TravisEz13/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/TravisEz13"
    }
  },
  {
    "author_association": "NONE",
    "body": "@antondats @TravisEz13 in my opinion, it's a dupe of [#8625](https://github.com/PowerShell/PowerShell/issues/8625)",
    "created_at": "2019-05-01T03:09:08Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9467#issuecomment-488191967",
    "id": 488191967,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9467",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODE5MTk2Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/488191967/reactions"
    },
    "updated_at": "2019-05-01T03:09:08Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/488191967",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6187529?v=4",
      "events_url": "https://api.github.com/users/fMichaleczek/events{/privacy}",
      "followers_url": "https://api.github.com/users/fMichaleczek/followers",
      "following_url": "https://api.github.com/users/fMichaleczek/following{/other_user}",
      "gists_url": "https://api.github.com/users/fMichaleczek/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/fMichaleczek",
      "id": 6187529,
      "login": "fMichaleczek",
      "node_id": "MDQ6VXNlcjYxODc1Mjk=",
      "organizations_url": "https://api.github.com/users/fMichaleczek/orgs",
      "received_events_url": "https://api.github.com/users/fMichaleczek/received_events",
      "repos_url": "https://api.github.com/users/fMichaleczek/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/fMichaleczek/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fMichaleczek/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/fMichaleczek"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@fMichaleczek Agreed.",
    "created_at": "2019-05-01T19:06:46Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/9467#issuecomment-488382399",
    "id": 488382399,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9467",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODM4MjM5OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/488382399/reactions"
    },
    "updated_at": "2019-05-01T19:06:46Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/488382399",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/10873629?v=4",
      "events_url": "https://api.github.com/users/TravisEz13/events{/privacy}",
      "followers_url": "https://api.github.com/users/TravisEz13/followers",
      "following_url": "https://api.github.com/users/TravisEz13/following{/other_user}",
      "gists_url": "https://api.github.com/users/TravisEz13/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/TravisEz13",
      "id": 10873629,
      "login": "TravisEz13",
      "node_id": "MDQ6VXNlcjEwODczNjI5",
      "organizations_url": "https://api.github.com/users/TravisEz13/orgs",
      "received_events_url": "https://api.github.com/users/TravisEz13/received_events",
      "repos_url": "https://api.github.com/users/TravisEz13/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/TravisEz13/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TravisEz13/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/TravisEz13"
    }
  }
]
