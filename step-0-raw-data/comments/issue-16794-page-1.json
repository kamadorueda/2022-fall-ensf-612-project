[
  {
    "author_association": "NONE",
    "body": "1 Unique variable name between function and sub function\r\nor\r\n2  variable name   【$private:foo】in function",
    "created_at": "2022-01-24T12:08:40Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/16794#issuecomment-1020031738",
    "id": 1020031738,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/16794",
    "node_id": "IC_kwDOAvT7bc48zHL6",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1020031738/reactions"
    },
    "updated_at": "2022-01-24T12:20:38Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1020031738",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/65390418?v=4",
      "events_url": "https://api.github.com/users/kasini3000/events{/privacy}",
      "followers_url": "https://api.github.com/users/kasini3000/followers",
      "following_url": "https://api.github.com/users/kasini3000/following{/other_user}",
      "gists_url": "https://api.github.com/users/kasini3000/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/kasini3000",
      "id": 65390418,
      "login": "kasini3000",
      "node_id": "MDQ6VXNlcjY1MzkwNDE4",
      "organizations_url": "https://api.github.com/users/kasini3000/orgs",
      "received_events_url": "https://api.github.com/users/kasini3000/received_events",
      "repos_url": "https://api.github.com/users/kasini3000/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/kasini3000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kasini3000/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/kasini3000"
    }
  },
  {
    "author_association": "NONE",
    "body": "> 1 Unique variable name between function and sub function\r\n> or\r\n> 2 variable name 【$private:foo】in function\r\n\r\nor 3 fix the code which so that it does initialize its variables.\r\n\r\n> in our daily work (we've created more than 5k PowerShell Scrips) we mostly have runtime **errors because functions do not initialize variables in all code-paths** and then the value of the parent (or even global!) variable with the same name is used.\r\n\r\nThe problem is that the people who use non-unique names AND also don't ensure their variables don't get initialized  AND don't mark them local: or private:   don't understand that they are doing something wrong so they won't apply a flag to a function to say \"This has that kind of variable\".  And the people who understand the flag would write code which didn't need it.\r\n\r\nSweeping generalizations like _\"Professional scripts almost never want to access global variables in functions\"_  bother me a bit, because quite a lot of scripts refer to $pwd. or $psversionTable, or $host, or $isWindows, or the various preference variables. Environment variables are, by definition, global, and that's where we for go username, computerName and various paths.  In many cases information needed by many functions - or by multiple calls to the same function (e.g. remote session details) lives in script-scoped variables. Some information is global in nature.  \r\n That's very different from saying \"don't use globals to do the job of parameters\" and \"don't access working variables which belong to other bits of code\" - neither of those _are_ global in nature.\r\n\r\nWhen we get a lecture on what \"Professional scripts\" do and don't do, it invites the response that professional scripts take a bit more trouble about initializing variables. ",
    "created_at": "2022-01-24T16:04:50Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/16794#issuecomment-1020259942",
    "id": 1020259942,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/16794",
    "node_id": "IC_kwDOAvT7bc48z-5m",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1020259942/reactions"
    },
    "updated_at": "2022-01-24T16:04:50Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1020259942",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/16209593?v=4",
      "events_url": "https://api.github.com/users/jhoneill/events{/privacy}",
      "followers_url": "https://api.github.com/users/jhoneill/followers",
      "following_url": "https://api.github.com/users/jhoneill/following{/other_user}",
      "gists_url": "https://api.github.com/users/jhoneill/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jhoneill",
      "id": 16209593,
      "login": "jhoneill",
      "node_id": "MDQ6VXNlcjE2MjA5NTkz",
      "organizations_url": "https://api.github.com/users/jhoneill/orgs",
      "received_events_url": "https://api.github.com/users/jhoneill/received_events",
      "repos_url": "https://api.github.com/users/jhoneill/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jhoneill/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jhoneill/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jhoneill"
    }
  },
  {
    "author_association": "NONE",
    "body": "> we mostly have runtime errors because functions do not initialize variables in all code-paths and then the value of the parent (or even global!) variable with the same name is used.\r\n\r\nIt's hard for me to imagine such a mess. I hope these variables are not constant and are not read-only. In my opinion, this is a management problem.",
    "created_at": "2022-01-24T16:42:16Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/16794#issuecomment-1020300826",
    "id": 1020300826,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/16794",
    "node_id": "IC_kwDOAvT7bc480I4a",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1020300826/reactions"
    },
    "updated_at": "2022-01-24T16:42:16Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1020300826",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/78153320?v=4",
      "events_url": "https://api.github.com/users/237dmitry/events{/privacy}",
      "followers_url": "https://api.github.com/users/237dmitry/followers",
      "following_url": "https://api.github.com/users/237dmitry/following{/other_user}",
      "gists_url": "https://api.github.com/users/237dmitry/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/237dmitry",
      "id": 78153320,
      "login": "237dmitry",
      "node_id": "MDQ6VXNlcjc4MTUzMzIw",
      "organizations_url": "https://api.github.com/users/237dmitry/orgs",
      "received_events_url": "https://api.github.com/users/237dmitry/received_events",
      "repos_url": "https://api.github.com/users/237dmitry/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/237dmitry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/237dmitry/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/237dmitry"
    }
  }
]
