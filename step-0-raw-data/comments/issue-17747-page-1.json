[
  {
    "author_association": "COLLABORATOR",
    "body": "Most of the use cases I've had for `Enter-PSHostProcess` and that I've guided folks through have been after a process has already gotten into a state that needs to be troubleshooted. Often in a way that is not trivial to reproduce.\r\n\r\nPersonally I'd really rather see this be opt-out, possibly at the configuration level. Attach to process debugging is already sort of a hand full to explain.\r\n\r\nDo we know how .NET handles this? Or do they have the same temp file problem?",
    "created_at": "2022-07-25T15:58:40Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/17747#issuecomment-1194277812",
    "id": 1194277812,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17747",
    "node_id": "IC_kwDOAvT7bc5HLzu0",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 3,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 3,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1194277812/reactions"
    },
    "updated_at": "2022-07-25T15:58:40Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1194277812",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/24977523?v=4",
      "events_url": "https://api.github.com/users/SeeminglyScience/events{/privacy}",
      "followers_url": "https://api.github.com/users/SeeminglyScience/followers",
      "following_url": "https://api.github.com/users/SeeminglyScience/following{/other_user}",
      "gists_url": "https://api.github.com/users/SeeminglyScience/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SeeminglyScience",
      "id": 24977523,
      "login": "SeeminglyScience",
      "node_id": "MDQ6VXNlcjI0OTc3NTIz",
      "organizations_url": "https://api.github.com/users/SeeminglyScience/orgs",
      "received_events_url": "https://api.github.com/users/SeeminglyScience/received_events",
      "repos_url": "https://api.github.com/users/SeeminglyScience/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SeeminglyScience/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SeeminglyScience/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SeeminglyScience"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "We discussed this some more and agree that opt-out would be less disruptive and still allow users not to have the listener running.  However, the original concern (#11599) was about named pipe files being littered on non-Windows platforms, if PowerShell is abruptly terminated (clicking on the terminal window close button rather than running `exit` command).  I did some investigation and dotNet puts the named pipe file in the users `/tmp` directory.  But it turns out that the CLR also creates three temporary files (two of which are used for debugging), and these files also get leaked.  So disabling PowerShell named pipe listener will not completely solve the problem.  The good news is that these files do get cleaned up on machine reboot, so those temporary files will not remain indefinitely.  \r\n\r\n",
    "created_at": "2022-07-25T17:22:19Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/17747#issuecomment-1194381049",
    "id": 1194381049,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17747",
    "node_id": "IC_kwDOAvT7bc5HMM75",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1194381049/reactions"
    },
    "updated_at": "2022-07-25T17:22:19Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1194381049",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/14019529?v=4",
      "events_url": "https://api.github.com/users/PaulHigin/events{/privacy}",
      "followers_url": "https://api.github.com/users/PaulHigin/followers",
      "following_url": "https://api.github.com/users/PaulHigin/following{/other_user}",
      "gists_url": "https://api.github.com/users/PaulHigin/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/PaulHigin",
      "id": 14019529,
      "login": "PaulHigin",
      "node_id": "MDQ6VXNlcjE0MDE5NTI5",
      "organizations_url": "https://api.github.com/users/PaulHigin/orgs",
      "received_events_url": "https://api.github.com/users/PaulHigin/received_events",
      "repos_url": "https://api.github.com/users/PaulHigin/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/PaulHigin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PaulHigin/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/PaulHigin"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "Based on the current behavior, I agree that Opt-in is a better model as we are getting many reports of this failing very frequently in Ubuntu 22.04",
    "created_at": "2022-07-25T18:10:44Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/17747#issuecomment-1194432575",
    "id": 1194432575,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17747",
    "node_id": "IC_kwDOAvT7bc5HMZg_",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1194432575/reactions"
    },
    "updated_at": "2022-07-25T18:10:44Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1194432575",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/10873629?v=4",
      "events_url": "https://api.github.com/users/TravisEz13/events{/privacy}",
      "followers_url": "https://api.github.com/users/TravisEz13/followers",
      "following_url": "https://api.github.com/users/TravisEz13/following{/other_user}",
      "gists_url": "https://api.github.com/users/TravisEz13/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/TravisEz13",
      "id": 10873629,
      "login": "TravisEz13",
      "node_id": "MDQ6VXNlcjEwODczNjI5",
      "organizations_url": "https://api.github.com/users/TravisEz13/orgs",
      "received_events_url": "https://api.github.com/users/TravisEz13/received_events",
      "repos_url": "https://api.github.com/users/TravisEz13/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/TravisEz13/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TravisEz13/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/TravisEz13"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Could pwsh on startup run in a separate thread a method that cleans up older pipes where the PID for that path has already exited? It would be annoying for this to become opt-in as I do find it quite useful that `Enter-PSHostProcess` just works without having to respawn a new process.",
    "created_at": "2022-07-25T21:37:03Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/17747#issuecomment-1194662492",
    "id": 1194662492,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17747",
    "node_id": "IC_kwDOAvT7bc5HNRpc",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1194662492/reactions"
    },
    "updated_at": "2022-07-25T21:37:28Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1194662492",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/8462645?v=4",
      "events_url": "https://api.github.com/users/jborean93/events{/privacy}",
      "followers_url": "https://api.github.com/users/jborean93/followers",
      "following_url": "https://api.github.com/users/jborean93/following{/other_user}",
      "gists_url": "https://api.github.com/users/jborean93/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jborean93",
      "id": 8462645,
      "login": "jborean93",
      "node_id": "MDQ6VXNlcjg0NjI2NDU=",
      "organizations_url": "https://api.github.com/users/jborean93/orgs",
      "received_events_url": "https://api.github.com/users/jborean93/received_events",
      "repos_url": "https://api.github.com/users/jborean93/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jborean93/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jborean93/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jborean93"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@jborean93 I agree that the listener always running is pretty convenient, but it is good to get community input to verify that.  The system already cleans up these temporary files on machine reboot (maybe even user log in/out, but not sure), so I don't think it is necessary to have PowerShell add a redundant cleaning mechanism.  At this point I feel `opt-out` is the right thing to do (sorry if I wasn't clear).  This is similar to what dotNET CLR does now (via environment variable) and gives users the option to opt-out of the listener, and not have littered files causing false alerts, but by default the listener will continue to always run on session start.",
    "created_at": "2022-07-25T21:51:08Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/17747#issuecomment-1194676178",
    "id": 1194676178,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17747",
    "node_id": "IC_kwDOAvT7bc5HNU_S",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 3,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 3,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1194676178/reactions"
    },
    "updated_at": "2022-07-25T21:51:08Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1194676178",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/14019529?v=4",
      "events_url": "https://api.github.com/users/PaulHigin/events{/privacy}",
      "followers_url": "https://api.github.com/users/PaulHigin/followers",
      "following_url": "https://api.github.com/users/PaulHigin/following{/other_user}",
      "gists_url": "https://api.github.com/users/PaulHigin/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/PaulHigin",
      "id": 14019529,
      "login": "PaulHigin",
      "node_id": "MDQ6VXNlcjE0MDE5NTI5",
      "organizations_url": "https://api.github.com/users/PaulHigin/orgs",
      "received_events_url": "https://api.github.com/users/PaulHigin/received_events",
      "repos_url": "https://api.github.com/users/PaulHigin/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/PaulHigin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PaulHigin/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/PaulHigin"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Closing this PR due to change from opt-in to opt-out preference.",
    "created_at": "2022-07-27T15:38:12Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/17747#issuecomment-1196922697",
    "id": 1196922697,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17747",
    "node_id": "IC_kwDOAvT7bc5HV5dJ",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1196922697/reactions"
    },
    "updated_at": "2022-07-27T15:38:12Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1196922697",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/14019529?v=4",
      "events_url": "https://api.github.com/users/PaulHigin/events{/privacy}",
      "followers_url": "https://api.github.com/users/PaulHigin/followers",
      "following_url": "https://api.github.com/users/PaulHigin/following{/other_user}",
      "gists_url": "https://api.github.com/users/PaulHigin/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/PaulHigin",
      "id": 14019529,
      "login": "PaulHigin",
      "node_id": "MDQ6VXNlcjE0MDE5NTI5",
      "organizations_url": "https://api.github.com/users/PaulHigin/orgs",
      "received_events_url": "https://api.github.com/users/PaulHigin/received_events",
      "repos_url": "https://api.github.com/users/PaulHigin/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/PaulHigin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PaulHigin/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/PaulHigin"
    }
  },
  {
    "author_association": "NONE",
    "body": "Is there a PR that implements the opt-out preference?",
    "created_at": "2022-08-08T13:40:16Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/17747#issuecomment-1208146110",
    "id": 1208146110,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17747",
    "node_id": "IC_kwDOAvT7bc5IAti-",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1208146110/reactions"
    },
    "updated_at": "2022-08-08T13:40:16Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1208146110",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/3999345?v=4",
      "events_url": "https://api.github.com/users/olii/events{/privacy}",
      "followers_url": "https://api.github.com/users/olii/followers",
      "following_url": "https://api.github.com/users/olii/following{/other_user}",
      "gists_url": "https://api.github.com/users/olii/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/olii",
      "id": 3999345,
      "login": "olii",
      "node_id": "MDQ6VXNlcjM5OTkzNDU=",
      "organizations_url": "https://api.github.com/users/olii/orgs",
      "received_events_url": "https://api.github.com/users/olii/received_events",
      "repos_url": "https://api.github.com/users/olii/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/olii/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/olii/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/olii"
    }
  }
]
