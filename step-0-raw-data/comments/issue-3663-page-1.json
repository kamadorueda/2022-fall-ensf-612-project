[
  {
    "author_association": "MEMBER",
    "body": "This repros on Windows PowerShell 5.1 for me, but not in PSCore6 where I have the same PSModulePath from 5.1\r\n\r\n```powershell\r\nPS C:\\users\\slee\\repos> measure-command {New-ModuleManifest m.psd1 -requiredmodules sub; Test-ModuleManifest m.psd1}\r\nTest-ModuleManifest : The specified RequiredModules entry 'sub' in the module manifest 'C:\\users\\slee\\repos\\m.psd1' is\r\ninvalid. Try again after updating this entry with valid values.\r\nAt line:1 char:66\r\n+ ... duleManifest m.psd1 -requiredmodules sub; Test-ModuleManifest m.psd1}\r\n+                                               ~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    + CategoryInfo          : ObjectNotFound: (m.psd1:String) [Test-ModuleManifest], DirectoryNotFoundException\r\n    + FullyQualifiedErrorId : Modules_InvalidRequiredModulesinModuleManifest,Microsoft.PowerShell.Commands.TestModuleM\r\n   anifestCommand\r\n\r\n\r\n\r\nDays              : 0\r\nHours             : 0\r\nMinutes           : 0\r\nSeconds           : 0\r\nMilliseconds      : 351\r\nTicks             : 3518615\r\nTotalDays         : 4.07247106481481E-06\r\nTotalHours        : 9.77393055555556E-05\r\nTotalMinutes      : 0.00586435833333333\r\nTotalSeconds      : 0.3518615\r\nTotalMilliseconds : 351.8615\r\n```",
    "created_at": "2017-04-28T17:00:45Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/3663#issuecomment-298052045",
    "id": 298052045,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/3663",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODA1MjA0NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/298052045/reactions"
    },
    "updated_at": "2017-04-28T17:00:45Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/298052045",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Would still be nice to fix on Windows, right?",
    "created_at": "2017-04-28T18:55:18Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/3663#issuecomment-298079298",
    "id": 298079298,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/3663",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODA3OTI5OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/298079298/reactions"
    },
    "updated_at": "2017-04-28T18:55:18Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/298079298",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/3505151?v=4",
      "events_url": "https://api.github.com/users/powercode/events{/privacy}",
      "followers_url": "https://api.github.com/users/powercode/followers",
      "following_url": "https://api.github.com/users/powercode/following{/other_user}",
      "gists_url": "https://api.github.com/users/powercode/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/powercode",
      "id": 3505151,
      "login": "powercode",
      "node_id": "MDQ6VXNlcjM1MDUxNTE=",
      "organizations_url": "https://api.github.com/users/powercode/orgs",
      "received_events_url": "https://api.github.com/users/powercode/received_events",
      "repos_url": "https://api.github.com/users/powercode/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/powercode/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/powercode/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/powercode"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@powercode the unfortunate reality is that fixing an issue in the in-box Windows PowerShell is a much more involved process than fixing something on GitHub.  At this time we are really only taking security fixes for Windows PowerShell and focusing our engineering efforts on PSCore6.",
    "created_at": "2017-04-29T18:04:53Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/3663#issuecomment-298184741",
    "id": 298184741,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/3663",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODE4NDc0MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 1,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/298184741/reactions"
    },
    "updated_at": "2017-04-29T18:04:53Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/298184741",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "NONE",
    "body": "So the workaround I found was that you have to call the Install-Module for each dependent module BEFORE attempting to publish the module with dependencies.\r\n",
    "created_at": "2018-05-09T23:35:48Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/3663#issuecomment-387906272",
    "id": 387906272,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/3663",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NzkwNjI3Mg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/387906272/reactions"
    },
    "updated_at": "2018-05-09T23:35:48Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/387906272",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/30178859?v=4",
      "events_url": "https://api.github.com/users/SeanSteefel/events{/privacy}",
      "followers_url": "https://api.github.com/users/SeanSteefel/followers",
      "following_url": "https://api.github.com/users/SeanSteefel/following{/other_user}",
      "gists_url": "https://api.github.com/users/SeanSteefel/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SeanSteefel",
      "id": 30178859,
      "login": "SeanSteefel",
      "node_id": "MDQ6VXNlcjMwMTc4ODU5",
      "organizations_url": "https://api.github.com/users/SeanSteefel/orgs",
      "received_events_url": "https://api.github.com/users/SeanSteefel/received_events",
      "repos_url": "https://api.github.com/users/SeanSteefel/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SeanSteefel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SeanSteefel/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SeanSteefel"
    }
  },
  {
    "author_association": "NONE",
    "body": "The other way to work around this is to rely on the `#Requires` in the psm1 argument instead of RequiredModules in the psd1.\r\n\r\n```powershell\r\n#Requires -modules Module1,Module2,Module3\r\n```\r\n\r\nWhile this does break the auto install of RequiredModules during the Install-Module it does solve the Test-ModuleManifest issue and causes psake to function as expected during build.",
    "created_at": "2018-08-24T14:38:48Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/3663#issuecomment-415779321",
    "id": 415779321,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/3663",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTc3OTMyMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/415779321/reactions"
    },
    "updated_at": "2018-08-24T14:38:48Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/415779321",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/4817845?v=4",
      "events_url": "https://api.github.com/users/45413/events{/privacy}",
      "followers_url": "https://api.github.com/users/45413/followers",
      "following_url": "https://api.github.com/users/45413/following{/other_user}",
      "gists_url": "https://api.github.com/users/45413/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/45413",
      "id": 4817845,
      "login": "45413",
      "node_id": "MDQ6VXNlcjQ4MTc4NDU=",
      "organizations_url": "https://api.github.com/users/45413/orgs",
      "received_events_url": "https://api.github.com/users/45413/received_events",
      "repos_url": "https://api.github.com/users/45413/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/45413/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/45413/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/45413"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "One last approach worth mentioning is that you can temporarily change the `$ENV:PSModulePath` to a folder where you download your required modules. I have used this to work around the import issue.",
    "created_at": "2018-08-25T03:59:52Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/3663#issuecomment-415932738",
    "id": 415932738,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/3663",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTkzMjczOA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/415932738/reactions"
    },
    "updated_at": "2018-08-25T03:59:52Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/415932738",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7864621?v=4",
      "events_url": "https://api.github.com/users/KevinMarquette/events{/privacy}",
      "followers_url": "https://api.github.com/users/KevinMarquette/followers",
      "following_url": "https://api.github.com/users/KevinMarquette/following{/other_user}",
      "gists_url": "https://api.github.com/users/KevinMarquette/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/KevinMarquette",
      "id": 7864621,
      "login": "KevinMarquette",
      "node_id": "MDQ6VXNlcjc4NjQ2MjE=",
      "organizations_url": "https://api.github.com/users/KevinMarquette/orgs",
      "received_events_url": "https://api.github.com/users/KevinMarquette/received_events",
      "repos_url": "https://api.github.com/users/KevinMarquette/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/KevinMarquette/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/KevinMarquette/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/KevinMarquette"
    }
  },
  {
    "author_association": "NONE",
    "body": "@SteveL-MSFT - You said that you could reproduce this error on PowerShell version 5.1 but it works for you on PowerShell 6?  I'm not having the same luck. Running PowerShell version 6.0.4 on a Docker container on Ubuntu 16.04 and running PowerShell version 6.0.4 on Windows Server 2016, throws the DirectoryNotFoundException error when running Test-ModuleManifest if I don't install the required modules first. Did you do the workaround of installing all of the dependent modules to get it work?",
    "created_at": "2018-09-05T23:20:05Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/3663#issuecomment-418912158",
    "id": 418912158,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/3663",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxODkxMjE1OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/418912158/reactions"
    },
    "updated_at": "2018-09-05T23:20:05Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/418912158",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/14335463?v=4",
      "events_url": "https://api.github.com/users/cholmes1111/events{/privacy}",
      "followers_url": "https://api.github.com/users/cholmes1111/followers",
      "following_url": "https://api.github.com/users/cholmes1111/following{/other_user}",
      "gists_url": "https://api.github.com/users/cholmes1111/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/cholmes1111",
      "id": 14335463,
      "login": "cholmes1111",
      "node_id": "MDQ6VXNlcjE0MzM1NDYz",
      "organizations_url": "https://api.github.com/users/cholmes1111/orgs",
      "received_events_url": "https://api.github.com/users/cholmes1111/received_events",
      "repos_url": "https://api.github.com/users/cholmes1111/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/cholmes1111/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cholmes1111/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/cholmes1111"
    }
  }
]
