[
  {
    "author_association": "CONTRIBUTOR",
    "body": "~~It looks like a bug:~~ `ValidateUserDriveAttribute` derives from `ValidateDriveAttribute` and initializes the latter with hard-coded string `User`, which means that truly only paths starting literally with `User:` are accepted.\r\n\r\nhttps://github.com/PowerShell/PowerShell/blob/c41c39be2a172440f8efd57baa0c9a596df76326/src/System.Management.Automation/engine/Attributes.cs#L1915-L1924",
    "created_at": "2020-04-20T14:50:07Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12391#issuecomment-616603738",
    "id": 616603738,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12391",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNjYwMzczOA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/616603738/reactions"
    },
    "updated_at": "2020-04-20T16:37:41Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/616603738",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "I'm not really clear on the design intent of `ValidateUserDriveAttribute` as it is to be quite honest. Perhaps @SteveL-MSFT or one of the other team members can speak more accurately to that.",
    "created_at": "2020-04-20T15:41:53Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12391#issuecomment-616635919",
    "id": 616635919,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12391",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNjYzNTkxOQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/616635919/reactions"
    },
    "updated_at": "2020-04-20T15:41:53Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/616635919",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "I'm curious too. ~~It almost looks like the current implementation is based on a misconception~~:\r\n\r\nCurrently, `[ValidateUserDriveAttribute()]` is effectively the same as  `[ValidateDrive('user')]`, where `'user'` binds to the `ValidRootDrives` property that contains the list of drive names that are allowed  - that is, only paths referencing a drive literally named `user:` are accepted (and that drive must exist).\r\n\r\nSince constructors aren't inherited and `ValidateUserDriveAttribute` only has a parameterless one (and no settable public properties / fields), the above use is the only possible one.\r\n\r\n\r\n\r\n\r\n",
    "created_at": "2020-04-20T15:49:49Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12391#issuecomment-616640839",
    "id": 616640839,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12391",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNjY0MDgzOQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/616640839/reactions"
    },
    "updated_at": "2020-04-20T16:07:36Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/616640839",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "NONE",
    "body": "```\r\nPS C:\\> New-PSDrive -Name user -PSProvider FileSystem -Root C:\\Users\\Public\r\n\r\nName           Used (GB)     Free (GB) Provider      Root                                CurrentL\r\n                                                                                          ocation\r\n----           ---------     --------- --------      ----                                --------\r\nuser              438.58         26.84 FileSystem    C:\\Users\\Public\r\n\r\nPS C:\\> [ValidateUserDrive()]$a = 'user:\\foo'\r\nPS C:\\> [ValidateDrive('user')]$a = 'user:\\foo'\r\nPS C:\\>\r\n```",
    "created_at": "2020-04-20T15:52:47Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12391#issuecomment-616642882",
    "id": 616642882,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12391",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNjY0Mjg4Mg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/616642882/reactions"
    },
    "updated_at": "2020-04-20T15:52:47Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/616642882",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/36144546?v=4",
      "events_url": "https://api.github.com/users/p0W3RH311/events{/privacy}",
      "followers_url": "https://api.github.com/users/p0W3RH311/followers",
      "following_url": "https://api.github.com/users/p0W3RH311/following{/other_user}",
      "gists_url": "https://api.github.com/users/p0W3RH311/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/p0W3RH311",
      "id": 36144546,
      "login": "p0W3RH311",
      "node_id": "MDQ6VXNlcjM2MTQ0NTQ2",
      "organizations_url": "https://api.github.com/users/p0W3RH311/orgs",
      "received_events_url": "https://api.github.com/users/p0W3RH311/received_events",
      "repos_url": "https://api.github.com/users/p0W3RH311/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/p0W3RH311/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/p0W3RH311/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/p0W3RH311"
    }
  },
  {
    "author_association": "NONE",
    "body": "i found this but i m not certain:\r\n\r\n```\r\nUser drive\r\n\r\nIf your connecting users need to copy files to or from the JEA endpoint, you can enable the user drive in the session configuration file. The user drive is a PSDrive that is mapped to a unique folder for each connecting user. This folder allows users to copy files to or from the system without giving them access to the full file system or exposing the FileSystem provider. The user drive contents are persistent across sessions to accommodate situations where network connectivity may be interrupted.\r\n```\r\n\r\n[its in relation with Jea perhaps](https://docs.microsoft.com/en-us/powershell/scripting/learn/remoting/jea/session-configurations?view=powershell-7) ?!",
    "created_at": "2020-04-20T15:57:27Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12391#issuecomment-616645791",
    "id": 616645791,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12391",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNjY0NTc5MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 2,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 2,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/616645791/reactions"
    },
    "updated_at": "2020-04-20T15:57:27Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/616645791",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/36144546?v=4",
      "events_url": "https://api.github.com/users/p0W3RH311/events{/privacy}",
      "followers_url": "https://api.github.com/users/p0W3RH311/followers",
      "following_url": "https://api.github.com/users/p0W3RH311/following{/other_user}",
      "gists_url": "https://api.github.com/users/p0W3RH311/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/p0W3RH311",
      "id": 36144546,
      "login": "p0W3RH311",
      "node_id": "MDQ6VXNlcjM2MTQ0NTQ2",
      "organizations_url": "https://api.github.com/users/p0W3RH311/orgs",
      "received_events_url": "https://api.github.com/users/p0W3RH311/received_events",
      "repos_url": "https://api.github.com/users/p0W3RH311/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/p0W3RH311/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/p0W3RH311/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/p0W3RH311"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "I think it does have something to do with JEA.  cc @PaulHigin ",
    "created_at": "2020-04-20T16:54:21Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12391#issuecomment-616681035",
    "id": 616681035,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12391",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNjY4MTAzNQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/616681035/reactions"
    },
    "updated_at": "2020-04-20T16:54:21Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/616681035",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Yes, this is related to a JEA configuration option.  Normally a JEA endpoint does not enable the file system provider so as to prevent information disclosure and unwanted file changes.  But there needs to be a way to legitimately transfer and access files in a JEA session, so an optional 'UserDrive' can be mounted on the endpoint and the user is restricted to that PSDrive.\r\n\r\nSee `New-PSSessionConfigurationFile -MountUserDrive`\r\n\r\nThe `ValidateUserDrive` attribute is used internally by JEA helper functions to ensure provided path arguments are valid `UserDrive:` paths.",
    "created_at": "2020-04-20T17:27:48Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12391#issuecomment-616700733",
    "id": 616700733,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12391",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNjcwMDczMw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/616700733/reactions"
    },
    "updated_at": "2020-04-20T17:27:48Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/616700733",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/14019529?v=4",
      "events_url": "https://api.github.com/users/PaulHigin/events{/privacy}",
      "followers_url": "https://api.github.com/users/PaulHigin/followers",
      "following_url": "https://api.github.com/users/PaulHigin/following{/other_user}",
      "gists_url": "https://api.github.com/users/PaulHigin/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/PaulHigin",
      "id": 14019529,
      "login": "PaulHigin",
      "node_id": "MDQ6VXNlcjE0MDE5NTI5",
      "organizations_url": "https://api.github.com/users/PaulHigin/orgs",
      "received_events_url": "https://api.github.com/users/PaulHigin/received_events",
      "repos_url": "https://api.github.com/users/PaulHigin/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/PaulHigin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PaulHigin/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/PaulHigin"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@PaulHigin @sdwheeler perhaps this should be a doc issue instead, then? Most / all of that information is missing from the documentation pages for that attribute, last I checked. ðŸ™‚ ",
    "created_at": "2020-04-20T20:41:07Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12391#issuecomment-616796987",
    "id": 616796987,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12391",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNjc5Njk4Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/616796987/reactions"
    },
    "updated_at": "2020-04-20T20:41:35Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/616796987",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Can you please file a doc issue?",
    "created_at": "2020-04-20T23:25:15Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12391#issuecomment-616862414",
    "id": 616862414,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12391",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNjg2MjQxNA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/616862414/reactions"
    },
    "updated_at": "2020-04-20T23:25:15Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/616862414",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/14019529?v=4",
      "events_url": "https://api.github.com/users/PaulHigin/events{/privacy}",
      "followers_url": "https://api.github.com/users/PaulHigin/followers",
      "following_url": "https://api.github.com/users/PaulHigin/following{/other_user}",
      "gists_url": "https://api.github.com/users/PaulHigin/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/PaulHigin",
      "id": 14019529,
      "login": "PaulHigin",
      "node_id": "MDQ6VXNlcjE0MDE5NTI5",
      "organizations_url": "https://api.github.com/users/PaulHigin/orgs",
      "received_events_url": "https://api.github.com/users/PaulHigin/received_events",
      "repos_url": "https://api.github.com/users/PaulHigin/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/PaulHigin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PaulHigin/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/PaulHigin"
    }
  }
]
