[
  {
    "author_association": "NONE",
    "body": "We would probably want to add the following XML elements to the manifest:\r\n\r\n```xml\r\n<Properties>\r\n  <desktop6:RegistryWriteVirtualization>disabled</desktop6:RegistryWriteVirtualization>\r\n</Properties>\r\n<!-- other content... -->\r\n<Capabilities>\r\n  <rescap:Capability Name=\"unvirtualizedResources\" />\r\n</Capabilities>\r\n```\r\n\r\nThis will instruct Windows to allow the packaged copy of PowerShell to modify the system Registry directly. Without it, PowerShell's Registry manipulation features will not function properly (the changes will be visible only to PowerShell), vastly impairing the usefulness of the program.\r\n\r\nNote that users will need to be running 19H1 for this to work. The use of the desktop6 namespace should not impair loading of the package on downlevel versions of Windows 10 (assuming `IgnorableNamespaces` is used), but the capability might.",
    "created_at": "2019-04-04T23:45:55Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/9289#issuecomment-480101789",
    "id": 480101789,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9289",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MDEwMTc4OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 2,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 2,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/480101789/reactions"
    },
    "updated_at": "2019-04-04T23:45:55Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/480101789",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/1915951?v=4",
      "events_url": "https://api.github.com/users/wjk/events{/privacy}",
      "followers_url": "https://api.github.com/users/wjk/followers",
      "following_url": "https://api.github.com/users/wjk/following{/other_user}",
      "gists_url": "https://api.github.com/users/wjk/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/wjk",
      "id": 1915951,
      "login": "wjk",
      "node_id": "MDQ6VXNlcjE5MTU5NTE=",
      "organizations_url": "https://api.github.com/users/wjk/orgs",
      "received_events_url": "https://api.github.com/users/wjk/received_events",
      "repos_url": "https://api.github.com/users/wjk/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/wjk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wjk/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/wjk"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@wjk Thanks for that snippet!  That should resolve the issue I see with using the registry provider from the msix.  Will update the manifest.",
    "created_at": "2019-04-05T02:14:16Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/9289#issuecomment-480125590",
    "id": 480125590,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9289",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MDEyNTU5MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/480125590/reactions"
    },
    "updated_at": "2019-04-05T02:14:16Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/480125590",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@wjk With those additions, it doesn't fix some issues with the msix package in that `Move-Item`, `Copy-Item` and `Rename-Item` doesn't work with registry provider when elevated and against HKLM:.  `New-Item` and `Remove-Item` do work.  And all cmdlets seem to work against HKCU:.",
    "created_at": "2019-04-05T04:17:41Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/9289#issuecomment-480143023",
    "id": 480143023,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9289",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MDE0MzAyMw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/480143023/reactions"
    },
    "updated_at": "2019-04-05T04:17:41Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/480143023",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "NONE",
    "body": "@SteveL-MSFT Unfortunately, I'm not running 19H1 yet, so I can’t help debug your HKLM issue. It seems really weird that some of the registry cmdlets would work, but others don’t. Do you see an error message, or do the changes simply silently fail?",
    "created_at": "2019-04-05T14:25:43Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/9289#issuecomment-480295198",
    "id": 480295198,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9289",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MDI5NTE5OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/480295198/reactions"
    },
    "updated_at": "2019-04-05T14:25:43Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/480295198",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/1915951?v=4",
      "events_url": "https://api.github.com/users/wjk/events{/privacy}",
      "followers_url": "https://api.github.com/users/wjk/followers",
      "following_url": "https://api.github.com/users/wjk/following{/other_user}",
      "gists_url": "https://api.github.com/users/wjk/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/wjk",
      "id": 1915951,
      "login": "wjk",
      "node_id": "MDQ6VXNlcjE5MTU5NTE=",
      "organizations_url": "https://api.github.com/users/wjk/orgs",
      "received_events_url": "https://api.github.com/users/wjk/received_events",
      "repos_url": "https://api.github.com/users/wjk/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/wjk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wjk/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/wjk"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@wjk Getting an `Access Denied` error when attempting a move, rename, or copy.  Here's the stacktace:\r\n\r\n```powershell\r\nPSMessageDetails      :\r\nException             : System.Security.SecurityException: Requested registry access is not allowed.\r\n                           at Microsoft.Win32.ThrowHelper.ThrowSecurityException(String msg)\r\n                           at Microsoft.Win32.RegistryKey.InternalOpenSubKeyCore(String name, Boolean writable,\r\n                        Boolean throwOnPermissionFailure)\r\n                           at Microsoft.PowerShell.Commands.RegistryWrapper.OpenSubKey(String name, Boolean writable)\r\n                           at Microsoft.PowerShell.Commands.RegistryProvider.GetRegkeyForPath(String path, Boolean\r\n                        writeAccess)\r\n                           at Microsoft.PowerShell.Commands.RegistryProvider.CopyRegistryKey(IRegistryWrapper key,\r\n                        String path, String destination, Boolean recurse, Boolean streamResult, Boolean\r\n                        streamFirstOnly)\r\n                           at Microsoft.PowerShell.Commands.RegistryProvider.CopyItem(String path, String destination,\r\n                        Boolean recurse)\r\nTargetObject          : HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\PowerShell\\3\\test\\test\r\nCategoryInfo          : PermissionDenied: (HKEY_LOCAL_MACHINE\\\\u2026erShell\\3\\test\\test:String) [Copy-Item],\r\n                        SecurityException\r\nFullyQualifiedErrorId : System.Security.SecurityException,Microsoft.PowerShell.Commands.CopyItemCommand\r\nErrorDetails          :\r\nInvocationInfo        : System.Management.Automation.InvocationInfo\r\nScriptStackTrace      : at <ScriptBlock>, <No file>: line 1\r\nPipelineIterationInfo : {0, 1}\r\n```\r\n",
    "created_at": "2019-04-05T16:24:48Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/9289#issuecomment-480337991",
    "id": 480337991,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9289",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MDMzNzk5MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/480337991/reactions"
    },
    "updated_at": "2019-04-05T16:24:48Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/480337991",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@SteveL-MSFT, your last commit had 1 failures in `PowerShell-CI-macos`\r\nValidate 'Save-Help -DestinationPath for all PowerShell Core modules..Validate Save-Help for the 'Microsoft.PowerShell.Core' module\r\n```powershell\r\nExpected $null, but got 'Microsoft.PowerShell.Core_00000000-0000-0000-0000-000000000000_en-US_HelpContent.zip'.\r\nat <ScriptBlock>, /Users/vsts/agent/2.149.2/work/1/s/test/powershell/engine/Help/UpdatableHelpSystem.Tests.ps1: line 332\r\n332:     $expectedCompressedFile | Should -Be $compressedFile\r\n```\r\n",
    "created_at": "2019-04-15T20:34:42Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/9289#issuecomment-483408086",
    "id": 483408086,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9289",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MzQwODA4Ng==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/483408086/reactions"
    },
    "updated_at": "2019-04-15T20:34:42Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/483408086",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/47263765?v=4",
      "events_url": "https://api.github.com/users/PoshChan/events{/privacy}",
      "followers_url": "https://api.github.com/users/PoshChan/followers",
      "following_url": "https://api.github.com/users/PoshChan/following{/other_user}",
      "gists_url": "https://api.github.com/users/PoshChan/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/PoshChan",
      "id": 47263765,
      "login": "PoshChan",
      "node_id": "MDQ6VXNlcjQ3MjYzNzY1",
      "organizations_url": "https://api.github.com/users/PoshChan/orgs",
      "received_events_url": "https://api.github.com/users/PoshChan/received_events",
      "repos_url": "https://api.github.com/users/PoshChan/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/PoshChan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PoshChan/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/PoshChan"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@PoshChan please retry macos",
    "created_at": "2019-04-15T21:10:13Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/9289#issuecomment-483420132",
    "id": 483420132,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9289",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MzQyMDEzMg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/483420132/reactions"
    },
    "updated_at": "2019-04-15T21:10:13Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/483420132",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@SteveL-MSFT, successfully started retry of `PowerShell-CI-macOS`",
    "created_at": "2019-04-15T21:11:32Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/9289#issuecomment-483420601",
    "id": 483420601,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9289",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MzQyMDYwMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/483420601/reactions"
    },
    "updated_at": "2019-04-15T21:11:32Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/483420601",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/47263765?v=4",
      "events_url": "https://api.github.com/users/PoshChan/events{/privacy}",
      "followers_url": "https://api.github.com/users/PoshChan/followers",
      "following_url": "https://api.github.com/users/PoshChan/following{/other_user}",
      "gists_url": "https://api.github.com/users/PoshChan/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/PoshChan",
      "id": 47263765,
      "login": "PoshChan",
      "node_id": "MDQ6VXNlcjQ3MjYzNzY1",
      "organizations_url": "https://api.github.com/users/PoshChan/orgs",
      "received_events_url": "https://api.github.com/users/PoshChan/received_events",
      "repos_url": "https://api.github.com/users/PoshChan/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/PoshChan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PoshChan/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/PoshChan"
    }
  }
]
