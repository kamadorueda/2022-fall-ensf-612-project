[
  {
    "author_association": "COLLABORATOR",
    "body": "The repository is for PowerShell 7 only, not Windows PowerShell. Also the cmdlet is not in the repository. Please report the issue to Windows team with Windows Feedback tool.",
    "created_at": "2022-02-10T03:57:01Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/16865#issuecomment-1034467843",
    "id": 1034467843,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/16865",
    "node_id": "IC_kwDOAvT7bc49qLoD",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1034467843/reactions"
    },
    "updated_at": "2022-02-10T03:57:01Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1034467843",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "NONE",
    "body": "Actually @iSazonov   there are a couple of things we might want to check. \r\nThis is a CIM cmdlet  defined in `%windir%\\System32\\WindowsPowerShell\\v1.0\\Modules\\Storage\\Volume.cdxml`\r\n\r\nHere's the definition of the drive letter parameter\r\n```\r\n            <!-- DriveLetter -->\r\n            <Property PropertyName=\"DriveLetter\">\r\n              <Type PSType=\"System.Char\" />\r\n              <RegularQuery>\r\n                <CmdletParameterMetadata IsMandatory=\"true\" ValueFromPipelineByPropertyName=\"true\" CmdletParameterSets=\"ByDriveLetter\" Position=\"0\" />\r\n              </RegularQuery>\r\n            </Property>\r\n```\r\nThat says it is of type `system.char`. \r\nHere's what I see if **7.2.1**  compiles that \r\n```\r\n    [Parameter(ParameterSetName='ByDriveLetter', Mandatory=$true, Position=0, ValueFromPipelineByPropertyName=$true)]\r\n    [ValidateNotNull()]\r\n    [char[]]\r\n    ${DriveLetter},\r\n```\r\nNow it has become `char[]`    so \"a string like \"Label\"  will be cast to  l, a, b, e, l ;    \r\nI get that we want people to be able to write X,Y but this side effect really needs a backstop of prompting, and this should prompt  and the XML suggests it should prompt\r\n```\r\n      <Cmdlet>\r\n        <CmdletMetadata Verb=\"Format\" ConfirmImpact=\"High\" Aliases=\"Initialize-Volume\" />\r\n```\r\n\r\nAnd the compiled result on 7.2.1 has all the right things to prompt. \r\n```\r\n[CmdletBinding(DefaultParameterSetName='ByDriveLetter', SupportsShouldProcess=$true, ConfirmImpact='High', PositionalBinding=$false)]\r\n```\r\n\r\nI don't have a spare drive to format, but the error when the letter doesn't exist suggest the call to do the format is being issued without prompting the user.   I may be reading it wrongly, but it does look a possible issue with all CIM cmdlets.  \r\n\r\n",
    "created_at": "2022-02-10T13:10:22Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/16865#issuecomment-1034905266",
    "id": 1034905266,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/16865",
    "node_id": "IC_kwDOAvT7bc49r2ay",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 1,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 2,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1034905266/reactions"
    },
    "updated_at": "2022-02-10T13:10:22Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1034905266",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/16209593?v=4",
      "events_url": "https://api.github.com/users/jhoneill/events{/privacy}",
      "followers_url": "https://api.github.com/users/jhoneill/followers",
      "following_url": "https://api.github.com/users/jhoneill/following{/other_user}",
      "gists_url": "https://api.github.com/users/jhoneill/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jhoneill",
      "id": 16209593,
      "login": "jhoneill",
      "node_id": "MDQ6VXNlcjE2MjA5NTkz",
      "organizations_url": "https://api.github.com/users/jhoneill/orgs",
      "received_events_url": "https://api.github.com/users/jhoneill/received_events",
      "repos_url": "https://api.github.com/users/jhoneill/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jhoneill/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jhoneill/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jhoneill"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "As the OP notes, the XML definition is missing this xml:\r\n```xml\r\n<CmdletAdapterPrivateData>\r\n<Data Name=\"ClientSideShouldProcess\" />\r\n</CmdletAdapterPrivateData>\r\n```\r\n\r\nWhich is what seems to actually trigger the command to prompt before doing something. The current definition just defines `[CmdletBinding(SupportsShouldProcess, ConfirmImpact = 'High')]` without actually ever calling `$PSCmdlet.ShouldProcess()`. The latter is what makes it actually prompt, the former just indicates it supports `-WhatIf` and `-Confirm` parameters without ever checking for them.",
    "created_at": "2022-02-10T14:02:32Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/16865#issuecomment-1034957899",
    "id": 1034957899,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/16865",
    "node_id": "IC_kwDOAvT7bc49sDRL",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1034957899/reactions"
    },
    "updated_at": "2022-02-10T14:03:39Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1034957899",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "NONE",
    "body": "> As the OP notes, the XML definition is missing this xml:\r\n> \r\n\r\nI should have read more carefully.  If it is that which is missing then the CIM cmdlet definition **is** being processed correctly. \r\n(A char becoming char[] is probably right so you can specify X , Y but when it explodes a string problems ensue). \r\n\r\n",
    "created_at": "2022-02-10T17:42:44Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/16865#issuecomment-1035222662",
    "id": 1035222662,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/16865",
    "node_id": "IC_kwDOAvT7bc49tD6G",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1035222662/reactions"
    },
    "updated_at": "2022-02-10T17:42:44Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1035222662",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/16209593?v=4",
      "events_url": "https://api.github.com/users/jhoneill/events{/privacy}",
      "followers_url": "https://api.github.com/users/jhoneill/followers",
      "following_url": "https://api.github.com/users/jhoneill/following{/other_user}",
      "gists_url": "https://api.github.com/users/jhoneill/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jhoneill",
      "id": 16209593,
      "login": "jhoneill",
      "node_id": "MDQ6VXNlcjE2MjA5NTkz",
      "organizations_url": "https://api.github.com/users/jhoneill/orgs",
      "received_events_url": "https://api.github.com/users/jhoneill/received_events",
      "repos_url": "https://api.github.com/users/jhoneill/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jhoneill/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jhoneill/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jhoneill"
    }
  },
  {
    "author_association": "NONE",
    "body": "This issue has been marked as external and has not had any activity for **1 day**. It has been be closed for housekeeping purposes.",
    "created_at": "2022-02-11T19:00:41Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/16865#issuecomment-1036522777",
    "id": 1036522777,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/16865",
    "node_id": "IC_kwDOAvT7bc49yBUZ",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1036522777/reactions"
    },
    "updated_at": "2022-02-11T19:00:41Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1036522777",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/in/26612?v=4",
      "events_url": "https://api.github.com/users/msftbot%5Bbot%5D/events{/privacy}",
      "followers_url": "https://api.github.com/users/msftbot%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/msftbot%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/msftbot%5Bbot%5D/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/apps/msftbot",
      "id": 48340428,
      "login": "msftbot[bot]",
      "node_id": "MDM6Qm90NDgzNDA0Mjg=",
      "organizations_url": "https://api.github.com/users/msftbot%5Bbot%5D/orgs",
      "received_events_url": "https://api.github.com/users/msftbot%5Bbot%5D/received_events",
      "repos_url": "https://api.github.com/users/msftbot%5Bbot%5D/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/msftbot%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/msftbot%5Bbot%5D/subscriptions",
      "type": "Bot",
      "url": "https://api.github.com/users/msftbot%5Bbot%5D"
    }
  }
]
