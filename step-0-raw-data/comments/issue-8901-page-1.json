[
  {
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for the thorough review, @kvprasoon, and for sticking with me while I work through your suggestions :-)",
    "created_at": "2019-02-20T11:58:00Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/8901#issuecomment-465545149",
    "id": 465545149,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8901",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTU0NTE0OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/465545149/reactions"
    },
    "updated_at": "2019-02-20T11:58:00Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/465545149",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/147548?v=4",
      "events_url": "https://api.github.com/users/diddledani/events{/privacy}",
      "followers_url": "https://api.github.com/users/diddledani/followers",
      "following_url": "https://api.github.com/users/diddledani/following{/other_user}",
      "gists_url": "https://api.github.com/users/diddledani/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/diddledani",
      "id": 147548,
      "login": "diddledani",
      "node_id": "MDQ6VXNlcjE0NzU0OA==",
      "organizations_url": "https://api.github.com/users/diddledani/orgs",
      "received_events_url": "https://api.github.com/users/diddledani/received_events",
      "repos_url": "https://api.github.com/users/diddledani/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/diddledani/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/diddledani/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/diddledani"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "I think we can not accept the PR because PowerShell can create _many runspaces_ each of which has its own value of $PWD. Note that .Net also has \"pwd\" which doesn't correlate with PowerShell $PWD.",
    "created_at": "2019-02-22T13:56:11Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/8901#issuecomment-466404097",
    "id": 466404097,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8901",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NjQwNDA5Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/466404097/reactions"
    },
    "updated_at": "2019-02-22T13:56:11Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/466404097",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@iSazonov it would be better to set `$env:PWD` for the current process only, I guess? Is that possible on Unix platforms?",
    "created_at": "2019-02-22T14:37:41Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/8901#issuecomment-466417664",
    "id": 466417664,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8901",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NjQxNzY2NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/466417664/reactions"
    },
    "updated_at": "2019-02-22T14:37:41Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/466417664",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": ">  for the current process only\r\n\r\n@vexx32 PowerShell can create many runspaces/threads in the same process and everyone will export `$env:PWD` - it is a mess.",
    "created_at": "2019-02-22T14:42:08Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/8901#issuecomment-466419277",
    "id": 466419277,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8901",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NjQxOTI3Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/466419277/reactions"
    },
    "updated_at": "2019-02-22T14:42:08Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/466419277",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@iSazonov how do other threaded Unix applications handle this issue? Are there any existing applications we could model behaviour from here?",
    "created_at": "2019-02-22T14:44:20Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/8901#issuecomment-466420105",
    "id": 466420105,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8901",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NjQyMDEwNQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/466420105/reactions"
    },
    "updated_at": "2019-02-22T14:44:20Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/466420105",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@vexx32 `$env:PWD` is _common_ resource. Let's replace it with Set-Date - what result do you get if many process/threads will modify system time in the same time? I guess Unix uses another scenario - a process track PWD for itself or inform subprocess about work directory.",
    "created_at": "2019-02-22T14:56:23Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/8901#issuecomment-466424380",
    "id": 466424380,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8901",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NjQyNDM4MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/466424380/reactions"
    },
    "updated_at": "2019-02-22T14:56:23Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/466424380",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "Using `Environment.SetEnvironmentVariable` on UNIX will only change the value for the current process and those beneath it in the process tree. You mention multiple run-spaces... how do I start a second run-space within the current `pwsh` process to test the scenario? (I'm not very familiar with PowerShell yet.)",
    "created_at": "2019-02-22T15:24:37Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/8901#issuecomment-466434545",
    "id": 466434545,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8901",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NjQzNDU0NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/466434545/reactions"
    },
    "updated_at": "2019-02-22T15:24:37Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/466434545",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/147548?v=4",
      "events_url": "https://api.github.com/users/diddledani/events{/privacy}",
      "followers_url": "https://api.github.com/users/diddledani/followers",
      "following_url": "https://api.github.com/users/diddledani/following{/other_user}",
      "gists_url": "https://api.github.com/users/diddledani/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/diddledani",
      "id": 147548,
      "login": "diddledani",
      "node_id": "MDQ6VXNlcjE0NzU0OA==",
      "organizations_url": "https://api.github.com/users/diddledani/orgs",
      "received_events_url": "https://api.github.com/users/diddledani/received_events",
      "repos_url": "https://api.github.com/users/diddledani/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/diddledani/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/diddledani/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/diddledani"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "An function written in PowerShell that I wrote utilising runspaces can be found [here](https://github.com/vexx32/PSWordCloud/blob/master/PSWordCloud/Public/New-WordCloud.ps1).\r\n\r\nThe runspace pool is created on line [#566](https://github.com/vexx32/PSWordCloud/blob/master/PSWordCloud/Public/New-WordCloud.ps1#L566), and the separate instances are created and invoked on lines [#594-#627](https://github.com/vexx32/PSWordCloud/blob/master/PSWordCloud/Public/New-WordCloud.ps1#L594-L627)\r\n\r\nThis is a bit of a more complex example as I'm batching the tasks to make the best use of it, but it should illustrate the overall idea. 😄 \r\n\r\nThere may be some already-built functions designed to help test these types of cases in amongst some of the existing test files, but I'm not sure of where to look for those.",
    "created_at": "2019-02-22T15:37:43Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/8901#issuecomment-466439155",
    "id": 466439155,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8901",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NjQzOTE1NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/466439155/reactions"
    },
    "updated_at": "2019-02-22T15:40:04Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/466439155",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "OK, run-spaces definitely share the PWD environment, so this PR as it stands is **not** good-to-go :-)",
    "created_at": "2019-02-22T16:05:25Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/8901#issuecomment-466449215",
    "id": 466449215,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8901",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NjQ0OTIxNQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/466449215/reactions"
    },
    "updated_at": "2019-02-22T16:05:25Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/466449215",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/147548?v=4",
      "events_url": "https://api.github.com/users/diddledani/events{/privacy}",
      "followers_url": "https://api.github.com/users/diddledani/followers",
      "following_url": "https://api.github.com/users/diddledani/following{/other_user}",
      "gists_url": "https://api.github.com/users/diddledani/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/diddledani",
      "id": 147548,
      "login": "diddledani",
      "node_id": "MDQ6VXNlcjE0NzU0OA==",
      "organizations_url": "https://api.github.com/users/diddledani/orgs",
      "received_events_url": "https://api.github.com/users/diddledani/received_events",
      "repos_url": "https://api.github.com/users/diddledani/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/diddledani/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/diddledani/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/diddledani"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "This needs rethinking, so I'm closing the PR.",
    "created_at": "2019-03-05T20:04:00Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/8901#issuecomment-469837210",
    "id": 469837210,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8901",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2OTgzNzIxMA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/469837210/reactions"
    },
    "updated_at": "2019-03-05T20:04:00Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/469837210",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/147548?v=4",
      "events_url": "https://api.github.com/users/diddledani/events{/privacy}",
      "followers_url": "https://api.github.com/users/diddledani/followers",
      "following_url": "https://api.github.com/users/diddledani/following{/other_user}",
      "gists_url": "https://api.github.com/users/diddledani/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/diddledani",
      "id": 147548,
      "login": "diddledani",
      "node_id": "MDQ6VXNlcjE0NzU0OA==",
      "organizations_url": "https://api.github.com/users/diddledani/orgs",
      "received_events_url": "https://api.github.com/users/diddledani/received_events",
      "repos_url": "https://api.github.com/users/diddledani/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/diddledani/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/diddledani/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/diddledani"
    }
  }
]
