[
  {
    "author_association": "CONTRIBUTOR",
    "body": "Can you see if the same thing happens in 6.1.0-preview.1? I think i fixed this in #6325",
    "created_at": "2018-04-02T17:41:43Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/6543#issuecomment-377989851",
    "id": 377989851,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/6543",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3Nzk4OTg1MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/377989851/reactions"
    },
    "updated_at": "2018-04-02T17:41:43Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/377989851",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6509955?v=4",
      "events_url": "https://api.github.com/users/markekraus/events{/privacy}",
      "followers_url": "https://api.github.com/users/markekraus/followers",
      "following_url": "https://api.github.com/users/markekraus/following{/other_user}",
      "gists_url": "https://api.github.com/users/markekraus/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/markekraus",
      "id": 6509955,
      "login": "markekraus",
      "node_id": "MDQ6VXNlcjY1MDk5NTU=",
      "organizations_url": "https://api.github.com/users/markekraus/orgs",
      "received_events_url": "https://api.github.com/users/markekraus/received_events",
      "repos_url": "https://api.github.com/users/markekraus/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/markekraus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markekraus/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/markekraus"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "In 6.1.0-preview.1 I get a different error. I think even with your change, you are still expecting the Location header to be present.\r\n\r\n```powershell\r\nPowerShell v6.1.0-preview.1\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\n\r\nhttps://aka.ms/pscore6-docs\r\nType 'help' to get help.\r\n\r\nPS /Users/florianfeldhaus> Invoke-WebRequest -Uri https://s3.amazonaws.com/test-301-redirection/ -Method HEAD -Headers @{Authorization=\"test\"}                  \r\nInvoke-WebRequest : Object reference not set to an instance of an object.\r\nAt line:1 char:1\r\n+ Invoke-WebRequest -Uri https://s3.amazonaws.com/test-301-redirection/ ...\r\n+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n+ CategoryInfo          : NotSpecified: (:) [Invoke-WebRequest], NullReferenceException\r\n+ FullyQualifiedErrorId : System.NullReferenceException,Microsoft.PowerShell.Commands.InvokeWebRequestCommand\r\n```",
    "created_at": "2018-04-02T17:48:48Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/6543#issuecomment-377991731",
    "id": 377991731,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/6543",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3Nzk5MTczMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/377991731/reactions"
    },
    "updated_at": "2018-04-02T17:48:48Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/377991731",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/910802?v=4",
      "events_url": "https://api.github.com/users/ffeldhaus/events{/privacy}",
      "followers_url": "https://api.github.com/users/ffeldhaus/followers",
      "following_url": "https://api.github.com/users/ffeldhaus/following{/other_user}",
      "gists_url": "https://api.github.com/users/ffeldhaus/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/ffeldhaus",
      "id": 910802,
      "login": "ffeldhaus",
      "node_id": "MDQ6VXNlcjkxMDgwMg==",
      "organizations_url": "https://api.github.com/users/ffeldhaus/orgs",
      "received_events_url": "https://api.github.com/users/ffeldhaus/received_events",
      "repos_url": "https://api.github.com/users/ffeldhaus/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/ffeldhaus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ffeldhaus/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/ffeldhaus"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "Yup. Per the RFC \"The server SHOULD generate a Location header field in the response containing a preferred URI reference for the new permanent URI.\" Oof.. so the Location header may not be present and we are currently not checking for that. \r\n\r\nYour proposed fix LGTM. Go ahead with a PR.  might be a bit painful getting the test for that.. maybe not.",
    "created_at": "2018-04-02T17:55:57Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/6543#issuecomment-377993773",
    "id": 377993773,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/6543",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3Nzk5Mzc3Mw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/377993773/reactions"
    },
    "updated_at": "2018-04-02T17:55:57Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/377993773",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6509955?v=4",
      "events_url": "https://api.github.com/users/markekraus/events{/privacy}",
      "followers_url": "https://api.github.com/users/markekraus/followers",
      "following_url": "https://api.github.com/users/markekraus/following{/other_user}",
      "gists_url": "https://api.github.com/users/markekraus/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/markekraus",
      "id": 6509955,
      "login": "markekraus",
      "node_id": "MDQ6VXNlcjY1MDk5NTU=",
      "organizations_url": "https://api.github.com/users/markekraus/orgs",
      "received_events_url": "https://api.github.com/users/markekraus/received_events",
      "repos_url": "https://api.github.com/users/markekraus/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/markekraus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markekraus/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/markekraus"
    }
  }
]
