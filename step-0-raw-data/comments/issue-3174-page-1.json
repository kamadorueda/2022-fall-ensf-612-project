[
  {
    "author_association": "CONTRIBUTOR",
    "body": "Agree that `-OutFile` makes more sense as a literal path. (It only makes sense as a literal path?). If the wildcard resolves to multiple files then `Invoke-WebRequest` throws an exception.\r\n\r\nBut there could be scripts which depend on the wildcard resolving to a single filename - that does work, so it might be a breaking change. In that case `-LiteralOutFile` as a new parameter?\r\n\r\n[Here is the code which saves to the file](https://github.com/PowerShell/PowerShell/blob/40446c80a705f71260a9258ebc6477982789e82e/src/Microsoft.PowerShell.Commands.Utility/commands/utility/WebCmdlet/CoreCLR/InvokeWebRequestCommand.CoreClr.cs#L69) referencing a property `QualifiedOutFile`, which is defined [here](https://github.com/PowerShell/PowerShell/blob/a770ecd6864147feb2e298f4133a671afb22b1b6/src/Microsoft.PowerShell.Commands.Utility/commands/utility/WebCmdlet/Common/WebRequestPSCmdlet.Common.cs#L476), it calls `return (QualifyFilePath(OutFile));`\r\n\r\nThat's defined [here](https://github.com/PowerShell/PowerShell/blob/a770ecd6864147feb2e298f4133a671afb22b1b6/src/Microsoft.PowerShell.Commands.Utility/commands/utility/WebCmdlet/Common/WebRequestPSCmdlet.Common.cs#L610)\r\n\r\n        private string QualifyFilePath(string path)\r\n        {\r\n            string resolvedFilePath = PathUtils.ResolveFilePath(path, this, false);\r\n            return resolvedFilePath;\r\n        }\r\n\r\nThe third parameter sets whether ResolveFilePath treats it as literal or not, so changing that to `true` should make it resolve as a literal path and fix this.\r\n\r\nI can't see any other calls to `QualifyFilePath`, suggests there wouldn't be much other impact, but I'm not certain.",
    "created_at": "2017-10-06T17:56:24Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/3174#issuecomment-334826814",
    "id": 334826814,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/3174",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNDgyNjgxNA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/334826814/reactions"
    },
    "updated_at": "2017-10-06T17:56:24Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/334826814",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/187787?v=4",
      "events_url": "https://api.github.com/users/HumanEquivalentUnit/events{/privacy}",
      "followers_url": "https://api.github.com/users/HumanEquivalentUnit/followers",
      "following_url": "https://api.github.com/users/HumanEquivalentUnit/following{/other_user}",
      "gists_url": "https://api.github.com/users/HumanEquivalentUnit/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/HumanEquivalentUnit",
      "id": 187787,
      "login": "HumanEquivalentUnit",
      "node_id": "MDQ6VXNlcjE4Nzc4Nw==",
      "organizations_url": "https://api.github.com/users/HumanEquivalentUnit/orgs",
      "received_events_url": "https://api.github.com/users/HumanEquivalentUnit/received_events",
      "repos_url": "https://api.github.com/users/HumanEquivalentUnit/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/HumanEquivalentUnit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/HumanEquivalentUnit/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/HumanEquivalentUnit"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "I think in general, output paths should be literalpaths.  The behavior of matching a file seems unpredictable at best and clobbering something unintentional at worst.",
    "created_at": "2017-10-06T18:28:34Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/3174#issuecomment-334834606",
    "id": 334834606,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/3174",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNDgzNDYwNg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 2,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 2,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/334834606/reactions"
    },
    "updated_at": "2017-10-06T18:28:34Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/334834606",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@PowerShell/powershell-committee reviewed this and believe the right approach is to rename `-OutFile` to `-Path` (aliased as `-OutFile`) and add a `-LiteralPath` parameter.  Existing `-OutFile` can be used with current globbing behavior to match a single file using a wildcard.  For example, if you have a file called helloworld.txt and you want to overwrite it with the output, you can use `-OutFile hello*`. ",
    "created_at": "2017-11-30T00:00:29Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/3174#issuecomment-348037706",
    "id": 348037706,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/3174",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODAzNzcwNg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/348037706/reactions"
    },
    "updated_at": "2017-11-30T00:00:29Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/348037706",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "NONE",
    "body": "@ThreeFive-O  You mention there are work arounds for this, can you add them as a comment?\r\n\r\nI am trying to OutFile to a file that has `[1]` in the name but I cannot figure out how to escape the `[]` characters. I tried \\` and `\\` but they do not escape the `[]` characters.",
    "created_at": "2019-04-26T14:09:11Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/3174#issuecomment-487070368",
    "id": 487070368,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/3174",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzA3MDM2OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/487070368/reactions"
    },
    "updated_at": "2019-04-26T14:09:11Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/487070368",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/2277702?v=4",
      "events_url": "https://api.github.com/users/ChrisMagnuson/events{/privacy}",
      "followers_url": "https://api.github.com/users/ChrisMagnuson/followers",
      "following_url": "https://api.github.com/users/ChrisMagnuson/following{/other_user}",
      "gists_url": "https://api.github.com/users/ChrisMagnuson/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/ChrisMagnuson",
      "id": 2277702,
      "login": "ChrisMagnuson",
      "node_id": "MDQ6VXNlcjIyNzc3MDI=",
      "organizations_url": "https://api.github.com/users/ChrisMagnuson/orgs",
      "received_events_url": "https://api.github.com/users/ChrisMagnuson/received_events",
      "repos_url": "https://api.github.com/users/ChrisMagnuson/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/ChrisMagnuson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ChrisMagnuson/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/ChrisMagnuson"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "As I recall, Chris, when escaping a path like this you have to double up, or use a literal string. For example:\r\n\r\n```powershell\r\nInvoke-RestMethod $Uri -OutFile C:\\``[test``].txt\r\n# or\r\nInvoke-RestMethod $Uri -OutFile 'C:\\`[test`].txt'\r\n```\r\n\r\nThis is because typically the bare strings in a parameter are treated as expandable strings, which means that the backtick is treated as a PS escape character first and evaluated before being passed to the internals. As a result, you need to escape the escape character so PS's expandable string evaluation doesn't eat it. The other option is to force PS to recognise it as a literal string.",
    "created_at": "2019-04-26T14:31:06Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/3174#issuecomment-487078276",
    "id": 487078276,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/3174",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzA3ODI3Ng==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 2,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 2,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/487078276/reactions"
    },
    "updated_at": "2019-04-26T14:31:06Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/487078276",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@vexx32: \r\n\r\nWhile your escaping technique is correct and ensures that the file path is _accepted_, there is a _bug_ that affects most cmdlets in that they then use the _escaped_ path as a _literal_ path on output-file creation, which means that the `` ` `` chars. are unexpectedly _retained_ - see #9475.\r\n\r\nTherefore, the cumbersome workaround for now is to:\r\n\r\n* escape the input path so that it is _accepted_\r\n* and afterwards _rename_ the incorrectly named file by removing `` ` `` instances from it.\r\n\r\nSee [this Stack Overflow answer](https://stackoverflow.com/a/55869947/45375) for details.\r\n",
    "created_at": "2019-04-26T18:26:48Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/3174#issuecomment-487155791",
    "id": 487155791,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/3174",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzE1NTc5MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/487155791/reactions"
    },
    "updated_at": "2019-04-26T18:49:17Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/487155791",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Well now, that's no good at all! Thanks for the links!",
    "created_at": "2019-04-26T19:29:22Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/3174#issuecomment-487174218",
    "id": 487174218,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/3174",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzE3NDIxOA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/487174218/reactions"
    },
    "updated_at": "2019-04-26T19:29:22Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/487174218",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "NONE",
    "body": ":tada:This issue was addressed in #11701, which has now been successfully released as `v7.1.0-preview.4`.:tada:\n\nHandy links:\n* [Release Notes](https://github.com/PowerShell/PowerShell/releases/tag/v7.1.0-preview.4)\n",
    "created_at": "2020-06-25T19:08:02Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/3174#issuecomment-649764398",
    "id": 649764398,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/3174",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0OTc2NDM5OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/649764398/reactions"
    },
    "updated_at": "2020-06-25T19:08:02Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/649764398",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/in/26612?v=4",
      "events_url": "https://api.github.com/users/msftbot%5Bbot%5D/events{/privacy}",
      "followers_url": "https://api.github.com/users/msftbot%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/msftbot%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/msftbot%5Bbot%5D/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/apps/msftbot",
      "id": 48340428,
      "login": "msftbot[bot]",
      "node_id": "MDM6Qm90NDgzNDA0Mjg=",
      "organizations_url": "https://api.github.com/users/msftbot%5Bbot%5D/orgs",
      "received_events_url": "https://api.github.com/users/msftbot%5Bbot%5D/received_events",
      "repos_url": "https://api.github.com/users/msftbot%5Bbot%5D/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/msftbot%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/msftbot%5Bbot%5D/subscriptions",
      "type": "Bot",
      "url": "https://api.github.com/users/msftbot%5Bbot%5D"
    }
  }
]
