[
  {
    "author_association": "NONE",
    "body": "@HCl-10 I had problems with WSL and PATH which contains \"Program Files\" to compile OpenWrt, so I am sure it's a PowerShell Issue. see https://github.com/microsoft/WSL/issues/1640#issuecomment-713966706",
    "created_at": "2020-11-12T13:49:43Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14055#issuecomment-726089281",
    "id": 726089281,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14055",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNjA4OTI4MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/726089281/reactions"
    },
    "updated_at": "2020-11-12T13:56:26Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/726089281",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6187529?v=4",
      "events_url": "https://api.github.com/users/fMichaleczek/events{/privacy}",
      "followers_url": "https://api.github.com/users/fMichaleczek/followers",
      "following_url": "https://api.github.com/users/fMichaleczek/following{/other_user}",
      "gists_url": "https://api.github.com/users/fMichaleczek/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/fMichaleczek",
      "id": 6187529,
      "login": "fMichaleczek",
      "node_id": "MDQ6VXNlcjYxODc1Mjk=",
      "organizations_url": "https://api.github.com/users/fMichaleczek/orgs",
      "received_events_url": "https://api.github.com/users/fMichaleczek/received_events",
      "repos_url": "https://api.github.com/users/fMichaleczek/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/fMichaleczek/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fMichaleczek/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/fMichaleczek"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@daxian-dbw may have more info on this.",
    "created_at": "2020-11-12T20:27:47Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14055#issuecomment-726323277",
    "id": 726323277,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14055",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNjMyMzI3Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/726323277/reactions"
    },
    "updated_at": "2020-11-12T20:27:47Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/726323277",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11860095?v=4",
      "events_url": "https://api.github.com/users/anmenaga/events{/privacy}",
      "followers_url": "https://api.github.com/users/anmenaga/followers",
      "following_url": "https://api.github.com/users/anmenaga/following{/other_user}",
      "gists_url": "https://api.github.com/users/anmenaga/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/anmenaga",
      "id": 11860095,
      "login": "anmenaga",
      "node_id": "MDQ6VXNlcjExODYwMDk1",
      "organizations_url": "https://api.github.com/users/anmenaga/orgs",
      "received_events_url": "https://api.github.com/users/anmenaga/received_events",
      "repos_url": "https://api.github.com/users/anmenaga/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/anmenaga/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/anmenaga/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/anmenaga"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "/cc @rjmholt ",
    "created_at": "2020-11-13T17:16:01Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14055#issuecomment-726888768",
    "id": 726888768,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14055",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNjg4ODc2OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/726888768/reactions"
    },
    "updated_at": "2020-11-13T17:16:01Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/726888768",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "NONE",
    "body": "Any ideas on this one?  I have the same issue.  I've got Ubuntu 20.04 WSL and the apt package install of powershell 7.1.X gives me the following error when configured as my shell: `: 6: export: (x86)/Microsoft: bad variable name`.\r\n\r\nOddly, if I install the dotnet global tool: `sudo dotnet tool update --tool-path /usr/local/bin powershell` and use that location as my shell I do not get this error.\r\n\r\nI'd prefer to use the APT install, especially since the nuget tool package is a few days late with the 7.1.4 update and it would just feel more natural to use the APT install.",
    "created_at": "2021-08-16T21:39:31Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14055#issuecomment-899835891",
    "id": 899835891,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14055",
    "node_id": "IC_kwDOAvT7bc41omfz",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/899835891/reactions"
    },
    "updated_at": "2021-08-16T21:39:31Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/899835891",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/967068?v=4",
      "events_url": "https://api.github.com/users/jonstelly/events{/privacy}",
      "followers_url": "https://api.github.com/users/jonstelly/followers",
      "following_url": "https://api.github.com/users/jonstelly/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonstelly/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jonstelly",
      "id": 967068,
      "login": "jonstelly",
      "node_id": "MDQ6VXNlcjk2NzA2OA==",
      "organizations_url": "https://api.github.com/users/jonstelly/orgs",
      "received_events_url": "https://api.github.com/users/jonstelly/received_events",
      "repos_url": "https://api.github.com/users/jonstelly/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jonstelly/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonstelly/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jonstelly"
    }
  },
  {
    "author_association": "NONE",
    "body": "As noted in #14640, the problem is probably that something is trying to\r\n```\r\nexport PATH=...\r\n```\r\n\r\nand the `...` is not quoted correctly for the current shell, so the first thing that has a space before it, and doesn't look like a valid shell env-var name, i.e. `(x86)/Microsoft` or `(x86)/Dev-Cpp/TDM-GCC-64/bin:/mnt/c/Program`, causes this error.\r\n\r\nI would _guess_ that PowerShell is being asked to evaluate a bash script, and differences in quoting behaviour (not a bug) are breaking this. So not really a PowerShell issue, unless reading the script is a built-in PowerShell behaviour.\r\n\r\nI think it's much more likely it's a WSL issue, that (per https://github.com/microsoft/WSL/issues/1640#issuecomment-713966706) WSL's `appendWindowsPath` feature is assuming bash is the shell when it appends that path, and hence the quoting is incorrect when PowerShell is the shell.",
    "created_at": "2021-08-20T01:01:51Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14055#issuecomment-902352547",
    "id": 902352547,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14055",
    "node_id": "IC_kwDOAvT7bc41yM6j",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/902352547/reactions"
    },
    "updated_at": "2021-08-20T01:01:51Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/902352547",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/138397?v=4",
      "events_url": "https://api.github.com/users/TBBle/events{/privacy}",
      "followers_url": "https://api.github.com/users/TBBle/followers",
      "following_url": "https://api.github.com/users/TBBle/following{/other_user}",
      "gists_url": "https://api.github.com/users/TBBle/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/TBBle",
      "id": 138397,
      "login": "TBBle",
      "node_id": "MDQ6VXNlcjEzODM5Nw==",
      "organizations_url": "https://api.github.com/users/TBBle/orgs",
      "received_events_url": "https://api.github.com/users/TBBle/received_events",
      "repos_url": "https://api.github.com/users/TBBle/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/TBBle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TBBle/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/TBBle"
    }
  },
  {
    "author_association": "NONE",
    "body": "Any suggestions of how I might debug this?  The error message isn’t super helpful.\r\n\r\nAlso, why the dotnet global tool install works but the apt package doesn’t?  I’m guessing some configuration that comes with the apt package but not with the global tool?",
    "created_at": "2021-08-20T01:06:13Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14055#issuecomment-902354277",
    "id": 902354277,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14055",
    "node_id": "IC_kwDOAvT7bc41yNVl",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/902354277/reactions"
    },
    "updated_at": "2021-08-20T01:06:13Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/902354277",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/967068?v=4",
      "events_url": "https://api.github.com/users/jonstelly/events{/privacy}",
      "followers_url": "https://api.github.com/users/jonstelly/followers",
      "following_url": "https://api.github.com/users/jonstelly/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonstelly/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jonstelly",
      "id": 967068,
      "login": "jonstelly",
      "node_id": "MDQ6VXNlcjk2NzA2OA==",
      "organizations_url": "https://api.github.com/users/jonstelly/orgs",
      "received_events_url": "https://api.github.com/users/jonstelly/received_events",
      "repos_url": "https://api.github.com/users/jonstelly/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jonstelly/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonstelly/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jonstelly"
    }
  },
  {
    "author_association": "NONE",
    "body": "_Assuming_ disabling `appendWindowsPath` avoids the issue (at the cost of not having Windows's `$PATH` in the WSL `$PATH`), then the problem is probably in the `appendWindowsPath` implementation, which might have magic to detect PowerShell, but it is failing for the APT-installed version.\r\n\r\nIt's also possible that the reason it works with the global tool version is that the global tool version has known issues in command-line parsing and quotes, e.g. #11747, and those issues coincide with the `appendWindowsPath` implementation to _work_ (or at least not-fail).\r\n\r\nOne other thing to check: Does `appendWindowsPath` actually _work_ with the gobal tool install? You've mentioned that it doesn't give the error, but I don't know if that means that `appendWindowsPath` is successful, or if it's just failing in a way that doesn't produce an error.",
    "created_at": "2021-08-20T01:29:59Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14055#issuecomment-902362542",
    "id": 902362542,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14055",
    "node_id": "IC_kwDOAvT7bc41yPWu",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/902362542/reactions"
    },
    "updated_at": "2021-08-20T01:30:23Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/902362542",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/138397?v=4",
      "events_url": "https://api.github.com/users/TBBle/events{/privacy}",
      "followers_url": "https://api.github.com/users/TBBle/followers",
      "following_url": "https://api.github.com/users/TBBle/following{/other_user}",
      "gists_url": "https://api.github.com/users/TBBle/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/TBBle",
      "id": 138397,
      "login": "TBBle",
      "node_id": "MDQ6VXNlcjEzODM5Nw==",
      "organizations_url": "https://api.github.com/users/TBBle/orgs",
      "received_events_url": "https://api.github.com/users/TBBle/received_events",
      "repos_url": "https://api.github.com/users/TBBle/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/TBBle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TBBle/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/TBBle"
    }
  },
  {
    "author_association": "NONE",
    "body": "This seems to be caused by an issue in Ubuntu in `/etc/profile.d/apps-bin-path.sh`.  It sounds like apps-bin-path.sh has been fixed in 21.10 but Ubuntu on WSL is still 20.04.\r\n\r\nWork-around: https://github.com/PowerShell/PowerShell/issues/9842#issuecomment-979325295",
    "created_at": "2021-12-16T20:02:44Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14055#issuecomment-996154260",
    "id": 996154260,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14055",
    "node_id": "IC_kwDOAvT7bc47YBuU",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 1,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/996154260/reactions"
    },
    "updated_at": "2021-12-16T20:02:44Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/996154260",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/967068?v=4",
      "events_url": "https://api.github.com/users/jonstelly/events{/privacy}",
      "followers_url": "https://api.github.com/users/jonstelly/followers",
      "following_url": "https://api.github.com/users/jonstelly/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonstelly/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jonstelly",
      "id": 967068,
      "login": "jonstelly",
      "node_id": "MDQ6VXNlcjk2NzA2OA==",
      "organizations_url": "https://api.github.com/users/jonstelly/orgs",
      "received_events_url": "https://api.github.com/users/jonstelly/received_events",
      "repos_url": "https://api.github.com/users/jonstelly/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jonstelly/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonstelly/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jonstelly"
    }
  }
]
