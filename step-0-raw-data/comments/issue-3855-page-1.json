[
  {
    "author_association": "NONE",
    "body": "@iSazonov \r\n`-Delimiter` option is compatible with an option for new lines.\r\nIn Bash, redirection of a line to a file inserts one LF to the end of file.\r\n\r\n```\r\n$ echo a b c > test.txt\r\n$ hexyl ./test.txt\r\n┌────────┬─────────────────────────┬─────────────────────────┬────────┬────────┐\r\n│00000000│ 61 20 62 20 63 0a       ┊                         │a b c_  ┊        │\r\n└────────┴─────────────────────────┴─────────────────────────┴────────┴────────┘\r\n```\r\n\r\nIt is required options to reproduce this in PowerShell for Windows:\r\n\r\n- Whether a set of EOL character(s) (LF or CRLF) is inserted just before EOF (`echo -n` in Linux)\r\n- What the set is (LF, CRLF, or native one)\r\n\r\nlike:\r\n\r\n```pwsh\r\n\"a\",\"b\",\"c\" | Out-File text.txt -Encoding utf8NoBOM -Delimiter \" \" -FinalNewLine \"`n\"\r\n\r\n# equals to \r\n\"a\", \"b\", \"c\" -join \" \" | Out-File text.txt -Encoding utf8NoBOM -Delimiter \"`n\"\r\n```",
    "created_at": "2020-05-26T16:17:43Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/3855#issuecomment-634127420",
    "id": 634127420,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/3855",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNDEyNzQyMA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/634127420/reactions"
    },
    "updated_at": "2020-05-26T16:17:43Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/634127420",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/12870451?v=4",
      "events_url": "https://api.github.com/users/tats-u/events{/privacy}",
      "followers_url": "https://api.github.com/users/tats-u/followers",
      "following_url": "https://api.github.com/users/tats-u/following{/other_user}",
      "gists_url": "https://api.github.com/users/tats-u/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/tats-u",
      "id": 12870451,
      "login": "tats-u",
      "node_id": "MDQ6VXNlcjEyODcwNDUx",
      "organizations_url": "https://api.github.com/users/tats-u/orgs",
      "received_events_url": "https://api.github.com/users/tats-u/received_events",
      "repos_url": "https://api.github.com/users/tats-u/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/tats-u/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tats-u/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/tats-u"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Setting a newline option is only really applicable for the writing cmdlets rather than the reading ones, but yeah.\r\n\r\nI'm wondering if we should have a base class implement the `-Delimiter` and then have a base class inherit that and add `-NoNewline` to omit the trailing newline (trailing newline would be default -- I think it is currently default, actually?)\r\n\r\nSo it would look something like this:\r\n\r\n1. Base class `DelimitedContentBase` inherits `PSCmdlet` and implements a `[Parameter]` for `Delimiter` (IMO this should also be aliased to something like `-NewlineStyle` or something)\r\n2. `Get-Content` inherits `DelimitedContentBase` and does everything else it needs to.\r\n3. `DelimitedContentWriterBase` inherits `DelimitedContentBase` and extends it with a `[Parameter]` for `-NoNewline` (a switch parameter) (IMO aliased to `-SkipTrailingNewline`, or vice versa)\r\n4. `Set-Content`, `Out-File`, `Out-String`, and `Write-Host` all inherit `DelimitedContentWriterBase`\r\n\r\nThis will involve a bit of refactoring, but it will avoid quite a bit of duplication of code. Some of the base classes may also end up adding methods for stitching the text together, if needed.",
    "created_at": "2020-05-26T17:14:08Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/3855#issuecomment-634158511",
    "id": 634158511,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/3855",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNDE1ODUxMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/634158511/reactions"
    },
    "updated_at": "2020-05-26T17:14:32Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/634158511",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "The `-join` operator already covers the case of creating strings with arbitrary delimiters so it doesn't seem necessary to add to the other cmdlets just for symmetry.",
    "created_at": "2021-06-08T20:04:39Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/3855#issuecomment-857080647",
    "id": 857080647,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/3855",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1NzA4MDY0Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 3,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 3,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/857080647/reactions"
    },
    "updated_at": "2021-06-08T20:04:39Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/857080647",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "NONE",
    "body": "This issue has been marked as won't fix and has not had any activity for **1 day**. It has been closed for housekeeping purposes.",
    "created_at": "2021-07-08T21:01:04Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/3855#issuecomment-876742749",
    "id": 876742749,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/3855",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3Njc0Mjc0OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 2,
      "confused": 2,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 4,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/876742749/reactions"
    },
    "updated_at": "2021-07-08T21:01:04Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/876742749",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/in/26612?v=4",
      "events_url": "https://api.github.com/users/msftbot%5Bbot%5D/events{/privacy}",
      "followers_url": "https://api.github.com/users/msftbot%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/msftbot%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/msftbot%5Bbot%5D/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/apps/msftbot",
      "id": 48340428,
      "login": "msftbot[bot]",
      "node_id": "MDM6Qm90NDgzNDA0Mjg=",
      "organizations_url": "https://api.github.com/users/msftbot%5Bbot%5D/orgs",
      "received_events_url": "https://api.github.com/users/msftbot%5Bbot%5D/received_events",
      "repos_url": "https://api.github.com/users/msftbot%5Bbot%5D/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/msftbot%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/msftbot%5Bbot%5D/subscriptions",
      "type": "Bot",
      "url": "https://api.github.com/users/msftbot%5Bbot%5D"
    }
  },
  {
    "author_association": "NONE",
    "body": "@SteveL-MSFT \r\nLet me make sure of this.  Are you saying that we must take such a ugly approach to force PowerShell to use LF?  I suppose that there are too many parentheses:\r\n\r\n```\r\ntatsu@TATSU-NB-4TH   base  ~  ((echo a b c) -join \"`n\") + \"`n\" | Out-File -NoNewline -Encoding utf8NoBOM test.txt\r\ntatsu@TATSU-NB-4TH   base  ~  hexyl test.txt\r\n┌────────┬─────────────────────────┬─────────────────────────┬────────┬────────┐\r\n│00000000│ 61 0a 62 0a 63 0a       ┊                         │a_b_c_  ┊        │\r\n└────────┴─────────────────────────┴─────────────────────────┴────────┴────────┘\r\n```\r\n\r\nCould you tell me how you feel about it?",
    "created_at": "2021-07-08T23:16:24Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/3855#issuecomment-876803220",
    "id": 876803220,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/3855",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NjgwMzIyMA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 3,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 3,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/876803220/reactions"
    },
    "updated_at": "2021-07-08T23:16:24Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/876803220",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/12870451?v=4",
      "events_url": "https://api.github.com/users/tats-u/events{/privacy}",
      "followers_url": "https://api.github.com/users/tats-u/followers",
      "following_url": "https://api.github.com/users/tats-u/following{/other_user}",
      "gists_url": "https://api.github.com/users/tats-u/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/tats-u",
      "id": 12870451,
      "login": "tats-u",
      "node_id": "MDQ6VXNlcjEyODcwNDUx",
      "organizations_url": "https://api.github.com/users/tats-u/orgs",
      "received_events_url": "https://api.github.com/users/tats-u/received_events",
      "repos_url": "https://api.github.com/users/tats-u/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/tats-u/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tats-u/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/tats-u"
    }
  },
  {
    "author_association": "NONE",
    "body": "I found a good solution to this; hopefully it helps you and others @tats-u \r\n\r\nSet `PSDefaultParameterValues` in your profile, and it will automatically modify the `>` operator. (*as it merely aliases* `Out-File`)\r\n\r\n```powershell\r\n$Global:PSDefaultParameterValues[\"Out-File:Encoding\"] = \"utf8\"\r\n$Global:PSDefaultParameterValues['Out-File:NoNewLine'] = $true\r\n```\r\nThe `NoNewLine` fixes both extra new line char, and the unwanted carriage return.\r\n",
    "created_at": "2021-10-02T17:43:36Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/3855#issuecomment-932791222",
    "id": 932791222,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/3855",
    "node_id": "IC_kwDOAvT7bc43mUO2",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/932791222/reactions"
    },
    "updated_at": "2021-10-02T17:43:36Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/932791222",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/71850263?v=4",
      "events_url": "https://api.github.com/users/ShivnarenSrinivasan/events{/privacy}",
      "followers_url": "https://api.github.com/users/ShivnarenSrinivasan/followers",
      "following_url": "https://api.github.com/users/ShivnarenSrinivasan/following{/other_user}",
      "gists_url": "https://api.github.com/users/ShivnarenSrinivasan/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/ShivnarenSrinivasan",
      "id": 71850263,
      "login": "ShivnarenSrinivasan",
      "node_id": "MDQ6VXNlcjcxODUwMjYz",
      "organizations_url": "https://api.github.com/users/ShivnarenSrinivasan/orgs",
      "received_events_url": "https://api.github.com/users/ShivnarenSrinivasan/received_events",
      "repos_url": "https://api.github.com/users/ShivnarenSrinivasan/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/ShivnarenSrinivasan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ShivnarenSrinivasan/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/ShivnarenSrinivasan"
    }
  },
  {
    "author_association": "NONE",
    "body": "@ShivnarenSrinivasan This fixes just the half of the issues.  This just allows us to use the operator `>` instead of piping the cmdlet `Out-File`.\r\nWe still have to take an ugly way ```((Some-Cmdlet) -join \"`n\") + \"`n\"```.",
    "created_at": "2021-10-03T13:05:43Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/3855#issuecomment-932947576",
    "id": 932947576,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/3855",
    "node_id": "IC_kwDOAvT7bc43m6Z4",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/932947576/reactions"
    },
    "updated_at": "2021-10-03T13:05:43Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/932947576",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/12870451?v=4",
      "events_url": "https://api.github.com/users/tats-u/events{/privacy}",
      "followers_url": "https://api.github.com/users/tats-u/followers",
      "following_url": "https://api.github.com/users/tats-u/following{/other_user}",
      "gists_url": "https://api.github.com/users/tats-u/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/tats-u",
      "id": 12870451,
      "login": "tats-u",
      "node_id": "MDQ6VXNlcjEyODcwNDUx",
      "organizations_url": "https://api.github.com/users/tats-u/orgs",
      "received_events_url": "https://api.github.com/users/tats-u/received_events",
      "repos_url": "https://api.github.com/users/tats-u/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/tats-u/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tats-u/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/tats-u"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@SteveL-MSFT Please reconsider, the `-join` is a really ugly hack just to make something as basic as file redirection to work. I daily drive both Linux and Windows, and the same simple command creating different files is really bothering me.\r\n\r\nTo not make this feature a duplicate of `-join` and make it more precise solution, I suggest not making it a generic string but instead an enum `-NewlineSequence Native | CRLF | LF`. ",
    "created_at": "2022-10-13T10:48:22Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/3855#issuecomment-1277414982",
    "id": 1277414982,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/3855",
    "node_id": "IC_kwDOAvT7bc5MI85G",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1277414982/reactions"
    },
    "updated_at": "2022-10-13T10:48:22Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1277414982",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/26599495?v=4",
      "events_url": "https://api.github.com/users/dkaszews/events{/privacy}",
      "followers_url": "https://api.github.com/users/dkaszews/followers",
      "following_url": "https://api.github.com/users/dkaszews/following{/other_user}",
      "gists_url": "https://api.github.com/users/dkaszews/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/dkaszews",
      "id": 26599495,
      "login": "dkaszews",
      "node_id": "MDQ6VXNlcjI2NTk5NDk1",
      "organizations_url": "https://api.github.com/users/dkaszews/orgs",
      "received_events_url": "https://api.github.com/users/dkaszews/received_events",
      "repos_url": "https://api.github.com/users/dkaszews/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/dkaszews/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dkaszews/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/dkaszews"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "Additional three arguments why the ugly `-join` hack is not an acceptable solution, beyond just syntax:\r\n1. It breaks streaming, requiring potentially a very big string to be created in memory. Go ahead, try ``(Get-Content input.txt | %{ $_ -replace $from, $to }) -join \"`n\" | Out-File output.txt`` on a couple-gig file\r\n2. Line endings are arguably part of encoding, so `-NewlineSequence` fits together with `-Encoding`\r\n3. Making it a parameter of `Out-File` allows use of `$PSDefaultParameters` so that you can set it in your `$PROFILE` and never have to worry about it across all your systems",
    "created_at": "2022-10-13T18:14:12Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/3855#issuecomment-1277996124",
    "id": 1277996124,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/3855",
    "node_id": "IC_kwDOAvT7bc5MLKxc",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1277996124/reactions"
    },
    "updated_at": "2022-10-13T18:14:12Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1277996124",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/26599495?v=4",
      "events_url": "https://api.github.com/users/dkaszews/events{/privacy}",
      "followers_url": "https://api.github.com/users/dkaszews/followers",
      "following_url": "https://api.github.com/users/dkaszews/following{/other_user}",
      "gists_url": "https://api.github.com/users/dkaszews/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/dkaszews",
      "id": 26599495,
      "login": "dkaszews",
      "node_id": "MDQ6VXNlcjI2NTk5NDk1",
      "organizations_url": "https://api.github.com/users/dkaszews/orgs",
      "received_events_url": "https://api.github.com/users/dkaszews/received_events",
      "repos_url": "https://api.github.com/users/dkaszews/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/dkaszews/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dkaszews/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/dkaszews"
    }
  }
]
