[
  {
    "author_association": "COLLABORATOR",
    "body": "I don't think this is really avoidable. By the time the cmdlet receives input, the `GetEnumerator()` has _already been called_ by the pipeline logic. 🙁 ",
    "created_at": "2019-01-12T16:26:44Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8632#issuecomment-453760709",
    "id": 453760709,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8632",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Mzc2MDcwOQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/453760709/reactions"
    },
    "updated_at": "2019-01-12T16:26:44Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/453760709",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@vexx32 \r\n\r\n>By the time the cmdlet receives input, the `GetEnumerator()` has *already been called* by the pipeline logic.\r\n\r\nAny evidence to support this claim?\r\n\r\n```powershell\r\nfunction My-Join-String { @($input) -join ', ' }\r\n[C]::new(), [C]::new(), [C]::new() | My-Join-String\r\n```\r\n",
    "created_at": "2019-01-12T16:34:10Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8632#issuecomment-453761294",
    "id": 453761294,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8632",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Mzc2MTI5NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/453761294/reactions"
    },
    "updated_at": "2019-01-12T16:34:10Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/453761294",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/17184058?v=4",
      "events_url": "https://api.github.com/users/PetSerAl/events{/privacy}",
      "followers_url": "https://api.github.com/users/PetSerAl/followers",
      "following_url": "https://api.github.com/users/PetSerAl/following{/other_user}",
      "gists_url": "https://api.github.com/users/PetSerAl/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/PetSerAl",
      "id": 17184058,
      "login": "PetSerAl",
      "node_id": "MDQ6VXNlcjE3MTg0MDU4",
      "organizations_url": "https://api.github.com/users/PetSerAl/orgs",
      "received_events_url": "https://api.github.com/users/PetSerAl/received_events",
      "repos_url": "https://api.github.com/users/PetSerAl/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/PetSerAl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PetSerAl/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/PetSerAl"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@PetSerAl Ah, I see! Okay, I misunderstood the original point.\r\n\r\nLooks like it's enumerating each pipeline item, likely in an attempt to make pipeline input behave the same as `Join-String -InputObject ([C]::new(), [C]::new(), [C]::new())`\r\n\r\n@mklement0 and I have discussed this a bit and have a code pattern that could help rectify it outlined in #4242 as you've seen. ",
    "created_at": "2019-01-12T16:44:29Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8632#issuecomment-453762038",
    "id": 453762038,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8632",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Mzc2MjAzOA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/453762038/reactions"
    },
    "updated_at": "2019-01-12T16:44:53Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/453762038",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@vexx32 If it enumerating each pipeline item, the it should produce `Not, Correct, Not, Correct, Not, Correct` instead of `Not Correct, Not Correct, Not Correct`.",
    "created_at": "2019-01-12T16:49:38Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8632#issuecomment-453762466",
    "id": 453762466,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8632",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Mzc2MjQ2Ng==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/453762466/reactions"
    },
    "updated_at": "2019-01-12T16:49:38Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/453762466",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/17184058?v=4",
      "events_url": "https://api.github.com/users/PetSerAl/events{/privacy}",
      "followers_url": "https://api.github.com/users/PetSerAl/followers",
      "following_url": "https://api.github.com/users/PetSerAl/following{/other_user}",
      "gists_url": "https://api.github.com/users/PetSerAl/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/PetSerAl",
      "id": 17184058,
      "login": "PetSerAl",
      "node_id": "MDQ6VXNlcjE3MTg0MDU4",
      "organizations_url": "https://api.github.com/users/PetSerAl/orgs",
      "received_events_url": "https://api.github.com/users/PetSerAl/received_events",
      "repos_url": "https://api.github.com/users/PetSerAl/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/PetSerAl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PetSerAl/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/PetSerAl"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Not quite. It calls the enumerator of your object to enumerate it, and receives back a two element array for each item. It doesn't then enumerate each of those arrays, that would be an extra level of enumeration. 🙂 \r\n\r\nI would guess that somewhere in its logic it converts these either implicitly or explicitly to string, which presumably forces PS to call `ToString()` on the resulting array.",
    "created_at": "2019-01-12T17:02:25Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8632#issuecomment-453763444",
    "id": 453763444,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8632",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Mzc2MzQ0NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/453763444/reactions"
    },
    "updated_at": "2019-01-12T17:03:16Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/453763444",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "That is the problem. `Join-String` should not do `[C] -> [Array] -> [String]` instead of `[C] -> [String]`.",
    "created_at": "2019-01-12T17:31:37Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8632#issuecomment-453765909",
    "id": 453765909,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8632",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Mzc2NTkwOQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 2,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 2,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/453765909/reactions"
    },
    "updated_at": "2019-01-12T17:31:37Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/453765909",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/17184058?v=4",
      "events_url": "https://api.github.com/users/PetSerAl/events{/privacy}",
      "followers_url": "https://api.github.com/users/PetSerAl/followers",
      "following_url": "https://api.github.com/users/PetSerAl/following{/other_user}",
      "gists_url": "https://api.github.com/users/PetSerAl/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/PetSerAl",
      "id": 17184058,
      "login": "PetSerAl",
      "node_id": "MDQ6VXNlcjE3MTg0MDU4",
      "organizations_url": "https://api.github.com/users/PetSerAl/orgs",
      "received_events_url": "https://api.github.com/users/PetSerAl/received_events",
      "repos_url": "https://api.github.com/users/PetSerAl/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/PetSerAl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PetSerAl/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/PetSerAl"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Are other cmdlets affected by this?",
    "created_at": "2019-01-12T18:56:01Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8632#issuecomment-453772370",
    "id": 453772370,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8632",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Mzc3MjM3MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/453772370/reactions"
    },
    "updated_at": "2019-01-12T18:56:01Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/453772370",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "I don't think a lot of cmdlets will be. Most cmdlets implement `-InputObject` strictly for pipeline use, so they can make some generally safe assumptions.\r\n\r\nThere may be some, but I don't know of any affected in the same way as this one is... Yet :smile:",
    "created_at": "2019-01-12T19:40:11Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8632#issuecomment-453775460",
    "id": 453775460,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8632",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Mzc3NTQ2MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/453775460/reactions"
    },
    "updated_at": "2019-01-12T19:40:11Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/453775460",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  }
]
