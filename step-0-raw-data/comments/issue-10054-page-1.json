[
  {
    "author_association": "COLLABORATOR",
    "body": "Would it also be worth mirroring this optimization for `.EndsWith()` i.e., `*pattern`?",
    "created_at": "2019-07-03T13:37:15Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/10054#issuecomment-508096447",
    "id": 508096447,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10054",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwODA5NjQ0Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/508096447/reactions"
    },
    "updated_at": "2019-07-03T13:37:15Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/508096447",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@vexx32 I found many places in our code where we use a pattern like \"text*\" so the PR will speed up the engine. But I don't see \"*text\" pattern. Although this is a public API and your proposal may be helpful for external applications.\r\n",
    "created_at": "2019-07-03T14:00:06Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/10054#issuecomment-508105506",
    "id": 508105506,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10054",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwODEwNTUwNg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/508105506/reactions"
    },
    "updated_at": "2019-07-03T14:00:06Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/508105506",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Yeah, I was more thinking just to speed up general usage. Definitely a good call to optimize the engine's usage, though! ðŸ’– ",
    "created_at": "2019-07-03T14:04:07Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/10054#issuecomment-508107129",
    "id": 508107129,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10054",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwODEwNzEyOQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/508107129/reactions"
    },
    "updated_at": "2019-07-03T14:04:07Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/508107129",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "I would like to see some numbers that showcase the improvement of this change.\r\nI think for all perf PRs, we should have some sort of evidence to show the effectiveness of the changes (make sure we are guided by profiling).\r\nIn case you don't have a specific scenario that gets noticeable improvement, at least show what code paths will hit this change and why it's a change that we want to have.",
    "created_at": "2019-07-03T19:38:54Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/10054#issuecomment-508229081",
    "id": 508229081,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10054",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwODIyOTA4MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/508229081/reactions"
    },
    "updated_at": "2019-07-03T19:38:54Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/508229081",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/127450?v=4",
      "events_url": "https://api.github.com/users/daxian-dbw/events{/privacy}",
      "followers_url": "https://api.github.com/users/daxian-dbw/followers",
      "following_url": "https://api.github.com/users/daxian-dbw/following{/other_user}",
      "gists_url": "https://api.github.com/users/daxian-dbw/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/daxian-dbw",
      "id": 127450,
      "login": "daxian-dbw",
      "node_id": "MDQ6VXNlcjEyNzQ1MA==",
      "organizations_url": "https://api.github.com/users/daxian-dbw/orgs",
      "received_events_url": "https://api.github.com/users/daxian-dbw/received_events",
      "repos_url": "https://api.github.com/users/daxian-dbw/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/daxian-dbw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daxian-dbw/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/daxian-dbw"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "The main motivation was to complete the optimization of this code once we touched it.\r\nHowever, this is a public code and should be improved.\r\n\r\nAs for the hot ways, my most important expectation was for path processing like `dir *`. In reality, test below shows a perf win of only about 1%.\r\n```powershell\r\n$a = dir -Recurse C:\\Windows\\System32\\p*\r\n```\r\nDebug shows that globbing code does all works and then send filtered list child items to WindcardPattern.IsMatch() ! \r\nThis way the engine almost always works with small collections and we don't see huge wins from fixes in WindcardPattern.IsMatch().",
    "created_at": "2019-07-04T08:05:56Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/10054#issuecomment-508384193",
    "id": 508384193,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10054",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwODM4NDE5Mw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/508384193/reactions"
    },
    "updated_at": "2019-07-04T08:05:56Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/508384193",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "Can you please move your comment in https://github.com/PowerShell/PowerShell/pull/10054#issuecomment-508384193 to the PR description?\r\nAlso, can you elaborate more about your following statements? I'm not very clear what you mean by, for example, `works with small collections`.\r\n> Debug shows that globbing code does all works and then send filtered list child items to WindcardPattern.IsMatch() !\r\nThis way the engine almost always works with small collections and we don't see huge wins from fixes in WindcardPattern.IsMatch().",
    "created_at": "2019-07-05T16:25:35Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/10054#issuecomment-508808988",
    "id": 508808988,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10054",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwODgwODk4OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/508808988/reactions"
    },
    "updated_at": "2019-07-05T16:25:35Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/508808988",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/127450?v=4",
      "events_url": "https://api.github.com/users/daxian-dbw/events{/privacy}",
      "followers_url": "https://api.github.com/users/daxian-dbw/followers",
      "following_url": "https://api.github.com/users/daxian-dbw/following{/other_user}",
      "gists_url": "https://api.github.com/users/daxian-dbw/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/daxian-dbw",
      "id": 127450,
      "login": "daxian-dbw",
      "node_id": "MDQ6VXNlcjEyNzQ1MA==",
      "organizations_url": "https://api.github.com/users/daxian-dbw/orgs",
      "received_events_url": "https://api.github.com/users/daxian-dbw/received_events",
      "repos_url": "https://api.github.com/users/daxian-dbw/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/daxian-dbw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daxian-dbw/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/daxian-dbw"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@iSazonov The PR looks good, but can you please respond to my comment here: https://github.com/PowerShell/PowerShell/pull/10054#issuecomment-508808988\r\nI would like to understand why this change only show 1% improvement to `dir -Recurse C:\\Windows\\System32\\p*`.",
    "created_at": "2019-07-09T20:38:17Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/10054#issuecomment-509798285",
    "id": 509798285,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10054",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwOTc5ODI4NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/509798285/reactions"
    },
    "updated_at": "2019-07-09T20:38:17Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/509798285",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/127450?v=4",
      "events_url": "https://api.github.com/users/daxian-dbw/events{/privacy}",
      "followers_url": "https://api.github.com/users/daxian-dbw/followers",
      "following_url": "https://api.github.com/users/daxian-dbw/following{/other_user}",
      "gists_url": "https://api.github.com/users/daxian-dbw/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/daxian-dbw",
      "id": 127450,
      "login": "daxian-dbw",
      "node_id": "MDQ6VXNlcjEyNzQ1MA==",
      "organizations_url": "https://api.github.com/users/daxian-dbw/orgs",
      "received_events_url": "https://api.github.com/users/daxian-dbw/received_events",
      "repos_url": "https://api.github.com/users/daxian-dbw/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/daxian-dbw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daxian-dbw/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/daxian-dbw"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@daxian-dbw When we send a path like `C:\\Windows\\System32\\p*` to engine our globbing code does all work - parse and expand `p*` to a collection with leaves. Then the already filtered leaves (in the example, all started with \"p\") is passed to a code which again filters the leaves by WindcardPattern.IsMatch(). So (1) we don't filter large, all full path list, only small collection of leaves  - that's why we get so little acceleration, (2) we do duplicated work that we would address, I believe it is common problem in globbing code - there is many places where it happens.",
    "created_at": "2019-07-10T03:31:19Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/10054#issuecomment-509893349",
    "id": 509893349,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10054",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwOTg5MzM0OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/509893349/reactions"
    },
    "updated_at": "2019-07-10T03:31:19Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/509893349",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@iSazonov I opened #10093 to track this, so we don't lose your analysis.",
    "created_at": "2019-07-10T16:13:34Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/10054#issuecomment-510128670",
    "id": 510128670,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10054",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMDEyODY3MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/510128670/reactions"
    },
    "updated_at": "2019-07-10T16:13:34Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/510128670",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/127450?v=4",
      "events_url": "https://api.github.com/users/daxian-dbw/events{/privacy}",
      "followers_url": "https://api.github.com/users/daxian-dbw/followers",
      "following_url": "https://api.github.com/users/daxian-dbw/following{/other_user}",
      "gists_url": "https://api.github.com/users/daxian-dbw/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/daxian-dbw",
      "id": 127450,
      "login": "daxian-dbw",
      "node_id": "MDQ6VXNlcjEyNzQ1MA==",
      "organizations_url": "https://api.github.com/users/daxian-dbw/orgs",
      "received_events_url": "https://api.github.com/users/daxian-dbw/received_events",
      "repos_url": "https://api.github.com/users/daxian-dbw/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/daxian-dbw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daxian-dbw/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/daxian-dbw"
    }
  },
  {
    "author_association": "NONE",
    "body": ":tada:`v7.0.0-preview.2` has been released which incorporates this pull request.:tada:\n\nHandy links:\n* [Release Notes](https://github.com/PowerShell/PowerShell/releases/tag/v7.0.0-preview.2)\n",
    "created_at": "2019-07-17T20:55:52Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/10054#issuecomment-512565201",
    "id": 512565201,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10054",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMjU2NTIwMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/512565201/reactions"
    },
    "updated_at": "2019-07-17T20:55:52Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/512565201",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/in/26612?v=4",
      "events_url": "https://api.github.com/users/msftbot%5Bbot%5D/events{/privacy}",
      "followers_url": "https://api.github.com/users/msftbot%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/msftbot%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/msftbot%5Bbot%5D/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/apps/msftbot",
      "id": 48340428,
      "login": "msftbot[bot]",
      "node_id": "MDM6Qm90NDgzNDA0Mjg=",
      "organizations_url": "https://api.github.com/users/msftbot%5Bbot%5D/orgs",
      "received_events_url": "https://api.github.com/users/msftbot%5Bbot%5D/received_events",
      "repos_url": "https://api.github.com/users/msftbot%5Bbot%5D/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/msftbot%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/msftbot%5Bbot%5D/subscriptions",
      "type": "Bot",
      "url": "https://api.github.com/users/msftbot%5Bbot%5D"
    }
  }
]
