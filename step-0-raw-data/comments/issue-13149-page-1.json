[
  {
    "author_association": "NONE",
    "body": "Found [this post](https://stackoverflow.com/questions/40173870/unexected-results-in-receive-job) saying \"PowerShell adds extra properties to all objects received from job\", and I guess the output type also changes, that's why the formats do not work.\r\nIf that's the case, is there a way to fix the display?",
    "created_at": "2020-07-10T02:23:35Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13149#issuecomment-656444265",
    "id": 656444265,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13149",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1NjQ0NDI2NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/656444265/reactions"
    },
    "updated_at": "2020-07-10T02:23:35Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/656444265",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11371776?v=4",
      "events_url": "https://api.github.com/users/isra-fel/events{/privacy}",
      "followers_url": "https://api.github.com/users/isra-fel/followers",
      "following_url": "https://api.github.com/users/isra-fel/following{/other_user}",
      "gists_url": "https://api.github.com/users/isra-fel/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/isra-fel",
      "id": 11371776,
      "login": "isra-fel",
      "node_id": "MDQ6VXNlcjExMzcxNzc2",
      "organizations_url": "https://api.github.com/users/isra-fel/orgs",
      "received_events_url": "https://api.github.com/users/isra-fel/received_events",
      "repos_url": "https://api.github.com/users/isra-fel/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/isra-fel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/isra-fel/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/isra-fel"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Looking at the linked issue... they're using `Start-Job` which invokes the script in a different process entirely. Objects received from there have to be deserialized, which will mean that any defined formats will not apply to the received objects; they're essentially re-created as PSCustomObject with an additional PSTypeName of `Deserialized.Original.Type.Name`\r\n\r\nWhile it's unfortunate in this particular case, I'm not sure this is necessarily avoidable. The best thing I can think to do here is to flag sensitive properties as hidden, perhaps using `System.Management.Automation.HiddenAttribute`? ðŸ¤” ",
    "created_at": "2020-07-10T02:29:52Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13149#issuecomment-656445800",
    "id": 656445800,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13149",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1NjQ0NTgwMA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/656445800/reactions"
    },
    "updated_at": "2020-07-10T02:29:52Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/656445800",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Can you provide a link to the format file for this object?\r\n\r\n> Found this post saying \"PowerShell adds extra properties to all objects received from job\", and I guess the output type also changes, that's why the formats do not work.\r\n\r\nOutput objects are serialized and deserialized into custom psobjects, but generally speaking formatting will still apply. I haven't been able to reproduce the problem with any of the built in formatting rules or any of my custom formatting files.",
    "created_at": "2020-07-10T02:44:28Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13149#issuecomment-656449411",
    "id": 656449411,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13149",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1NjQ0OTQxMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/656449411/reactions"
    },
    "updated_at": "2020-07-10T02:44:28Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/656449411",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/24977523?v=4",
      "events_url": "https://api.github.com/users/SeeminglyScience/events{/privacy}",
      "followers_url": "https://api.github.com/users/SeeminglyScience/followers",
      "following_url": "https://api.github.com/users/SeeminglyScience/following{/other_user}",
      "gists_url": "https://api.github.com/users/SeeminglyScience/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SeeminglyScience",
      "id": 24977523,
      "login": "SeeminglyScience",
      "node_id": "MDQ6VXNlcjI0OTc3NTIz",
      "organizations_url": "https://api.github.com/users/SeeminglyScience/orgs",
      "received_events_url": "https://api.github.com/users/SeeminglyScience/received_events",
      "repos_url": "https://api.github.com/users/SeeminglyScience/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SeeminglyScience/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SeeminglyScience/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SeeminglyScience"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Good to know! I must be remembering something else, then, maybe an edge case where it wasn't working properly for whatever reason.\r\n\r\n@isra-fel after tinkering around a little it seems to me the most likely source of the issue is that the user doesn't have your module actually imported in the parent session, and it's only imported for the child job. As a result, the format information is missing from the parent session.\r\n\r\nThat's not something we can really do anything about necessarily, and is probably one of the reasons I'd really question why a _format_ file is being used to hide supposedly sensitive information? Custom formats are a UX and convenience feature, not a security feature. If the data is potentially sensitive, it should probably be hidden in a way that doesn't depend on a format file.",
    "created_at": "2020-07-10T02:59:27Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13149#issuecomment-656452945",
    "id": 656452945,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13149",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1NjQ1Mjk0NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/656452945/reactions"
    },
    "updated_at": "2020-07-10T02:59:27Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/656452945",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "NONE",
    "body": "Thank you @vexx32 and @SeeminglyScience for your quick and helpful response!\r\n\r\nThe situation is just like you said, the module was not loaded in the parent session. If I import the module in advance and the problem would be gone.\r\n\r\nAgree with @vexx32 's point. We need to revisit our design.\r\n\r\nThanks again. This issue can be closed :)",
    "created_at": "2020-07-10T03:32:16Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13149#issuecomment-656461930",
    "id": 656461930,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13149",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1NjQ2MTkzMA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 2,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 2,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/656461930/reactions"
    },
    "updated_at": "2020-07-10T03:32:16Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/656461930",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11371776?v=4",
      "events_url": "https://api.github.com/users/isra-fel/events{/privacy}",
      "followers_url": "https://api.github.com/users/isra-fel/followers",
      "following_url": "https://api.github.com/users/isra-fel/following{/other_user}",
      "gists_url": "https://api.github.com/users/isra-fel/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/isra-fel",
      "id": 11371776,
      "login": "isra-fel",
      "node_id": "MDQ6VXNlcjExMzcxNzc2",
      "organizations_url": "https://api.github.com/users/isra-fel/orgs",
      "received_events_url": "https://api.github.com/users/isra-fel/received_events",
      "repos_url": "https://api.github.com/users/isra-fel/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/isra-fel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/isra-fel/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/isra-fel"
    }
  }
]
