[
  {
    "author_association": "NONE",
    "body": "> For example, a simple script like this would be stuck.\r\n\r\nIn my environment this simple script did not stuck\r\n![ArcoLinux_2022-03-30_11-56-23](https://user-images.githubusercontent.com/78153320/160793354-2e74c00a-c352-4bed-a42c-a06302ac0964.png)\r\n\r\nIf I run script (with executable bit) from third-party application (from mc) it works too:\r\n```\r\n#!/usr/bin/pwsh -NoProfile\r\n\r\nls > /tmp/test.out\r\nSet-Content /tmp/continue \"good\"\r\n```\r\n",
    "created_at": "2022-03-30T09:02:52Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17082#issuecomment-1082814185",
    "id": 1082814185,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17082",
    "node_id": "IC_kwDOAvT7bc5Aim7p",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1082814185/reactions"
    },
    "updated_at": "2022-03-30T10:11:33Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1082814185",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/78153320?v=4",
      "events_url": "https://api.github.com/users/237dmitry/events{/privacy}",
      "followers_url": "https://api.github.com/users/237dmitry/followers",
      "following_url": "https://api.github.com/users/237dmitry/following{/other_user}",
      "gists_url": "https://api.github.com/users/237dmitry/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/237dmitry",
      "id": 78153320,
      "login": "237dmitry",
      "node_id": "MDQ6VXNlcjc4MTUzMzIw",
      "organizations_url": "https://api.github.com/users/237dmitry/orgs",
      "received_events_url": "https://api.github.com/users/237dmitry/received_events",
      "repos_url": "https://api.github.com/users/237dmitry/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/237dmitry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/237dmitry/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/237dmitry"
    }
  },
  {
    "author_association": "NONE",
    "body": "> In my environment this simple script did not stuck\r\n\r\n> If I run script (with executable bit) from third-party application (from mc) it works too:\r\n\r\n@237dmitry,\r\nIt very well is because of the application that I am dealing with.\r\nI did have the executable bit turned on and I also tried with `-NoProfile`.\r\nWhat's third-party application from mc that you tested with or any other application that can run shell scripts?\r\nI can test them out and if they do work, then it's my app, and if they don't work, then it's my Linux.",
    "created_at": "2022-03-30T13:46:29Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17082#issuecomment-1083161541",
    "id": 1083161541,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17082",
    "node_id": "IC_kwDOAvT7bc5Aj7vF",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1083161541/reactions"
    },
    "updated_at": "2022-03-30T13:46:29Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1083161541",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/854702?v=4",
      "events_url": "https://api.github.com/users/yfengBTI/events{/privacy}",
      "followers_url": "https://api.github.com/users/yfengBTI/followers",
      "following_url": "https://api.github.com/users/yfengBTI/following{/other_user}",
      "gists_url": "https://api.github.com/users/yfengBTI/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/yfengBTI",
      "id": 854702,
      "login": "yfengBTI",
      "node_id": "MDQ6VXNlcjg1NDcwMg==",
      "organizations_url": "https://api.github.com/users/yfengBTI/orgs",
      "received_events_url": "https://api.github.com/users/yfengBTI/received_events",
      "repos_url": "https://api.github.com/users/yfengBTI/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/yfengBTI/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yfengBTI/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/yfengBTI"
    }
  },
  {
    "author_association": "NONE",
    "body": "> What's third-party application from mc that you tested with or any other application that can run shell scripts?\r\n\r\nI tested your script from mc (file manager). As for other examples, I use powershell scripts to manage [tilix](https://github.com/gnunn1/tilix) (terminal emulator) and to manage the media library in [deadbeef](https://github.com/DeaDBeeF-Player/deadbeef) (music player). These scripts are called directly from these applications and use native binaries (tilix itself and metaflac).\r\n\r\nArcoLinux (arch based), pwsh 7.2.2 (installed manually from compressed tar-file).",
    "created_at": "2022-03-30T14:26:15Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17082#issuecomment-1083208203",
    "id": 1083208203,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17082",
    "node_id": "IC_kwDOAvT7bc5AkHIL",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1083208203/reactions"
    },
    "updated_at": "2022-03-30T14:32:50Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1083208203",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/78153320?v=4",
      "events_url": "https://api.github.com/users/237dmitry/events{/privacy}",
      "followers_url": "https://api.github.com/users/237dmitry/followers",
      "following_url": "https://api.github.com/users/237dmitry/following{/other_user}",
      "gists_url": "https://api.github.com/users/237dmitry/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/237dmitry",
      "id": 78153320,
      "login": "237dmitry",
      "node_id": "MDQ6VXNlcjc4MTUzMzIw",
      "organizations_url": "https://api.github.com/users/237dmitry/orgs",
      "received_events_url": "https://api.github.com/users/237dmitry/received_events",
      "repos_url": "https://api.github.com/users/237dmitry/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/237dmitry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/237dmitry/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/237dmitry"
    }
  },
  {
    "author_association": "NONE",
    "body": "This binary is malicious to pwsh. It should be wanted ;)\r\nwhat is its name?\r\nWhere is his file path?\r\nWhere can I download its installation package?",
    "created_at": "2022-03-30T15:58:47Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17082#issuecomment-1083324562",
    "id": 1083324562,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17082",
    "node_id": "IC_kwDOAvT7bc5AkjiS",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1083324562/reactions"
    },
    "updated_at": "2022-03-30T15:58:47Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1083324562",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/65390418?v=4",
      "events_url": "https://api.github.com/users/kasini3000/events{/privacy}",
      "followers_url": "https://api.github.com/users/kasini3000/followers",
      "following_url": "https://api.github.com/users/kasini3000/following{/other_user}",
      "gists_url": "https://api.github.com/users/kasini3000/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/kasini3000",
      "id": 65390418,
      "login": "kasini3000",
      "node_id": "MDQ6VXNlcjY1MzkwNDE4",
      "organizations_url": "https://api.github.com/users/kasini3000/orgs",
      "received_events_url": "https://api.github.com/users/kasini3000/received_events",
      "repos_url": "https://api.github.com/users/kasini3000/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/kasini3000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kasini3000/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/kasini3000"
    }
  },
  {
    "author_association": "NONE",
    "body": "> I tested your script from mc (file manager). As for other examples, I use powershell scripts to manage [tilix](https://github.com/gnunn1/tilix) (terminal emulator) and to manage the media library in [deadbeef](https://github.com/DeaDBeeF-Player/deadbeef) (music player). These scripts are called directly from these applications and use native binaries (tilix itself and metaflac).\r\n> \r\n> ArcoLinux (arch based), pwsh 7.2.2 (installed manually from compressed tar-file).\r\n\r\n@237dmitry, thanks for the info.\r\nThe env is a server without x windows so I can't test with GUI apps.\r\nWhat's funny is that if I call `sh /tmp/test.sh` that calls `pwsh -file /tmp/test.ps1`, then it works.\r\n\r\n> This binary is malicious to pwsh. It should be wanted ;)\r\n> what is its name?\r\n> Where is his file path?\r\n> Where can I download its installation package?\r\n\r\n@kasini3000 \r\nIt's a commercial software, the TM1 component of Planning Analytics from IBM.\r\nI have this software on Windows servers as well as Linux servers, it would be nice to keep using the same set of scripts rather duplicating scripts with `pwsh` and `sh`.",
    "created_at": "2022-03-30T16:17:49Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17082#issuecomment-1083348342",
    "id": 1083348342,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17082",
    "node_id": "IC_kwDOAvT7bc5AkpV2",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1083348342/reactions"
    },
    "updated_at": "2022-03-30T16:54:16Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1083348342",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/854702?v=4",
      "events_url": "https://api.github.com/users/yfengBTI/events{/privacy}",
      "followers_url": "https://api.github.com/users/yfengBTI/followers",
      "following_url": "https://api.github.com/users/yfengBTI/following{/other_user}",
      "gists_url": "https://api.github.com/users/yfengBTI/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/yfengBTI",
      "id": 854702,
      "login": "yfengBTI",
      "node_id": "MDQ6VXNlcjg1NDcwMg==",
      "organizations_url": "https://api.github.com/users/yfengBTI/orgs",
      "received_events_url": "https://api.github.com/users/yfengBTI/received_events",
      "repos_url": "https://api.github.com/users/yfengBTI/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/yfengBTI/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yfengBTI/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/yfengBTI"
    }
  },
  {
    "author_association": "NONE",
    "body": "> What's funny is that if I call sh /tmp/test.sh that calls pwsh -file /tmp/test.ps1, then it works.\r\n\r\nIt's hard to say about `/bin/sh` as in ArcoLinux this is symlink to `/bin/bash`. So I can't test real `sh`. You can try such `shebang`:\r\n```\r\n#!/usr/bin/env -S pwsh -noprofile\r\n```\r\nor if in your _Enterprise Server_ /usr/bin/env has not switch key `-S`\r\n```\r\n#!/usr/bin/env pwsh\r\n```",
    "created_at": "2022-03-30T19:34:39Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17082#issuecomment-1083546418",
    "id": 1083546418,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17082",
    "node_id": "IC_kwDOAvT7bc5AlZsy",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1083546418/reactions"
    },
    "updated_at": "2022-03-30T19:48:36Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1083546418",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/78153320?v=4",
      "events_url": "https://api.github.com/users/237dmitry/events{/privacy}",
      "followers_url": "https://api.github.com/users/237dmitry/followers",
      "following_url": "https://api.github.com/users/237dmitry/following{/other_user}",
      "gists_url": "https://api.github.com/users/237dmitry/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/237dmitry",
      "id": 78153320,
      "login": "237dmitry",
      "node_id": "MDQ6VXNlcjc4MTUzMzIw",
      "organizations_url": "https://api.github.com/users/237dmitry/orgs",
      "received_events_url": "https://api.github.com/users/237dmitry/received_events",
      "repos_url": "https://api.github.com/users/237dmitry/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/237dmitry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/237dmitry/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/237dmitry"
    }
  },
  {
    "author_association": "NONE",
    "body": "> It's hard to say about `/bin/sh` as in ArcoLinux this is symlink to `/bin/bash`. So I can't test real `sh`. You can try such `shebang`:\r\n> \r\n> ```\r\n> #!/usr/bin/env -S pwsh -noprofile\r\n> ```\r\n> \r\n> or if in your _Enterprise Server_ /usr/bin/env has not switch key `-S`\r\n> \r\n> ```\r\n> #!/usr/bin/env pwsh\r\n> ```\r\n\r\nUsing `bash` instead of `sh` also works fine in my test.\r\nTried both `shebang`, no luck.",
    "created_at": "2022-03-30T20:35:10Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17082#issuecomment-1083599388",
    "id": 1083599388,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17082",
    "node_id": "IC_kwDOAvT7bc5Almoc",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1083599388/reactions"
    },
    "updated_at": "2022-03-30T20:35:10Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1083599388",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/854702?v=4",
      "events_url": "https://api.github.com/users/yfengBTI/events{/privacy}",
      "followers_url": "https://api.github.com/users/yfengBTI/followers",
      "following_url": "https://api.github.com/users/yfengBTI/following{/other_user}",
      "gists_url": "https://api.github.com/users/yfengBTI/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/yfengBTI",
      "id": 854702,
      "login": "yfengBTI",
      "node_id": "MDQ6VXNlcjg1NDcwMg==",
      "organizations_url": "https://api.github.com/users/yfengBTI/orgs",
      "received_events_url": "https://api.github.com/users/yfengBTI/received_events",
      "repos_url": "https://api.github.com/users/yfengBTI/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/yfengBTI/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yfengBTI/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/yfengBTI"
    }
  },
  {
    "author_association": "NONE",
    "body": "I have the same problem - on a fresh install:\r\n\r\n[root@localhost ~]# cat /etc/rocky-release\r\nRocky Linux release 8.6 (Green Obsidian)\r\n[root@localhost ~]# pwsh\r\nPowerShell 7.2.6\r\nCopyright (c) Microsoft Corporation.\r\n\r\nType 'help' to get help.\r\n\r\nLoading personal and system profiles took 3737ms.\r\nPS /root> $PSVersionTable\r\n\r\nName                           Value\r\n----                           -----\r\nPSVersion                      7.2.6\r\nPSEdition                      Core\r\nGitCommitId                    7.2.6\r\nOS                             Linux 4.18.0-372.19.1.el8_6.x86_64 #1 SMP Tue Aug 2 16:19:42 UTC 2022\r\nPlatform                       Unix\r\nPSCompatibleVersions           {1.0, 2.0, 3.0, 4.0…}\r\nPSRemotingProtocolVersion      2.3\r\nSerializationVersion           1.1.0.1\r\nWSManStackVersion              3.0\r\n\r\nPS /root> ls\r\nanaconda-ks.cfg  install\r\n\r\nls never returns to the prompt.\r\n\r\n",
    "created_at": "2022-08-15T06:55:39Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17082#issuecomment-1214681367",
    "id": 1214681367,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17082",
    "node_id": "IC_kwDOAvT7bc5IZpEX",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1214681367/reactions"
    },
    "updated_at": "2022-08-15T06:56:42Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1214681367",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/4103091?v=4",
      "events_url": "https://api.github.com/users/andysza/events{/privacy}",
      "followers_url": "https://api.github.com/users/andysza/followers",
      "following_url": "https://api.github.com/users/andysza/following{/other_user}",
      "gists_url": "https://api.github.com/users/andysza/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/andysza",
      "id": 4103091,
      "login": "andysza",
      "node_id": "MDQ6VXNlcjQxMDMwOTE=",
      "organizations_url": "https://api.github.com/users/andysza/orgs",
      "received_events_url": "https://api.github.com/users/andysza/received_events",
      "repos_url": "https://api.github.com/users/andysza/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/andysza/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andysza/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/andysza"
    }
  }
]
