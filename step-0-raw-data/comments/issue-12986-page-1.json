[
  {
    "author_association": "COLLABORATOR",
    "body": "I think this _used_ to work only because the default mode of input was different. Try with both an explicit `-File ./test-param.ps1` and an explicit `-Command ./test-param.ps1` rather then supplying the file path positionally and you'll get different results. IIRC the default argument mode was changed sometime in 6.x, so that's why you're seeing a different here I think.",
    "created_at": "2020-06-17T23:33:38Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12986#issuecomment-645680123",
    "id": 645680123,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12986",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NTY4MDEyMw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/645680123/reactions"
    },
    "updated_at": "2020-06-17T23:33:38Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/645680123",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "NONE",
    "body": "Hi, @vexx32 !\r\n\r\nThank you very much for pointing me in the right direction. I was able to make it work when using -Command with dot-sourcing which is likely work for me:\r\n\r\n![image](https://user-images.githubusercontent.com/17551749/84967844-010e4a80-b0e3-11ea-8ea5-401bd36f0170.png)\r\n\r\nHowever, I still think something is not right either with the documentation or the interpreter. The documentation states that \"_[...] all characters typed after the File parameter name are interpreted as the script file path followed by the script parameters [...] Parameters passed to the script are passed as literal strings, after interpretation by the current shell. For example [...] pwsh -File .\\test.ps1 -TestParam %windir%_\" But I wasn't able to find the right syntax to make it work with explicit -File:\r\n\r\n![image](https://user-images.githubusercontent.com/17551749/84968026-84c83700-b0e3-11ea-8231-69bd1931645b.png)\r\n\r\nThank you!\r\n\r\n~Egor",
    "created_at": "2020-06-18T01:47:11Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12986#issuecomment-645719352",
    "id": 645719352,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12986",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NTcxOTM1Mg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/645719352/reactions"
    },
    "updated_at": "2020-06-18T01:47:11Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/645719352",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/17551749?v=4",
      "events_url": "https://api.github.com/users/EgorEmeliyanov/events{/privacy}",
      "followers_url": "https://api.github.com/users/EgorEmeliyanov/followers",
      "following_url": "https://api.github.com/users/EgorEmeliyanov/following{/other_user}",
      "gists_url": "https://api.github.com/users/EgorEmeliyanov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/EgorEmeliyanov",
      "id": 17551749,
      "login": "EgorEmeliyanov",
      "node_id": "MDQ6VXNlcjE3NTUxNzQ5",
      "organizations_url": "https://api.github.com/users/EgorEmeliyanov/orgs",
      "received_events_url": "https://api.github.com/users/EgorEmeliyanov/received_events",
      "repos_url": "https://api.github.com/users/EgorEmeliyanov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/EgorEmeliyanov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/EgorEmeliyanov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/EgorEmeliyanov"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "That last one is definitely one I'd expect to work given your code, absolutely. That's very strange...",
    "created_at": "2020-06-18T01:51:36Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12986#issuecomment-645720687",
    "id": 645720687,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12986",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NTcyMDY4Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/645720687/reactions"
    },
    "updated_at": "2020-06-18T01:51:36Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/645720687",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "NONE",
    "body": "I got the same result in Ubuntu (version 7.0.2 as well):\r\n\r\n![image](https://user-images.githubusercontent.com/17551749/84969056-e7223700-b0e5-11ea-8808-91eee1233f6e.png)\r\n\r\nupd: If I output $PSBoundParameters['Detail'].count it shows that in all failed cases count equals to 1, so those arguments are passed as a single element (when using with explicit -Command it shows 2 as expected).",
    "created_at": "2020-06-18T02:11:47Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12986#issuecomment-645726341",
    "id": 645726341,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12986",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NTcyNjM0MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/645726341/reactions"
    },
    "updated_at": "2020-06-18T02:20:21Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/645726341",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/17551749?v=4",
      "events_url": "https://api.github.com/users/EgorEmeliyanov/events{/privacy}",
      "followers_url": "https://api.github.com/users/EgorEmeliyanov/followers",
      "following_url": "https://api.github.com/users/EgorEmeliyanov/following{/other_user}",
      "gists_url": "https://api.github.com/users/EgorEmeliyanov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/EgorEmeliyanov",
      "id": 17551749,
      "login": "EgorEmeliyanov",
      "node_id": "MDQ6VXNlcjE3NTUxNzQ5",
      "organizations_url": "https://api.github.com/users/EgorEmeliyanov/orgs",
      "received_events_url": "https://api.github.com/users/EgorEmeliyanov/received_events",
      "repos_url": "https://api.github.com/users/EgorEmeliyanov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/EgorEmeliyanov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/EgorEmeliyanov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/EgorEmeliyanov"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "The `-File` CLI parameter doesn't support _arrays_, so you'll have to use `-Command`.\r\n\r\nYour quote from the docs (emphasis added) provides a clue as to why: \r\n\r\n> Parameters passed to the script are passed as _literal strings_, after interpretation _by the current shell_.\r\n\r\nThat is, PowerShell uses the values _as broken into arguments by the calling shell_ as literals - without then _also_ trying to interpret them as a _PowerShell_ command line (only `-Command` does that).\r\n\r\nTraditional shells have no concept of an array, and pass `\"Low\",\"High\"` as a _single_ argument (received by PowerShell as verbatim string `Low,High`); if you tried to put a space between the elements - `\"Low\",\" High\"` - they pass _2_ arguments, received as verbatim `Low,` (note the trailing `,`) and verbatim `High`.\r\n\r\nNote that PowerShell itself too passes arguments this way _when calling external programs_.\r\n(By contrast if you use `(...)` around the array to turn it into an _expression_, PowerShell will pass the array elements as _individual arguments_; e.g., `printf [%s] ('Low','High')` yields `[Low][High]`, whereas `printf [%s] 'Low','High'` yields `[Low,High]`)\r\n\r\nSee also:  https://stackoverflow.com/a/48959328/45375\n\n<blockquote><img src=\"https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon@2.png?v=73d79a89bded\" width=\"48\" align=\"right\"><div>Stack Overflow</div><div><strong><a href=\"https://stackoverflow.com/questions/48957580/passing-string-from-batch-file-which-contains-double-quotes-to-powershell\">Passing string[] from batch file (which contains double quotes \") to powershell script</a></strong></div><div>I have a powershell script which has a string[] parameter and try to pass value to this from batch file\n\nPowerShell Script\n\n[string[]]$ScriptArgs\r\nBatch File\n\npowershell -File Foobar.ps1 -ScriptArgs -</div></blockquote>",
    "created_at": "2020-06-19T13:46:30Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12986#issuecomment-646645857",
    "id": 646645857,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12986",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NjY0NTg1Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/646645857/reactions"
    },
    "updated_at": "2020-06-19T13:46:32Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/646645857",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "NONE",
    "body": "Thank you, @mklement0 that explains it.",
    "created_at": "2020-06-19T15:49:46Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12986#issuecomment-646707642",
    "id": 646707642,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12986",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NjcwNzY0Mg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/646707642/reactions"
    },
    "updated_at": "2020-06-19T15:49:46Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/646707642",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/17551749?v=4",
      "events_url": "https://api.github.com/users/EgorEmeliyanov/events{/privacy}",
      "followers_url": "https://api.github.com/users/EgorEmeliyanov/followers",
      "following_url": "https://api.github.com/users/EgorEmeliyanov/following{/other_user}",
      "gists_url": "https://api.github.com/users/EgorEmeliyanov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/EgorEmeliyanov",
      "id": 17551749,
      "login": "EgorEmeliyanov",
      "node_id": "MDQ6VXNlcjE3NTUxNzQ5",
      "organizations_url": "https://api.github.com/users/EgorEmeliyanov/orgs",
      "received_events_url": "https://api.github.com/users/EgorEmeliyanov/received_events",
      "repos_url": "https://api.github.com/users/EgorEmeliyanov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/EgorEmeliyanov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/EgorEmeliyanov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/EgorEmeliyanov"
    }
  }
]
