[
  {
    "author_association": "COLLABORATOR",
    "body": "The issue here as I understand it is that when you start a process locally without capturing output the program will write directly to the console buffer so things like progress percentages is handled by that app. When you start a process like this through a remoted session PowerShell will always redirect and capture the `stdout` so now it's being processed by PowerShell and output line by line. This is similar to doing something like `robocopy.exe ... | Out-String` as now the output is process by PowerShell itself and output as string objects per line.\r\n\r\nI'm not sure if this can really be changed to progress records, similar to `Write-Progress` as each executable would have it's own method of displaying progress. Potentially PowerShell could somehow handle the backspace the native app will be writing but even then I don't think it's really possible or feasible to do this.  You see a similar problem when running tools like this in CI with progress indicators spamming the output because the CI log is not an actual console output.\r\n\r\nThere are some people who have implemented a wrapper around robocopy to read the output itself and convert it to a progress record which is most likely going to be the best way forward if you want progress records https://stackoverflow.com/questions/13883404/custom-robocopy-progress-bar-in-powershell. Also just as an FYI while you have an \"interactive\" PSSession when you use `Enter-PSSession` the actual session isn't going to work when calling binaries that have interactive prompts like `sudo`, `diskpart`, etc. These binaries expect an interactive console that is streamed to the client and requires input whereas a PSSession doesn't work in a way where that's possible.\n\n<blockquote><img src=\"https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon@2.png?v=73d79a89bded\" width=\"48\" align=\"right\"><div>Stack Overflow</div><div><strong><a href=\"https://stackoverflow.com/questions/13883404/custom-robocopy-progress-bar-in-powershell\">Custom RoboCopy Progress Bar in PowerShell</a></strong></div><div>I'm interested in a PowerShell script that copies a large amount of files from a server daily and I'm interested in implementing a in-console progress bar like\n\nFile copy status - XX% complete.\n\nwh...</div></blockquote>",
    "created_at": "2021-11-01T05:22:05Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/16321#issuecomment-955942983",
    "id": 955942983,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/16321",
    "node_id": "IC_kwDOAvT7bc44-ohH",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/955942983/reactions"
    },
    "updated_at": "2021-11-01T05:22:07Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/955942983",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/8462645?v=4",
      "events_url": "https://api.github.com/users/jborean93/events{/privacy}",
      "followers_url": "https://api.github.com/users/jborean93/followers",
      "following_url": "https://api.github.com/users/jborean93/following{/other_user}",
      "gists_url": "https://api.github.com/users/jborean93/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jborean93",
      "id": 8462645,
      "login": "jborean93",
      "node_id": "MDQ6VXNlcjg0NjI2NDU=",
      "organizations_url": "https://api.github.com/users/jborean93/orgs",
      "received_events_url": "https://api.github.com/users/jborean93/received_events",
      "repos_url": "https://api.github.com/users/jborean93/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jborean93/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jborean93/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jborean93"
    }
  },
  {
    "author_association": "NONE",
    "body": "Last sentence in your post make me try pure SSH remoting, not PS-Remoting with SSH transport. And it display copy progress like I want it.\r\n\r\nIt will be sad if PS-Remoting couldn't work like SSH in the future, but I can live with that.\r\n\r\nI close issue, thank you all.",
    "created_at": "2021-11-01T09:42:18Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/16321#issuecomment-956080664",
    "id": 956080664,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/16321",
    "node_id": "IC_kwDOAvT7bc44_KIY",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/956080664/reactions"
    },
    "updated_at": "2021-11-01T09:42:18Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/956080664",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/54768336?v=4",
      "events_url": "https://api.github.com/users/Nino-kun/events{/privacy}",
      "followers_url": "https://api.github.com/users/Nino-kun/followers",
      "following_url": "https://api.github.com/users/Nino-kun/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nino-kun/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/Nino-kun",
      "id": 54768336,
      "login": "Nino-kun",
      "node_id": "MDQ6VXNlcjU0NzY4MzM2",
      "organizations_url": "https://api.github.com/users/Nino-kun/orgs",
      "received_events_url": "https://api.github.com/users/Nino-kun/received_events",
      "repos_url": "https://api.github.com/users/Nino-kun/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/Nino-kun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nino-kun/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/Nino-kun"
    }
  }
]
