[
  {
    "author_association": "CONTRIBUTOR",
    "body": "You've given it a general name, but the behaviour seems very specific to \"`$PATH` variable\". Are there any other use cases anyone can come up with (not counting CLASSPATH, but outside the world of environment variables for lists of paths)?\r\n\r\nYou provisionally call it `Update-ListString`, but lists in PS (Arrays, ArrayLists and Generic.Lists) don't have operations exactly comparable to this; no InsertBefore or InsertAfter, no RemoveDuplicates. And where we do have types with comparable operations, they don't behave like these described operations do. So that name feels a bit misleading. \r\n\r\n`ArrayList.Replace()` does not append to the list in situations where the item is not found, string replace `\"words here\".Replace('test', 'potato')` does not produce `\"words here potato\"` (I wouldn't guess that 'replace' also doubled as 'Append').\r\n\r\nArrayList and Generic List have a `Remove()` method which takes out the first occurrence, and leaves the rest. If you filter a list for unique items with `Select-Unique`, then you keep the first entry and remove the subsequent ones. Your cmdlet matches this behaviour - but is that right? If I want to get rid of Java and I `-Remove 'c:\\program files\\java\\bin'` then the `-Remove` will get rid of one entry but leave possible duplicates, and `-RemoveDuplicates` will get rid of duplicates and leave one. In order to get rid of Java completely, if I don't know whether there are duplicates or not, must I run the cmdlet twice? Once to RemoveDuplicates and then again to Remove the remaining entry?\r\n\r\nThen what happens if I have two entries for Java and I `-InsertBefore`, does it get inserted twice, once for each duplicate? If it's specific for PATH variables it should probably go before the first one only, but if it's a general \"ListString\" concept, should it go before every instance? Similarly, what if I `-Replace` a duplicate entry, does that replace both duplicates? I guess it would have to in order to make sense, but then I intuit that `-Remove` has `-RemoveDuplicates` so `-Replace` should have a matching `-ReplaceDuplicates`.\r\n\r\nArrayLists and Generic Lists have `Insert(index, value)` so they don't need an `InsertAt` method, but your description here is strange:\r\n\r\n> With -Force, add operations should enforce the specified position - -Prepend, -Append, -InsertAt, -InsertBefore/After - by moving a preexisting item accordingly.\r\n\r\nIf I try to prepend, how could it ever fail such that I need to -Force it? If I try to insert at position 10 but there's only 3 things in the list, what does forcing it do? Make 7 blank entries in between? If I try to insert at position 2 and I don't force it, it has to move the following items +1 index in order to work normally, so in what situation might I need to -Force it, and what would be different?\r\n\r\n>  (-InsertBefore / -InsertAfter) - same as -Append, if the item doesn't exist\r\n\r\nIf I'm giving instructions based on my assumption that something will exist, but it doesn't exist, should that really be \"make the change somewhere else instead\", or should it really be an error?\r\n\r\n\r\nI'm not against the idea overall, but it feels tailored to the behaviours which makes sense for environment variables full of paths, and not \"Lists\" in string form. Escaping rules are likely to also be specific to environment variables. Unless there are other use cases, I think I'd prefer if that specific nature was reflected in whatever name it ends up with.",
    "created_at": "2018-10-08T23:44:48Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7975#issuecomment-428013697",
    "id": 428013697,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7975",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyODAxMzY5Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/428013697/reactions"
    },
    "updated_at": "2018-10-08T23:48:59Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/428013697",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/187787?v=4",
      "events_url": "https://api.github.com/users/HumanEquivalentUnit/events{/privacy}",
      "followers_url": "https://api.github.com/users/HumanEquivalentUnit/followers",
      "following_url": "https://api.github.com/users/HumanEquivalentUnit/following{/other_user}",
      "gists_url": "https://api.github.com/users/HumanEquivalentUnit/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/HumanEquivalentUnit",
      "id": 187787,
      "login": "HumanEquivalentUnit",
      "node_id": "MDQ6VXNlcjE4Nzc4Nw==",
      "organizations_url": "https://api.github.com/users/HumanEquivalentUnit/orgs",
      "received_events_url": "https://api.github.com/users/HumanEquivalentUnit/received_events",
      "repos_url": "https://api.github.com/users/HumanEquivalentUnit/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/HumanEquivalentUnit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/HumanEquivalentUnit/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/HumanEquivalentUnit"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "I think the 90%+ use case is to manage environment variables.  Plus there is already a separate need to surface the `[System.Environment]::Get/SetEnvironmentVariable` methods as cmdlets.  I think it makes a lot of sense to create `PathVariable` management commands as part of that effort as described in https://github.com/PowerShell/PowerShell-RFC/pull/92",
    "created_at": "2018-10-09T01:00:33Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7975#issuecomment-428025303",
    "id": 428025303,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7975",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyODAyNTMwMw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/428025303/reactions"
    },
    "updated_at": "2018-10-09T01:00:33Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/428025303",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/5177512?v=4",
      "events_url": "https://api.github.com/users/rkeithhill/events{/privacy}",
      "followers_url": "https://api.github.com/users/rkeithhill/followers",
      "following_url": "https://api.github.com/users/rkeithhill/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkeithhill/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rkeithhill",
      "id": 5177512,
      "login": "rkeithhill",
      "node_id": "MDQ6VXNlcjUxNzc1MTI=",
      "organizations_url": "https://api.github.com/users/rkeithhill/orgs",
      "received_events_url": "https://api.github.com/users/rkeithhill/received_events",
      "repos_url": "https://api.github.com/users/rkeithhill/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rkeithhill/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkeithhill/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rkeithhill"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "Yes, managing `$env:PATH`-like variables was definitely the motivation for this proposal.\r\n\r\nI can currently think of only `$env:PATH`, `$env:CLASSPATH` and `$env:PATHEXT` (Windows only), and for the latter use of a cmdlet is probably overkill.\r\n\r\nI was hoping it would generalize to other use cases where a list of items must be kept _inside a string_, but perhaps that's too rare a use case to worry about.\r\n\r\nI can now see how one/multiple `*-PathVariable` cmdlets - that optionally allow a variable of a different name to be targeted - is probably the better solution, so I'll close this.\r\n\r\n---\r\n\r\nIt is now a moot point, but as for your concerns, @HumanEquivalentUnit:\r\n\r\nI specifically chose the noun \"ListString\" to avoid confusion with .NET list types - comparing their methods with what I'm proposing should not enter the picture.\r\n\r\nThe guiding principle for the suggested operations was desired-state logic, which, for instance, means that something targeted is _allowed_ not to exist, with reasonable fallback behavior.\r\n\r\nTo address one question of yours as an example:\r\n\r\n> If I try to prepend, how could it ever fail such that I need to `-Force` it?\r\n\r\nIt couldn't _fail_, but the suggested default behavior was to leave a preexisting item alone, irrespective of its current position; `-Force` would then be needed to force moving it to the beginning.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "created_at": "2018-10-09T01:37:47Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7975#issuecomment-428031027",
    "id": 428031027,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7975",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyODAzMTAyNw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/428031027/reactions"
    },
    "updated_at": "2018-10-09T01:44:08Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/428031027",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  }
]
