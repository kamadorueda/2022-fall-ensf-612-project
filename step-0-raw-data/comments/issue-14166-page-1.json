[
  {
    "author_association": "COLLABORATOR",
    "body": "The checks I see are of the type\r\n```csharp\r\n var icer = exception as IContainsErrorRecord;\r\nif (icer == null)...\r\n```\r\n\r\nBut that is just checking for the interface.\r\n\r\n```csharp\r\n        /// <summary>\r\n        /// Encode exception.\r\n        /// </summary>\r\n        private static PSObject EncodeException(Exception exception)\r\n        {\r\n            // We are encoding exceptions as ErrorRecord objects because exceptions written\r\n            // to the wire are lost during serialization. By sending across ErrorRecord objects\r\n            // we are able to preserve the exception as well as the stack trace.\r\n\r\n            ErrorRecord errorRecord = null;\r\n            IContainsErrorRecord containsErrorRecord = exception as IContainsErrorRecord;\r\n            if (containsErrorRecord == null)\r\n            {\r\n                // If this is a .NET exception then wrap in an ErrorRecord.\r\n                errorRecord = new ErrorRecord(exception, \"RemoteHostExecutionException\", ErrorCategory.NotSpecified, null);\r\n            }\r\n            else\r\n            {\r\n                // Exception inside the error record is ParentContainsErrorRecordException which\r\n                // doesn't have stack trace. Replace it with top level exception.\r\n                errorRecord = containsErrorRecord.ErrorRecord;\r\n                errorRecord = new ErrorRecord(errorRecord, exception);\r\n            }\r\n\r\n            PSObject errorRecordPSObject = RemotingEncoder.CreateEmptyPSObject();\r\n            errorRecord.ToPSObjectForRemoting(errorRecordPSObject);\r\n            return errorRecordPSObject;\r\n        }\r\n```\r\n\r\nAnd \r\n```csharp\r\n        public ErrorRecord(ErrorRecord errorRecord,\r\n                             Exception replaceParentContainsErrorRecordException)\r\n        {\r\n            if (errorRecord == null)\r\n            {\r\n                throw new PSArgumentNullException(nameof(errorRecord));\r\n            }\r\n}\r\n```\r\n\r\nClearly, the expectation is that it is non-null.\r\n\r\nI don't think the checks you see for null are what you think they are.\r\n",
    "created_at": "2020-11-20T14:40:42Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/14166#issuecomment-731209048",
    "id": 731209048,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14166",
    "node_id": "MDEyOklzc3VlQ29tbWVudDczMTIwOTA0OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/731209048/reactions"
    },
    "updated_at": "2020-11-20T14:40:42Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/731209048",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/3505151?v=4",
      "events_url": "https://api.github.com/users/powercode/events{/privacy}",
      "followers_url": "https://api.github.com/users/powercode/followers",
      "following_url": "https://api.github.com/users/powercode/following{/other_user}",
      "gists_url": "https://api.github.com/users/powercode/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/powercode",
      "id": 3505151,
      "login": "powercode",
      "node_id": "MDQ6VXNlcjM1MDUxNTE=",
      "organizations_url": "https://api.github.com/users/powercode/orgs",
      "received_events_url": "https://api.github.com/users/powercode/received_events",
      "repos_url": "https://api.github.com/users/powercode/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/powercode/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/powercode/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/powercode"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "I think those checks are just extra precautions since we haven't had a language mechanism to help us with this.\r\nSo devs add safeguards.",
    "created_at": "2020-11-20T14:47:19Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/14166#issuecomment-731212517",
    "id": 731212517,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14166",
    "node_id": "MDEyOklzc3VlQ29tbWVudDczMTIxMjUxNw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/731212517/reactions"
    },
    "updated_at": "2020-11-20T14:47:19Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/731212517",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/3505151?v=4",
      "events_url": "https://api.github.com/users/powercode/events{/privacy}",
      "followers_url": "https://api.github.com/users/powercode/followers",
      "following_url": "https://api.github.com/users/powercode/following{/other_user}",
      "gists_url": "https://api.github.com/users/powercode/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/powercode",
      "id": 3505151,
      "login": "powercode",
      "node_id": "MDQ6VXNlcjM1MDUxNTE=",
      "organizations_url": "https://api.github.com/users/powercode/orgs",
      "received_events_url": "https://api.github.com/users/powercode/received_events",
      "repos_url": "https://api.github.com/users/powercode/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/powercode/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/powercode/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/powercode"
    }
  },
  {
    "author_association": "NONE",
    "body": "This pull request has been automatically marked as Review Needed because it has been there has not been any activity for **7 days**.\nMaintainer, please provide feedback and/or mark it as `Waiting on Author`",
    "created_at": "2020-11-29T02:00:10Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/14166#issuecomment-735317549",
    "id": 735317549,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14166",
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNTMxNzU0OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/735317549/reactions"
    },
    "updated_at": "2020-11-29T02:00:10Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/735317549",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/in/26612?v=4",
      "events_url": "https://api.github.com/users/msftbot%5Bbot%5D/events{/privacy}",
      "followers_url": "https://api.github.com/users/msftbot%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/msftbot%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/msftbot%5Bbot%5D/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/apps/msftbot",
      "id": 48340428,
      "login": "msftbot[bot]",
      "node_id": "MDM6Qm90NDgzNDA0Mjg=",
      "organizations_url": "https://api.github.com/users/msftbot%5Bbot%5D/orgs",
      "received_events_url": "https://api.github.com/users/msftbot%5Bbot%5D/received_events",
      "repos_url": "https://api.github.com/users/msftbot%5Bbot%5D/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/msftbot%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/msftbot%5Bbot%5D/subscriptions",
      "type": "Bot",
      "url": "https://api.github.com/users/msftbot%5Bbot%5D"
    }
  }
]
