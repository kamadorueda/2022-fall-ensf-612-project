[
  {
    "author_association": "MEMBER",
    "body": "Fails with Windows PowerShell 5.1 so not a regression.  Seems specific to nested `[PSCustomObject]`.  Other cases work\r\n\r\n```powershell\r\nget-process | select -first 1 | convertto-xml\r\n```\r\n",
    "created_at": "2018-11-18T22:55:07Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8308#issuecomment-439733571",
    "id": 439733571,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8308",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTczMzU3MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/439733571/reactions"
    },
    "updated_at": "2018-11-18T22:55:07Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/439733571",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "Thanks, @SteveL-MSFT. Generally, I only include a Windows PowerShell version in the _Environment data_ section if it _isn't_ a regression (and, conversely, point out if it is). Can you briefly explain the purpose of `ConvertTo-Xml` with respect to my comments at the top, so I can open doc issues, if/as needed?",
    "created_at": "2018-11-18T23:03:44Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8308#issuecomment-439734188",
    "id": 439734188,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8308",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTczNDE4OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/439734188/reactions"
    },
    "updated_at": "2018-11-18T23:04:25Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/439734188",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@mklement0 I don't know the history of it, but I can make an educated guess.  `ConvertTo-Xml` uses a simplified format that makes it easier to use with other systems that accept XML although it's probably still a bit more abstract than a simple property bag format...  `Export-CliXml` is the same serialization format PowerShell uses for remoting so it's more complete to enable deserialization.  Ideally, it seems like we should have had `ConvertTo-Xml` take a `-Format` parameter that supported `CliXml` and other xml formats rather than having this confusion between `ExportTo-CliXml` and `ConvertTo-Xml` having incompatible xml formats.",
    "created_at": "2018-11-18T23:53:15Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8308#issuecomment-439737699",
    "id": 439737699,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8308",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTczNzY5OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/439737699/reactions"
    },
    "updated_at": "2018-11-18T23:53:15Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/439737699",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "Thanks, @SteveL-MSFT.\r\n\r\n>  other systems that accept XML \r\n\r\nSo I can suggest improvements to the docs: can you give examples of such other systems?\r\nAre there common real-world scenarios?\r\n\r\n\r\n",
    "created_at": "2018-11-19T15:57:48Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8308#issuecomment-439943088",
    "id": 439943088,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8308",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTk0MzA4OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/439943088/reactions"
    },
    "updated_at": "2018-11-19T15:57:48Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/439943088",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "I've created a docs issue at https://github.com/PowerShell/PowerShell-Docs/issues/3310.",
    "created_at": "2018-11-19T16:12:42Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8308#issuecomment-439948649",
    "id": 439948649,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8308",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTk0ODY0OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/439948649/reactions"
    },
    "updated_at": "2018-11-19T16:12:42Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/439948649",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@mklement0 @SteveL-MSFT this does seem specific to pscustomobject. The following works:\r\n\r\n```powershell\r\n[psobject] @{ a = [psobject] @{ aa=11; bb=22 } } | ConvertTo-Xml\r\n```\r\n",
    "created_at": "2018-11-19T16:42:14Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8308#issuecomment-439959311",
    "id": 439959311,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8308",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTk1OTMxMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/439959311/reactions"
    },
    "updated_at": "2018-11-19T16:42:14Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/439959311",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/19415881?v=4",
      "events_url": "https://api.github.com/users/sdwheeler/events{/privacy}",
      "followers_url": "https://api.github.com/users/sdwheeler/followers",
      "following_url": "https://api.github.com/users/sdwheeler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sdwheeler/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/sdwheeler",
      "id": 19415881,
      "login": "sdwheeler",
      "node_id": "MDQ6VXNlcjE5NDE1ODgx",
      "organizations_url": "https://api.github.com/users/sdwheeler/orgs",
      "received_events_url": "https://api.github.com/users/sdwheeler/received_events",
      "repos_url": "https://api.github.com/users/sdwheeler/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/sdwheeler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sdwheeler/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/sdwheeler"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@sdwheeler: Yes, but do note that casting to `[psobject]` is a virtual no-op, because only the `[pscustombject]` cast provides the custom-object construction syntactic sugar:\r\n\r\n```powershell\r\nPS> ([psobject] @{ a = [psobject] @{ aa=11; bb=22 } }).GetType().Name\r\nHashtable # !! [psobject] was effectively ignored.\r\n```\r\n\r\nAs an aside: I say _virtual_ no-op, because you do get an extra `[psobject]` wrapper, though that is _mostly_ invisible - [except when it isn't](https://github.com/PowerShell/PowerShell/issues/5579).\r\n\r\n\r\nIn other words: your command is the same as the following, and therefore operates on a hashtable:\r\n\r\n```powershell\r\n@{ a = @{ aa=11; bb=22 } } | ConvertTo-Xml\r\n```\r\n\r\n",
    "created_at": "2018-11-19T16:51:45Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8308#issuecomment-439962683",
    "id": 439962683,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8308",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTk2MjY4Mw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/439962683/reactions"
    },
    "updated_at": "2018-11-19T16:51:45Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/439962683",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@mklement0 the \"other systems\" was purely hypothetical :)   In this day and age, it's probably safe to say it's very uncommon to use XML vs JSON.  Other than some demos, I've never had to use `ConvertTo-Xml` myself for any real world scenarios.",
    "created_at": "2018-11-19T18:25:01Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8308#issuecomment-439993258",
    "id": 439993258,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8308",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTk5MzI1OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/439993258/reactions"
    },
    "updated_at": "2018-11-19T18:25:01Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/439993258",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Looks like the serializer erroneously decreases the serialization `depth` when writing PSObject properties:\r\nhttps://github.com/PowerShell/PowerShell/blob/5d03e1653a7d518715fa3f00587cad6b5c78cc89/src/Microsoft.PowerShell.Commands.Utility/commands/utility/CustomSerialization.cs#L735\r\n\r\nThis results in nested properties whenever there's more than one.\r\n\r\n[Removing `--depth;`](https://github.com/IISResetMe/PowerShell/commit/56e07a011858c6dd8c8d7373e2fb7d0aadd662e1) seems to solve the problem completely ",
    "created_at": "2018-12-09T21:00:58Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8308#issuecomment-445571299",
    "id": 445571299,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8308",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NTU3MTI5OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/445571299/reactions"
    },
    "updated_at": "2018-12-09T21:22:26Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/445571299",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7413755?v=4",
      "events_url": "https://api.github.com/users/IISResetMe/events{/privacy}",
      "followers_url": "https://api.github.com/users/IISResetMe/followers",
      "following_url": "https://api.github.com/users/IISResetMe/following{/other_user}",
      "gists_url": "https://api.github.com/users/IISResetMe/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/IISResetMe",
      "id": 7413755,
      "login": "IISResetMe",
      "node_id": "MDQ6VXNlcjc0MTM3NTU=",
      "organizations_url": "https://api.github.com/users/IISResetMe/orgs",
      "received_events_url": "https://api.github.com/users/IISResetMe/received_events",
      "repos_url": "https://api.github.com/users/IISResetMe/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/IISResetMe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/IISResetMe/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/IISResetMe"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@IISResetMe perhaps you could submit a PR with tests :)",
    "created_at": "2018-12-10T19:00:30Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8308#issuecomment-445931334",
    "id": 445931334,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8308",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NTkzMTMzNA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/445931334/reactions"
    },
    "updated_at": "2018-12-10T19:00:30Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/445931334",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  }
]
