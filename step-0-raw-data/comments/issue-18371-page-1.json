[
  {
    "author_association": "NONE",
    "body": "What does say the `Get-History`?   `(h)[-1].Duration`",
    "created_at": "2022-10-25T08:48:00Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/18371#issuecomment-1290206632",
    "id": 1290206632,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/18371",
    "node_id": "IC_kwDOAvT7bc5M5v2o",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1290206632/reactions"
    },
    "updated_at": "2022-10-25T08:48:00Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1290206632",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/78153320?v=4",
      "events_url": "https://api.github.com/users/237dmitry/events{/privacy}",
      "followers_url": "https://api.github.com/users/237dmitry/followers",
      "following_url": "https://api.github.com/users/237dmitry/following{/other_user}",
      "gists_url": "https://api.github.com/users/237dmitry/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/237dmitry",
      "id": 78153320,
      "login": "237dmitry",
      "node_id": "MDQ6VXNlcjc4MTUzMzIw",
      "organizations_url": "https://api.github.com/users/237dmitry/orgs",
      "received_events_url": "https://api.github.com/users/237dmitry/received_events",
      "repos_url": "https://api.github.com/users/237dmitry/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/237dmitry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/237dmitry/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/237dmitry"
    }
  },
  {
    "author_association": "NONE",
    "body": "` Measure-Command {notepad.exe} `  Will start notepad, and return to the PowerShell prompt. The time reported is the time to return from launching notepad, - the command doesn't wait for notepad to terminate  \r\nto do that you need to use \r\n` Measure-Command {start -wait notepad.exe} `\r\n",
    "created_at": "2022-10-25T09:07:10Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/18371#issuecomment-1290230213",
    "id": 1290230213,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/18371",
    "node_id": "IC_kwDOAvT7bc5M51nF",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 4,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 4,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1290230213/reactions"
    },
    "updated_at": "2022-10-25T09:07:10Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1290230213",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/16209593?v=4",
      "events_url": "https://api.github.com/users/jhoneill/events{/privacy}",
      "followers_url": "https://api.github.com/users/jhoneill/followers",
      "following_url": "https://api.github.com/users/jhoneill/following{/other_user}",
      "gists_url": "https://api.github.com/users/jhoneill/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jhoneill",
      "id": 16209593,
      "login": "jhoneill",
      "node_id": "MDQ6VXNlcjE2MjA5NTkz",
      "organizations_url": "https://api.github.com/users/jhoneill/orgs",
      "received_events_url": "https://api.github.com/users/jhoneill/received_events",
      "repos_url": "https://api.github.com/users/jhoneill/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jhoneill/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jhoneill/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jhoneill"
    }
  },
  {
    "author_association": "NONE",
    "body": "Thank you @jhoneill, but this still doesn't appear to provide a comparable result\r\n\r\n* PS 7.2\r\n```\r\n> Measure-Command { start -wait .\\bin\\Release\\net6.0-windows\\winforms-nativeaot.exe }\r\n\r\nDays              : 0\r\nHours             : 0\r\nMinutes           : 0\r\nSeconds           : 1\r\nMilliseconds      : 62\r\nTicks             : 10621881\r\nTotalDays         : 1.229384375E-05\r\nTotalHours        : 0.00029505225\r\nTotalMinutes      : 0.017703135\r\nTotalSeconds      : 1.0621881\r\nTotalMilliseconds : 1062.1881\r\n```\r\n\r\n* PS 5.1\r\n```\r\n>  Measure-Command { start -wait .\\bin\\Release\\net6.0-windows\\winforms-nativeaot.exe }\r\n\r\n\r\nDays              : 0\r\nHours             : 0\r\nMinutes           : 0\r\nSeconds           : 1\r\nMilliseconds      : 25\r\nTicks             : 10252342\r\nTotalDays         : 1.18661365740741E-05\r\nTotalHours        : 0.000284787277777778\r\nTotalMinutes      : 0.0170872366666667\r\nTotalSeconds      : 1.0252342\r\nTotalMilliseconds : 1025.2342\r\n```\r\n\r\n* cmd\r\n```\r\n>cmd /v:on /c \"echo !TIME! & .\\bin\\Release\\net6.0-windows\\winforms-nativeaot.exe & echo !TIME!\"\r\n13:48:08.82\r\n13:48:09.03\r\n```\r\n\r\n* bash\r\n```\r\n$ time ./bin/Release/net6.0-windows/winforms-nativeaot.exe\r\n\r\nreal    0m0.241s\r\nuser    0m0.000s\r\nsys     0m0.000s\r\n```\r\n\r\nFor the these run the app's diagnostics reported between 129ms and 150ms.",
    "created_at": "2022-10-26T02:53:00Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/18371#issuecomment-1291427126",
    "id": 1291427126,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/18371",
    "node_id": "IC_kwDOAvT7bc5M-Z02",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1291427126/reactions"
    },
    "updated_at": "2022-10-26T02:53:00Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1291427126",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/4403806?v=4",
      "events_url": "https://api.github.com/users/RussKie/events{/privacy}",
      "followers_url": "https://api.github.com/users/RussKie/followers",
      "following_url": "https://api.github.com/users/RussKie/following{/other_user}",
      "gists_url": "https://api.github.com/users/RussKie/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/RussKie",
      "id": 4403806,
      "login": "RussKie",
      "node_id": "MDQ6VXNlcjQ0MDM4MDY=",
      "organizations_url": "https://api.github.com/users/RussKie/orgs",
      "received_events_url": "https://api.github.com/users/RussKie/received_events",
      "repos_url": "https://api.github.com/users/RussKie/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/RussKie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RussKie/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/RussKie"
    }
  },
  {
    "author_association": "NONE",
    "body": "> What does say the `Get-History`? `(h)[-1].Duration`\r\n\r\nThis doesn't appear to produce any result.\r\n```\r\nPS D:\\Development\\throwaway\\winforms-nativeaot> (Get-History)[0]\r\n\r\n  Id CommandLine\r\n  -- -----------\r\n   1  Measure-Command { .\\bin\\Release\\net7.0-windows\\win-x64\\winforms-nativeaot.exe }\r\n\r\n\r\nPS D:\\Development\\throwaway\\winforms-nativeaot> (Get-History)[0].Duration\r\nPS D:\\Development\\throwaway\\winforms-nativeaot>\r\n```",
    "created_at": "2022-10-26T02:55:01Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/18371#issuecomment-1291428265",
    "id": 1291428265,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/18371",
    "node_id": "IC_kwDOAvT7bc5M-aGp",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1291428265/reactions"
    },
    "updated_at": "2022-10-26T02:55:01Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1291428265",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/4403806?v=4",
      "events_url": "https://api.github.com/users/RussKie/events{/privacy}",
      "followers_url": "https://api.github.com/users/RussKie/followers",
      "following_url": "https://api.github.com/users/RussKie/following{/other_user}",
      "gists_url": "https://api.github.com/users/RussKie/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/RussKie",
      "id": 4403806,
      "login": "RussKie",
      "node_id": "MDQ6VXNlcjQ0MDM4MDY=",
      "organizations_url": "https://api.github.com/users/RussKie/orgs",
      "received_events_url": "https://api.github.com/users/RussKie/received_events",
      "repos_url": "https://api.github.com/users/RussKie/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/RussKie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RussKie/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/RussKie"
    }
  },
  {
    "author_association": "NONE",
    "body": "`(h)[-1].Duration`\r\n\r\nWorks alone   (h is an alias for get history)\r\n\r\nThe time in cmd will be the time to return to the prompt - again try it with notepad - you'll get a time before the app has closed.  It's likely there is some overhead starting the process and I suspect start process polls to see if the process ID is still running so it won't give super accurate times. \r\n\r\n```\r\n$p = new-object System.Diagnostics.Process\r\n# Start info has other properties which to get process exactly as desired.  \r\n$p.StartInfo.FileName = \"C:\\Windows\\System32\\notepad.exe\" \r\n$p.start()\r\n$p.WaitForExit()\r\n$p.ExitTime - $p.StartTime\r\n\r\n```\r\nShould be more accurate.   \r\n",
    "created_at": "2022-10-26T08:48:54Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/18371#issuecomment-1291707137",
    "id": 1291707137,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/18371",
    "node_id": "IC_kwDOAvT7bc5M_eMB",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1291707137/reactions"
    },
    "updated_at": "2022-10-26T08:48:54Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1291707137",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/16209593?v=4",
      "events_url": "https://api.github.com/users/jhoneill/events{/privacy}",
      "followers_url": "https://api.github.com/users/jhoneill/followers",
      "following_url": "https://api.github.com/users/jhoneill/following{/other_user}",
      "gists_url": "https://api.github.com/users/jhoneill/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jhoneill",
      "id": 16209593,
      "login": "jhoneill",
      "node_id": "MDQ6VXNlcjE2MjA5NTkz",
      "organizations_url": "https://api.github.com/users/jhoneill/orgs",
      "received_events_url": "https://api.github.com/users/jhoneill/received_events",
      "repos_url": "https://api.github.com/users/jhoneill/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jhoneill/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jhoneill/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jhoneill"
    }
  }
]
