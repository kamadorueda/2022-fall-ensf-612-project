[
  {
    "author_association": "MEMBER",
    "body": "Compared to Windows PowerShell 5.1 it seems that `Content-Length` is also missing",
    "created_at": "2017-08-03T15:58:16Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/4467#issuecomment-320012696",
    "id": 320012696,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4467",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDAxMjY5Ng==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/320012696/reactions"
    },
    "updated_at": "2017-08-03T15:58:16Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/320012696",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "Looks like this is `by design` of `HttpResponseMessage` (you'll have to open an issue with corefx if you want it changed).  You can still get them, but they are in a different part of the object:\r\n\r\n```powershell\r\nPS C:\\Users\\slee\\repos\\PowerShell> $o = Invoke-WebRequest http://bing.com\r\nPS C:\\Users\\slee\\repos\\PowerShell> $o.Headers\r\n\r\nKey                       Value\r\n---                       -----\r\nCache-Control             {max-age=0, private}\r\nDate                      {Thu, 03 Aug 2017 16:15:23 GMT}\r\nP3P                       {CP=\"NON UNI COM NAV STA LOC CURa DEVa PSAa PSDa OUR IND\"}\r\nSet-Cookie                {SRCHD=AF=NOFORM; domain=.bing.com; expires=Sat, 03-Aug-2019 16:15:24 GMT; path=/, SRCHUID...\r\nVary                      {Accept-Encoding}\r\nStrict-Transport-Security {max-age=10886400; includeSubDomains; preload}\r\nX-MSEdge-Ref              {Ref A: 54EF10511D70472CACD48B2E03FDB68F Ref B: WSTEDGE0518 Ref C: 2017-08-03T16:15:24Z}\r\n\r\n\r\nPS C:\\Users\\slee\\repos\\PowerShell> $o.BaseResponse.Content.Headers\r\n\r\nKey            Value\r\n---            -----\r\nContent-Length {127796}\r\nContent-Type   {text/html; charset=utf-8}\r\n\r\n\r\nPS C:\\Users\\slee\\repos\\PowerShell> $o.BaseResponse.Headers\r\n\r\nKey                       Value\r\n---                       -----\r\nCache-Control             {max-age=0, private}\r\nDate                      {Thu, 03 Aug 2017 16:15:23 GMT}\r\nP3P                       {CP=\"NON UNI COM NAV STA LOC CURa DEVa PSAa PSDa OUR IND\"}\r\nSet-Cookie                {SRCHD=AF=NOFORM; domain=.bing.com; expires=Sat, 03-Aug-2019 16:15:24 GMT; path=/, SRCHUID...\r\nVary                      {Accept-Encoding}\r\nStrict-Transport-Security {max-age=10886400; includeSubDomains; preload}\r\nX-MSEdge-Ref              {Ref A: 54EF10511D70472CACD48B2E03FDB68F Ref B: WSTEDGE0518 Ref C: 2017-08-03T16:15:24Z}\r\n```\r\n\r\nAs you can see, the `Headers` property of the output object just mirrors `.BaseResponse.Headers`",
    "created_at": "2017-08-03T16:16:30Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/4467#issuecomment-320017842",
    "id": 320017842,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4467",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDAxNzg0Mg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/320017842/reactions"
    },
    "updated_at": "2017-08-03T16:16:30Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/320017842",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "The new location on the objects is somewhat understandable, but, what about it being missing from `RawResponse` on `Microsoft.PowerShell.Commands.BasicHtmlWebResponseObject`? \r\n\r\n```powershell\r\n$Uri = 'http://httpbin.org/headers'\r\n$response = Invoke-WebRequest -Uri $Uri\r\n$response.RawContent\r\n````\r\n\r\n5.1: \r\n```none\r\nHTTP/1.1 200 OK\r\nConnection: keep-alive\r\nAccess-Control-Allow-Origin: *\r\nAccess-Control-Allow-Credentials: true\r\nX-Processed-Time: 0.000962972640991\r\nContent-Length: 181\r\nContent-Type: application/json\r\nDate: Thu, 03 Aug 2017 16:23:14 GMT\r\nServer: meinheld/0.6.1\r\nVia: 1.1 vegur\r\nX-Powered-By: Flask\r\n\r\n{\r\n  \"headers\": {\r\n    \"Connection\": \"close\", \r\n    \"Host\": \"httpbin.org\", \r\n    \"User-Agent\": \"Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.14393.1480\"\r\n  }\r\n}\r\n```\r\n\r\n6:\r\n```none\r\nHTTP/1.1 200 OK\r\nConnection: keep-alive\r\nDate: Thu, 03 Aug 2017 16:21:22 GMT\r\nVia: 1.1 vegur\r\nServer: meinheld/0.6.1\r\nAccess-Control-Allow-Origin: *\r\nAccess-Control-Allow-Credentials: true\r\nX-Powered-By: Flask\r\nX-Processed-Time: 0.000738143920898\r\n\r\n{\r\n  \"headers\": {\r\n    \"Accept-Encoding\": \"peerdist\",\r\n    \"Connection\": \"close\",\r\n    \"Host\": \"httpbin.org\",\r\n    \"User-Agent\": \"Mozilla/5.0 (Windows NT; Microsoft Windows 10.0.14393 ; en-US) WindowsPowerShell/6.0.0\",\r\n    \"X-P2P-Peerdist\": \"Version=1.1\",\r\n    \"X-P2P-Peerdistex\": \"MinContentInformation=1.0, MaxContentInformation=2.0\"\r\n  }\r\n}\r\n```\r\nOne would expect the `RawContent` to truly be a \"Raw Content\". Is this also related to the CoreFX change? Is it something that should be worked around in PowerShell 6? Or should the expectation change that `Contet-Type` and `Content-Length` will not be available in `RawContent`?\r\n",
    "created_at": "2017-08-03T16:28:42Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/4467#issuecomment-320021183",
    "id": 320021183,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4467",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDAyMTE4Mw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/320021183/reactions"
    },
    "updated_at": "2017-08-03T16:28:42Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/320021183",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6509955?v=4",
      "events_url": "https://api.github.com/users/markekraus/events{/privacy}",
      "followers_url": "https://api.github.com/users/markekraus/followers",
      "following_url": "https://api.github.com/users/markekraus/following{/other_user}",
      "gists_url": "https://api.github.com/users/markekraus/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/markekraus",
      "id": 6509955,
      "login": "markekraus",
      "node_id": "MDQ6VXNlcjY1MDk5NTU=",
      "organizations_url": "https://api.github.com/users/markekraus/orgs",
      "received_events_url": "https://api.github.com/users/markekraus/received_events",
      "repos_url": "https://api.github.com/users/markekraus/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/markekraus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markekraus/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/markekraus"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "The big difference between 6 and 5.1 is that 5.1 uses the WebResponse class while 6 uses the HttpResponseMessage class due to differences between CoreFx and .Net.  In the case of `RawContent`, it's just a \"manual\" serialization of HttpResponseMessage where those headers are not present.  If coreFx put it \"back\", they would just show up with this cmdlet.\r\n\r\nWe could add some specialized code to just add them, but it seems the correct change is in corefx.",
    "created_at": "2017-08-03T20:39:00Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/4467#issuecomment-320083514",
    "id": 320083514,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4467",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDA4MzUxNA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/320083514/reactions"
    },
    "updated_at": "2017-08-03T20:39:00Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/320083514",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "Digging around the CoreFX source for `System.Net.Http.HttpResponseMessage`, It appears the separation of the content headers is very much deliberate. The `ToString()` [override](https://github.com/karajas/corefx/blob/master/src/System.Net.Http/src/System/Net/Http/HttpResponseMessage.cs#L167) is calling `HeaderUtilities.DumpHeaders()` and passing both `_headers` and `_content`.  I don't think there is any chance of that being reversed.\r\n\r\nI'll do a PR for replicating that functionality in `ContentHelper`",
    "created_at": "2017-08-03T22:18:23Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/4467#issuecomment-320105232",
    "id": 320105232,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4467",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDEwNTIzMg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/320105232/reactions"
    },
    "updated_at": "2017-08-03T22:18:23Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/320105232",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6509955?v=4",
      "events_url": "https://api.github.com/users/markekraus/events{/privacy}",
      "followers_url": "https://api.github.com/users/markekraus/followers",
      "following_url": "https://api.github.com/users/markekraus/following{/other_user}",
      "gists_url": "https://api.github.com/users/markekraus/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/markekraus",
      "id": 6509955,
      "login": "markekraus",
      "node_id": "MDQ6VXNlcjY1MDk5NTU=",
      "organizations_url": "https://api.github.com/users/markekraus/orgs",
      "received_events_url": "https://api.github.com/users/markekraus/received_events",
      "repos_url": "https://api.github.com/users/markekraus/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/markekraus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markekraus/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/markekraus"
    }
  }
]
