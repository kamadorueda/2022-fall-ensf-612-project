[
  {
    "author_association": "NONE",
    "body": "Not sure if this a bug, or just strange behaviour. But I've applied 7.2.3 and the update extension for VSCode in the last couple of days and also been in discussions about policy and signing. \r\n\r\nIt appears that when starting the shell (_outside_ VSCode) , the .PSD1 for PSReadline is trusted _enough_ to try to load the format and PSM1 files, which are signed with the same cert but loading them wants some assurance the cert can be trusted. \r\n\r\nThe same applies to all the CIM cmdlets inherited from PS5 the PSD1 and CDXML files are signed with the same cert but  the CDXML files aren't trusted  for example if I run `Get-Printer`  (V5 CIM cmdlet) in V7.2.3 I get prompted to approve the CDXML files to load the module. But the autoloading mechanism has read the printmanagement module's PSD1 file which is signed with the same cert, and figured out that is the module which delivers Get-Printer, and the CDXML files to be loaded and never asked me to approve the module as a whole, just those component files. \r\n\r\nIt looks like some certs are trusted for some file types and not others. The behaviour is unexpected, but may be by design. If anyone can shed any light... \r\n\r\n\r\n \r\n\r\n",
    "created_at": "2022-05-05T12:40:38Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17267#issuecomment-1118499372",
    "id": 1118499372,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17267",
    "node_id": "IC_kwDOAvT7bc5CqvIs",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1118499372/reactions"
    },
    "updated_at": "2022-05-05T12:40:38Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1118499372",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/16209593?v=4",
      "events_url": "https://api.github.com/users/jhoneill/events{/privacy}",
      "followers_url": "https://api.github.com/users/jhoneill/followers",
      "following_url": "https://api.github.com/users/jhoneill/following{/other_user}",
      "gists_url": "https://api.github.com/users/jhoneill/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jhoneill",
      "id": 16209593,
      "login": "jhoneill",
      "node_id": "MDQ6VXNlcjE2MjA5NTkz",
      "organizations_url": "https://api.github.com/users/jhoneill/orgs",
      "received_events_url": "https://api.github.com/users/jhoneill/received_events",
      "repos_url": "https://api.github.com/users/jhoneill/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jhoneill/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jhoneill/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jhoneill"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "\r\n> It appears that when starting the shell (outside VSCode) , the .PSD1 for PSReadline is trusted enough to try to load the format and PSM1 files, which are signed with the same cert but loading them wants some assurance the cert can be trusted.\r\n\r\nThis is like due to a performance optimization: skip AMSI and suspicious code scan for the `.psd1` file that contains a **safe** `HashtableAst` only (done in #8341). See the code at https://github.com/PowerShell/PowerShell/blob/master/src/System.Management.Automation/engine/runtime/CompiledScriptBlock.cs#L206\r\n\r\nVSCode cannot present you the same prompt and thus throws the error instead. I think that's determined by how PSReadLine gets loaded by VSCode. @andschwa may be able to share more details on that part.",
    "created_at": "2022-05-05T17:17:11Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17267#issuecomment-1118851655",
    "id": 1118851655,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17267",
    "node_id": "IC_kwDOAvT7bc5CsFJH",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1118851655/reactions"
    },
    "updated_at": "2022-05-05T17:17:46Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1118851655",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/127450?v=4",
      "events_url": "https://api.github.com/users/daxian-dbw/events{/privacy}",
      "followers_url": "https://api.github.com/users/daxian-dbw/followers",
      "following_url": "https://api.github.com/users/daxian-dbw/following{/other_user}",
      "gists_url": "https://api.github.com/users/daxian-dbw/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/daxian-dbw",
      "id": 127450,
      "login": "daxian-dbw",
      "node_id": "MDQ6VXNlcjEyNzQ1MA==",
      "organizations_url": "https://api.github.com/users/daxian-dbw/orgs",
      "received_events_url": "https://api.github.com/users/daxian-dbw/received_events",
      "repos_url": "https://api.github.com/users/daxian-dbw/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/daxian-dbw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daxian-dbw/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/daxian-dbw"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "Given that the performance optimization is by design, I will mark this issue as `Resolved - By Design`.",
    "created_at": "2022-05-09T18:21:04Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17267#issuecomment-1121428440",
    "id": 1121428440,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17267",
    "node_id": "IC_kwDOAvT7bc5C16PY",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1121428440/reactions"
    },
    "updated_at": "2022-05-09T18:21:04Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1121428440",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/127450?v=4",
      "events_url": "https://api.github.com/users/daxian-dbw/events{/privacy}",
      "followers_url": "https://api.github.com/users/daxian-dbw/followers",
      "following_url": "https://api.github.com/users/daxian-dbw/following{/other_user}",
      "gists_url": "https://api.github.com/users/daxian-dbw/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/daxian-dbw",
      "id": 127450,
      "login": "daxian-dbw",
      "node_id": "MDQ6VXNlcjEyNzQ1MA==",
      "organizations_url": "https://api.github.com/users/daxian-dbw/orgs",
      "received_events_url": "https://api.github.com/users/daxian-dbw/received_events",
      "repos_url": "https://api.github.com/users/daxian-dbw/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/daxian-dbw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daxian-dbw/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/daxian-dbw"
    }
  },
  {
    "author_association": "NONE",
    "body": "@daxian-dbw  Yes, that's fine. I think there is an issue with some things (e.g. PSReadline) being delivered signed but not trusted, but I'll get my facts right first, and open a specific issue for that. \r\n",
    "created_at": "2022-05-09T19:20:13Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17267#issuecomment-1121482301",
    "id": 1121482301,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17267",
    "node_id": "IC_kwDOAvT7bc5C2HY9",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1121482301/reactions"
    },
    "updated_at": "2022-05-09T19:20:13Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1121482301",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/16209593?v=4",
      "events_url": "https://api.github.com/users/jhoneill/events{/privacy}",
      "followers_url": "https://api.github.com/users/jhoneill/followers",
      "following_url": "https://api.github.com/users/jhoneill/following{/other_user}",
      "gists_url": "https://api.github.com/users/jhoneill/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jhoneill",
      "id": 16209593,
      "login": "jhoneill",
      "node_id": "MDQ6VXNlcjE2MjA5NTkz",
      "organizations_url": "https://api.github.com/users/jhoneill/orgs",
      "received_events_url": "https://api.github.com/users/jhoneill/received_events",
      "repos_url": "https://api.github.com/users/jhoneill/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jhoneill/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jhoneill/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jhoneill"
    }
  },
  {
    "author_association": "NONE",
    "body": "This issue has been marked as by-design and has not had any activity for **1 day**. It has been closed for housekeeping purposes.",
    "created_at": "2022-05-10T21:00:41Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17267#issuecomment-1122855277",
    "id": 1122855277,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17267",
    "node_id": "IC_kwDOAvT7bc5C7Wlt",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1122855277/reactions"
    },
    "updated_at": "2022-05-10T21:00:41Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1122855277",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/in/26612?v=4",
      "events_url": "https://api.github.com/users/msftbot%5Bbot%5D/events{/privacy}",
      "followers_url": "https://api.github.com/users/msftbot%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/msftbot%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/msftbot%5Bbot%5D/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/apps/msftbot",
      "id": 48340428,
      "login": "msftbot[bot]",
      "node_id": "MDM6Qm90NDgzNDA0Mjg=",
      "organizations_url": "https://api.github.com/users/msftbot%5Bbot%5D/orgs",
      "received_events_url": "https://api.github.com/users/msftbot%5Bbot%5D/received_events",
      "repos_url": "https://api.github.com/users/msftbot%5Bbot%5D/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/msftbot%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/msftbot%5Bbot%5D/subscriptions",
      "type": "Bot",
      "url": "https://api.github.com/users/msftbot%5Bbot%5D"
    }
  }
]
