[
  {
    "author_association": "NONE",
    "body": "I've found that if I get a 404 from an Invoke-WebRequest inside a Try/Catch handler (which catches the error and provides no output, squelching it), I don't see anything on screen (which is as it should be), but I do see a \"TerminatingError(Invoke-WebRequest)\" and response content in the Transcript (which should not be)",
    "created_at": "2018-10-27T18:32:36Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/4645#issuecomment-433644577",
    "id": 433644577,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4645",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMzY0NDU3Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 2,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 2,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/433644577/reactions"
    },
    "updated_at": "2018-10-27T18:32:36Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/433644577",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/10211881?v=4",
      "events_url": "https://api.github.com/users/nowakca/events{/privacy}",
      "followers_url": "https://api.github.com/users/nowakca/followers",
      "following_url": "https://api.github.com/users/nowakca/following{/other_user}",
      "gists_url": "https://api.github.com/users/nowakca/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/nowakca",
      "id": 10211881,
      "login": "nowakca",
      "node_id": "MDQ6VXNlcjEwMjExODgx",
      "organizations_url": "https://api.github.com/users/nowakca/orgs",
      "received_events_url": "https://api.github.com/users/nowakca/received_events",
      "repos_url": "https://api.github.com/users/nowakca/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/nowakca/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nowakca/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/nowakca"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "OK this is a bit evil IMO.  Enabling transcription should not fundamentally change the behavior of the script.  I ran into this last Friday and took me a while to figure out this transcription bug was biting me.  Here's my simple repro on a Linux machine using GNU make.  There are two files (put in the same dir).  Here is my simplified `makefile`:\r\n```\r\n# make wants tabs insteads of spaces so when copying this, replace the four spaces before \r\n# the warning message with a single tab.\r\nfoo:\r\n    $(warning SOME WARNING TEXT)\r\n```\r\nAnd here is my `test.ps1` file - be sure to `chmod +x ./test.ps1` to make it executable:\r\n```\r\n#!/usr/bin/env pwsh\r\n\r\n$ErrorActionPreference = \"Stop\"\r\n$Transcribe = 0\r\n\r\nif ($Transcribe) { Start-Transcript test.log }\r\n\r\ntry {\r\n    make -f makefile foo\r\n    if ($LASTEXITCODE) { throw \"make failed with $LASTEXITCODE\" }\r\n\r\n    \"should get here - we do without transcription\"\r\n}\r\ncatch {\r\n    \"should not get here\"\r\n    throw $_\r\n}\r\nfinally {\r\n    if ($Transcribe) { Stop-Transcript }\r\n}\r\n```\r\nWith the above settings, I can execute this script and it works as I expect it to:\r\n```\r\nmakefile:4: SOME WARNING TEXT\r\nmake: 'foo' is up to date.\r\nshould get here - we do without transcription\r\n```\r\nNow set the `$Transcribe` variable to `1` and re-run the script.  Just enabling transcription causes the script to crash now (the error handling behavior has fundamentally changed):\r\n```\r\nTranscript started, output file is test.log\r\nmake: 'foo' is up to date.\r\nshould not get here\r\nTranscript stopped, output file is /home/hillr/pwsh-bug/test.log\r\n```\r\nBTW this issue does not crop up on Windows - adding to its \"evilness\".",
    "created_at": "2019-04-29T17:50:24Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/4645#issuecomment-487678331",
    "id": 487678331,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4645",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzY3ODMzMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 2,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 2,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/487678331/reactions"
    },
    "updated_at": "2019-04-29T18:01:40Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/487678331",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/5177512?v=4",
      "events_url": "https://api.github.com/users/rkeithhill/events{/privacy}",
      "followers_url": "https://api.github.com/users/rkeithhill/followers",
      "following_url": "https://api.github.com/users/rkeithhill/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkeithhill/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rkeithhill",
      "id": 5177512,
      "login": "rkeithhill",
      "node_id": "MDQ6VXNlcjUxNzc1MTI=",
      "organizations_url": "https://api.github.com/users/rkeithhill/orgs",
      "received_events_url": "https://api.github.com/users/rkeithhill/received_events",
      "repos_url": "https://api.github.com/users/rkeithhill/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rkeithhill/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkeithhill/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rkeithhill"
    }
  }
]
