[
  {
    "author_association": "MEMBER",
    "body": "Indeed, it is useful. It works too, at least some of the time, e.g. in your example.\n\nIt's a bit hacky/simple minded in how it works, so I'm certain there are scenarios where it doesn't work. Start with this [method](https://github.com/PowerShell/PowerShell/blob/master/src/System.Management.Automation/engine/parser/ast.cs#L284) and find it's implementations and references.\n",
    "created_at": "2016-10-31T17:15:35Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2567#issuecomment-257356963",
    "id": 257356963,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2567",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NzM1Njk2Mw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/257356963/reactions"
    },
    "updated_at": "2016-10-31T17:15:35Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/257356963",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/2148248?v=4",
      "events_url": "https://api.github.com/users/lzybkr/events{/privacy}",
      "followers_url": "https://api.github.com/users/lzybkr/followers",
      "following_url": "https://api.github.com/users/lzybkr/following{/other_user}",
      "gists_url": "https://api.github.com/users/lzybkr/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/lzybkr",
      "id": 2148248,
      "login": "lzybkr",
      "node_id": "MDQ6VXNlcjIxNDgyNDg=",
      "organizations_url": "https://api.github.com/users/lzybkr/orgs",
      "received_events_url": "https://api.github.com/users/lzybkr/received_events",
      "repos_url": "https://api.github.com/users/lzybkr/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/lzybkr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lzybkr/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/lzybkr"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@lzybkr It works when writing a script in the ISE, but not on the command line.\n\nAt the end of VariableExpressionAst::GetInferredType, the closest assignment is looked up.\nBut on the command line, we don't have that context.\n\nIs it to expensive to actually look at the Value of the variable and determine the type from it, or from the first element if it's a collection type? \n",
    "created_at": "2016-11-01T22:31:51Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2567#issuecomment-257718975",
    "id": 257718975,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2567",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NzcxODk3NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/257718975/reactions"
    },
    "updated_at": "2016-11-01T22:31:51Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/257718975",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/3505151?v=4",
      "events_url": "https://api.github.com/users/powercode/events{/privacy}",
      "followers_url": "https://api.github.com/users/powercode/followers",
      "following_url": "https://api.github.com/users/powercode/following{/other_user}",
      "gists_url": "https://api.github.com/users/powercode/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/powercode",
      "id": 3505151,
      "login": "powercode",
      "node_id": "MDQ6VXNlcjM1MDUxNTE=",
      "organizations_url": "https://api.github.com/users/powercode/orgs",
      "received_events_url": "https://api.github.com/users/powercode/received_events",
      "repos_url": "https://api.github.com/users/powercode/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/powercode/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/powercode/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/powercode"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "https://github.com/PowerShell/PowerShell/pull/2589\n",
    "created_at": "2016-11-02T15:24:16Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2567#issuecomment-257898455",
    "id": 257898455,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2567",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1Nzg5ODQ1NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/257898455/reactions"
    },
    "updated_at": "2016-11-02T15:24:16Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/257898455",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/3505151?v=4",
      "events_url": "https://api.github.com/users/powercode/events{/privacy}",
      "followers_url": "https://api.github.com/users/powercode/followers",
      "following_url": "https://api.github.com/users/powercode/following{/other_user}",
      "gists_url": "https://api.github.com/users/powercode/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/powercode",
      "id": 3505151,
      "login": "powercode",
      "node_id": "MDQ6VXNlcjM1MDUxNTE=",
      "organizations_url": "https://api.github.com/users/powercode/orgs",
      "received_events_url": "https://api.github.com/users/powercode/received_events",
      "repos_url": "https://api.github.com/users/powercode/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/powercode/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/powercode/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/powercode"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@powercode Thanks for your onging PR.\n",
    "created_at": "2016-11-12T00:04:42Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2567#issuecomment-260084018",
    "id": 260084018,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2567",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MDA4NDAxOA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/260084018/reactions"
    },
    "updated_at": "2016-11-12T00:04:42Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/260084018",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11988952?v=4",
      "events_url": "https://api.github.com/users/HemantMahawar/events{/privacy}",
      "followers_url": "https://api.github.com/users/HemantMahawar/followers",
      "following_url": "https://api.github.com/users/HemantMahawar/following{/other_user}",
      "gists_url": "https://api.github.com/users/HemantMahawar/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/HemantMahawar",
      "id": 11988952,
      "login": "HemantMahawar",
      "node_id": "MDQ6VXNlcjExOTg4OTUy",
      "organizations_url": "https://api.github.com/users/HemantMahawar/orgs",
      "received_events_url": "https://api.github.com/users/HemantMahawar/received_events",
      "repos_url": "https://api.github.com/users/HemantMahawar/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/HemantMahawar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/HemantMahawar/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/HemantMahawar"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@lzybkr https://github.com/powercode/PowerShell/commits/typeinference-visitor\nIs this roughly what you had in mind?\n",
    "created_at": "2016-11-17T01:27:59Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2567#issuecomment-261127381",
    "id": 261127381,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2567",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTEyNzM4MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/261127381/reactions"
    },
    "updated_at": "2016-11-17T01:27:59Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/261127381",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/3505151?v=4",
      "events_url": "https://api.github.com/users/powercode/events{/privacy}",
      "followers_url": "https://api.github.com/users/powercode/followers",
      "following_url": "https://api.github.com/users/powercode/following{/other_user}",
      "gists_url": "https://api.github.com/users/powercode/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/powercode",
      "id": 3505151,
      "login": "powercode",
      "node_id": "MDQ6VXNlcjM1MDUxNTE=",
      "organizations_url": "https://api.github.com/users/powercode/orgs",
      "received_events_url": "https://api.github.com/users/powercode/received_events",
      "repos_url": "https://api.github.com/users/powercode/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/powercode/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/powercode/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/powercode"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "I only took a very quick look, but it's definitely the direction I had in mind.\n",
    "created_at": "2016-11-17T02:45:25Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2567#issuecomment-261139414",
    "id": 261139414,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2567",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTEzOTQxNA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/261139414/reactions"
    },
    "updated_at": "2016-11-17T02:45:25Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/261139414",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/2148248?v=4",
      "events_url": "https://api.github.com/users/lzybkr/events{/privacy}",
      "followers_url": "https://api.github.com/users/lzybkr/followers",
      "following_url": "https://api.github.com/users/lzybkr/following{/other_user}",
      "gists_url": "https://api.github.com/users/lzybkr/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/lzybkr",
      "id": 2148248,
      "login": "lzybkr",
      "node_id": "MDQ6VXNlcjIxNDgyNDg=",
      "organizations_url": "https://api.github.com/users/lzybkr/orgs",
      "received_events_url": "https://api.github.com/users/lzybkr/received_events",
      "repos_url": "https://api.github.com/users/lzybkr/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/lzybkr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lzybkr/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/lzybkr"
    }
  },
  {
    "author_association": "NONE",
    "body": "Does tab expansion call some function that may have side effects, or does it simply reflect over the structure of the data?",
    "created_at": "2017-04-23T21:25:26Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2567#issuecomment-296489810",
    "id": 296489810,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2567",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NjQ4OTgxMA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/296489810/reactions"
    },
    "updated_at": "2017-04-23T21:25:26Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/296489810",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/3674056?v=4",
      "events_url": "https://api.github.com/users/masaeedu/events{/privacy}",
      "followers_url": "https://api.github.com/users/masaeedu/followers",
      "following_url": "https://api.github.com/users/masaeedu/following{/other_user}",
      "gists_url": "https://api.github.com/users/masaeedu/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/masaeedu",
      "id": 3674056,
      "login": "masaeedu",
      "node_id": "MDQ6VXNlcjM2NzQwNTY=",
      "organizations_url": "https://api.github.com/users/masaeedu/orgs",
      "received_events_url": "https://api.github.com/users/masaeedu/received_events",
      "repos_url": "https://api.github.com/users/masaeedu/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/masaeedu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/masaeedu/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/masaeedu"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@masaeedu It is a fairly complex process, that is highly context sensitive. The *-object commands has special treatment for example, and so has hashtables in certain circumstances. You can register you own completers with Register-ArgumentCompleter, and these may very well have side effects, even if that is discouraged.\r\n",
    "created_at": "2017-04-24T00:19:08Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2567#issuecomment-296499584",
    "id": 296499584,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2567",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NjQ5OTU4NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/296499584/reactions"
    },
    "updated_at": "2017-04-24T00:19:08Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/296499584",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/3505151?v=4",
      "events_url": "https://api.github.com/users/powercode/events{/privacy}",
      "followers_url": "https://api.github.com/users/powercode/followers",
      "following_url": "https://api.github.com/users/powercode/following{/other_user}",
      "gists_url": "https://api.github.com/users/powercode/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/powercode",
      "id": 3505151,
      "login": "powercode",
      "node_id": "MDQ6VXNlcjM1MDUxNTE=",
      "organizations_url": "https://api.github.com/users/powercode/orgs",
      "received_events_url": "https://api.github.com/users/powercode/received_events",
      "repos_url": "https://api.github.com/users/powercode/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/powercode/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/powercode/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/powercode"
    }
  }
]
