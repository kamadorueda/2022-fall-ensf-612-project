[
  {
    "author_association": "NONE",
    "body": "No one has any ideas?",
    "created_at": "2018-03-13T09:26:21Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/6168#issuecomment-372600257",
    "id": 372600257,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/6168",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MjYwMDI1Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/372600257/reactions"
    },
    "updated_at": "2018-03-13T09:26:21Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/372600257",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11554964?v=4",
      "events_url": "https://api.github.com/users/pkjaer/events{/privacy}",
      "followers_url": "https://api.github.com/users/pkjaer/followers",
      "following_url": "https://api.github.com/users/pkjaer/following{/other_user}",
      "gists_url": "https://api.github.com/users/pkjaer/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/pkjaer",
      "id": 11554964,
      "login": "pkjaer",
      "node_id": "MDQ6VXNlcjExNTU0OTY0",
      "organizations_url": "https://api.github.com/users/pkjaer/orgs",
      "received_events_url": "https://api.github.com/users/pkjaer/received_events",
      "repos_url": "https://api.github.com/users/pkjaer/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/pkjaer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pkjaer/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/pkjaer"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@markekraus Could you please look the Issue? \r\n@pkjaer Could you please create more simple repo so we can debug?",
    "created_at": "2018-03-13T10:35:44Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/6168#issuecomment-372620389",
    "id": 372620389,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/6168",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MjYyMDM4OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/372620389/reactions"
    },
    "updated_at": "2018-03-13T10:35:44Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/372620389",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@pkjaer Looking at the code one issue I potentially see is that the settings is using a PSCredential object imported from `Import-Clixml`. On Linux, you cannot serialize PSCredential objects to CLIXML because `SecureString` does not have Windows DPAPI to encrypt/decrypt the secrets with. The result is that null is likely being used for the user/password when WCF client sends the basic auth. ",
    "created_at": "2018-03-14T19:59:07Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/6168#issuecomment-373155054",
    "id": 373155054,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/6168",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MzE1NTA1NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/373155054/reactions"
    },
    "updated_at": "2018-03-14T19:59:07Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/373155054",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6509955?v=4",
      "events_url": "https://api.github.com/users/markekraus/events{/privacy}",
      "followers_url": "https://api.github.com/users/markekraus/followers",
      "following_url": "https://api.github.com/users/markekraus/following{/other_user}",
      "gists_url": "https://api.github.com/users/markekraus/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/markekraus",
      "id": 6509955,
      "login": "markekraus",
      "node_id": "MDQ6VXNlcjY1MDk5NTU=",
      "organizations_url": "https://api.github.com/users/markekraus/orgs",
      "received_events_url": "https://api.github.com/users/markekraus/received_events",
      "repos_url": "https://api.github.com/users/markekraus/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/markekraus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markekraus/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/markekraus"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "> On Linux, you cannot serialize PSCredential objects to CLIXML because SecureString does not have Windows DPAPI to encrypt/decrypt the secrets with.\r\n\r\nBased on the Issue should we throw (PlatformNotSupportedException) in this situation?",
    "created_at": "2018-03-15T05:44:08Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/6168#issuecomment-373267471",
    "id": 373267471,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/6168",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MzI2NzQ3MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/373267471/reactions"
    },
    "updated_at": "2018-03-15T05:44:08Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/373267471",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "NONE",
    "body": "@markekraus That's great info! Is there an alternative that will allow me to store the credentials between sessions, on all supported platforms?\r\n\r\nI will double-check, but I believe I was testing it with credentials specified directly in the parameters to the function (not loading it from a file). So I don't think that is the root issue, in this case.",
    "created_at": "2018-03-15T09:26:58Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/6168#issuecomment-373312917",
    "id": 373312917,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/6168",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MzMxMjkxNw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/373312917/reactions"
    },
    "updated_at": "2018-03-15T09:26:58Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/373312917",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11554964?v=4",
      "events_url": "https://api.github.com/users/pkjaer/events{/privacy}",
      "followers_url": "https://api.github.com/users/pkjaer/followers",
      "following_url": "https://api.github.com/users/pkjaer/following{/other_user}",
      "gists_url": "https://api.github.com/users/pkjaer/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/pkjaer",
      "id": 11554964,
      "login": "pkjaer",
      "node_id": "MDQ6VXNlcjExNTU0OTY0",
      "organizations_url": "https://api.github.com/users/pkjaer/orgs",
      "received_events_url": "https://api.github.com/users/pkjaer/received_events",
      "repos_url": "https://api.github.com/users/pkjaer/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/pkjaer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pkjaer/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/pkjaer"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "> Is there an alternative that will allow me to store the credentials between sessions, on all supported platforms?\r\n\r\nCurrently, no. There is a \"community\" project in its infancy to create a cross-platform and cross-version password storage and retrieval solution that allow you to bring your own secure storage (such as KeePass, DPAPI, encrypted sqlite, etc) through a PSProvider drive. But it's still in the conceptualization phase and is mostly the brainchild of @Jaykul. \r\n\r\nYou can still use some form of encrypted store, but you will have a \"chicken and egg\" scenario where you have to store the secret to unlock the encrypted secret in plain text.\r\n\r\nOn Linux, the common practice for secrets is to store them in plain text in a file or as an environment variable. (Assuming the system is not shared and you are the owner). You could allow for password override based on the presence of an environment variable in your settings restore functions. You can still convert a plain-text string to  SecureString in Linux to attach to the PSCredential object. On windows you could still store the password in CLIXML file and on Linux you could store the password in an environment variable and the module logic would determine which to use.",
    "created_at": "2018-03-15T11:14:43Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/6168#issuecomment-373341848",
    "id": 373341848,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/6168",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MzM0MTg0OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/373341848/reactions"
    },
    "updated_at": "2018-03-15T11:14:43Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/373341848",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6509955?v=4",
      "events_url": "https://api.github.com/users/markekraus/events{/privacy}",
      "followers_url": "https://api.github.com/users/markekraus/followers",
      "following_url": "https://api.github.com/users/markekraus/following{/other_user}",
      "gists_url": "https://api.github.com/users/markekraus/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/markekraus",
      "id": 6509955,
      "login": "markekraus",
      "node_id": "MDQ6VXNlcjY1MDk5NTU=",
      "organizations_url": "https://api.github.com/users/markekraus/orgs",
      "received_events_url": "https://api.github.com/users/markekraus/received_events",
      "repos_url": "https://api.github.com/users/markekraus/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/markekraus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markekraus/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/markekraus"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@iSazonov I think in this case the errors were being suppressed because it should have been noticeable. If you try to import a CLIXML that has a SceureString in it (which you would need to have copied from another computer or something), you get `Unable to load DLL 'CRYPT32.dll': The specified module or one of its dependencies could not be found.` on Linux/macOS/not-windows. You get the same when you try to export a `SecureString`.\r\n\r\nI think there is an open issue on improving that message already.",
    "created_at": "2018-03-15T11:21:24Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/6168#issuecomment-373343440",
    "id": 373343440,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/6168",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MzM0MzQ0MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/373343440/reactions"
    },
    "updated_at": "2018-03-15T11:21:24Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/373343440",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6509955?v=4",
      "events_url": "https://api.github.com/users/markekraus/events{/privacy}",
      "followers_url": "https://api.github.com/users/markekraus/followers",
      "following_url": "https://api.github.com/users/markekraus/following{/other_user}",
      "gists_url": "https://api.github.com/users/markekraus/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/markekraus",
      "id": 6509955,
      "login": "markekraus",
      "node_id": "MDQ6VXNlcjY1MDk5NTU=",
      "organizations_url": "https://api.github.com/users/markekraus/orgs",
      "received_events_url": "https://api.github.com/users/markekraus/received_events",
      "repos_url": "https://api.github.com/users/markekraus/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/markekraus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markekraus/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/markekraus"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@markekraus Thanks for remainder - the Issue https://github.com/PowerShell/PowerShell/issues/1654",
    "created_at": "2018-03-15T11:35:54Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/6168#issuecomment-373346876",
    "id": 373346876,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/6168",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MzM0Njg3Ng==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/373346876/reactions"
    },
    "updated_at": "2018-03-15T11:35:54Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/373346876",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  }
]
