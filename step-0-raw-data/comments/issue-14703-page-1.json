[
  {
    "author_association": "NONE",
    "body": "Which culture is that, anyway?\n\nPossible fixes, starting from the most feasible:\n\n* Change the expression to use the [ISOWeek](https://docs.microsoft.com/dotnet/api/system.globalization.isoweek?view=net-5.0) class. The expression would then not work in Windows PowerShell.\n* Change .NET Runtime to use the ISO week numbering for that culture, perhaps by defining a new subclass of Calendar that overrides GetWeekOfYear. This would make some sense if people living in that culture use ISO week numbers in speech and in printed calendars. [CLDR Week Data](http://www.unicode.org/reports/tr35/tr35-dates.html#Week_Data) may be relevant.\n* Change PowerShell to detect that your expression tries to call Calendar.GetWeekOfYear, and sneakily call ISOWeek.GetWeekOfYear instead. Would surprise users.\n* Change Calendar.GetWeekOfYear in .NET Runtime to use ISO week numbers if CalendarWeekRule.FirstFourDayWeek is specified with DayOfWeek.Monday. Was previously rejected because of the risk that it would break applications.",
    "created_at": "2021-02-04T06:07:27Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14703#issuecomment-773056422",
    "id": 773056422,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14703",
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MzA1NjQyMg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/773056422/reactions"
    },
    "updated_at": "2021-02-04T06:17:10Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/773056422",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/46201428?v=4",
      "events_url": "https://api.github.com/users/KalleOlaviNiemitalo/events{/privacy}",
      "followers_url": "https://api.github.com/users/KalleOlaviNiemitalo/followers",
      "following_url": "https://api.github.com/users/KalleOlaviNiemitalo/following{/other_user}",
      "gists_url": "https://api.github.com/users/KalleOlaviNiemitalo/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/KalleOlaviNiemitalo",
      "id": 46201428,
      "login": "KalleOlaviNiemitalo",
      "node_id": "MDQ6VXNlcjQ2MjAxNDI4",
      "organizations_url": "https://api.github.com/users/KalleOlaviNiemitalo/orgs",
      "received_events_url": "https://api.github.com/users/KalleOlaviNiemitalo/received_events",
      "repos_url": "https://api.github.com/users/KalleOlaviNiemitalo/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/KalleOlaviNiemitalo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/KalleOlaviNiemitalo/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/KalleOlaviNiemitalo"
    }
  },
  {
    "author_association": "NONE",
    "body": "It is Dutch Culture.\r\nI solved it by skipping Sunday (because it is [int]0) and add/substract the other days to Thursday:\r\n\r\n`\r\nfunction Get-WeekNumber([datetime]$DT = (Get-Date)) {\r\n\t(Get-Culture).Calendar.GetWeekOfYear((Get-Date($DT)).AddDays(\r\n\t\\[int]((\\[int](Get-Date($DT)).DayOfWeek) -gt 0)*(4 - (\\[int](Get-Date($DT)).DayOfWeek) )\r\n\t), ((Get-Culture).DateTimeFormat.CalendarWeekRule), ((Get-Culture).DateTimeFormat.FirstDayOfWeek))\r\n}\r\n\r\nGet-WeekNumber('2013-01-01')\r\nGet-WeekNumber('2012-12-31')\r\nGet-WeekNumber('2012-12-30')\r\nGet-WeekNumber('2012-12-29')\r\n`\r\nThis works as a bugfix.",
    "created_at": "2021-02-04T07:17:42Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14703#issuecomment-773090269",
    "id": 773090269,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14703",
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MzA5MDI2OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/773090269/reactions"
    },
    "updated_at": "2021-02-04T07:20:50Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/773090269",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/31315993?v=4",
      "events_url": "https://api.github.com/users/B-Art/events{/privacy}",
      "followers_url": "https://api.github.com/users/B-Art/followers",
      "following_url": "https://api.github.com/users/B-Art/following{/other_user}",
      "gists_url": "https://api.github.com/users/B-Art/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/B-Art",
      "id": 31315993,
      "login": "B-Art",
      "node_id": "MDQ6VXNlcjMxMzE1OTkz",
      "organizations_url": "https://api.github.com/users/B-Art/orgs",
      "received_events_url": "https://api.github.com/users/B-Art/received_events",
      "repos_url": "https://api.github.com/users/B-Art/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/B-Art/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/B-Art/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/B-Art"
    }
  },
  {
    "author_association": "NONE",
    "body": "UICulture has a different bug than Culture:\r\n\r\n`\r\n(28..31).foreach({(Get-UICulture).Calendar.GetWeekOfYear(\"2012-12-$($_)\", ((Get-UICulture).DateTimeFormat.CalendarWeekRule), ((Get-UICulture).DateTimeFormat.FirstDayOfWeek))})\r\n`\r\n52\r\n52\r\n53\r\n53\r\n\r\n`\r\n(28..31).foreach({(Get-Culture).Calendar.GetWeekOfYear(\"2012-12-$($_)\", ((Get-Culture).DateTimeFormat.CalendarWeekRule), ((Get-Culture).DateTimeFormat.FirstDayOfWeek))})\r\n`\r\n52\r\n52\r\n52\r\n53\r\n\r\nThe correct answer would be:\r\n52\r\n52\r\n52\r\n1\r\n",
    "created_at": "2021-02-04T07:39:07Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14703#issuecomment-773100964",
    "id": 773100964,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14703",
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MzEwMDk2NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/773100964/reactions"
    },
    "updated_at": "2021-02-04T07:41:26Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/773100964",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/31315993?v=4",
      "events_url": "https://api.github.com/users/B-Art/events{/privacy}",
      "followers_url": "https://api.github.com/users/B-Art/followers",
      "following_url": "https://api.github.com/users/B-Art/following{/other_user}",
      "gists_url": "https://api.github.com/users/B-Art/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/B-Art",
      "id": 31315993,
      "login": "B-Art",
      "node_id": "MDQ6VXNlcjMxMzE1OTkz",
      "organizations_url": "https://api.github.com/users/B-Art/orgs",
      "received_events_url": "https://api.github.com/users/B-Art/received_events",
      "repos_url": "https://api.github.com/users/B-Art/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/B-Art/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/B-Art/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/B-Art"
    }
  },
  {
    "author_association": "NONE",
    "body": "What is the UICulture, then?  If it is U.S. English, then perhaps it is correct to use non-ISO week numbers there.",
    "created_at": "2021-02-04T08:00:01Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14703#issuecomment-773111393",
    "id": 773111393,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14703",
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MzExMTM5Mw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 1,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/773111393/reactions"
    },
    "updated_at": "2021-02-04T08:01:14Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/773111393",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/46201428?v=4",
      "events_url": "https://api.github.com/users/KalleOlaviNiemitalo/events{/privacy}",
      "followers_url": "https://api.github.com/users/KalleOlaviNiemitalo/followers",
      "following_url": "https://api.github.com/users/KalleOlaviNiemitalo/following{/other_user}",
      "gists_url": "https://api.github.com/users/KalleOlaviNiemitalo/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/KalleOlaviNiemitalo",
      "id": 46201428,
      "login": "KalleOlaviNiemitalo",
      "node_id": "MDQ6VXNlcjQ2MjAxNDI4",
      "organizations_url": "https://api.github.com/users/KalleOlaviNiemitalo/orgs",
      "received_events_url": "https://api.github.com/users/KalleOlaviNiemitalo/received_events",
      "repos_url": "https://api.github.com/users/KalleOlaviNiemitalo/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/KalleOlaviNiemitalo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/KalleOlaviNiemitalo/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/KalleOlaviNiemitalo"
    }
  },
  {
    "author_association": "NONE",
    "body": "`\r\n(Get-UICulture).DateTimeFormat\r\n`\r\nAMDesignator                     : AM\r\nCalendar                         : System.Globalization.GregorianCalendar\r\nDateSeparator                    : /\r\nFirstDayOfWeek                   : Sunday\r\nCalendarWeekRule                 : FirstDay\r\nFullDateTimePattern              : dddd, MMMM d, yyyy h:mm:ss tt\r\nLongDatePattern                  : dddd, MMMM d, yyyy\r\nLongTimePattern                  : h:mm:ss tt\r\nMonthDayPattern                  : MMMM d\r\nPMDesignator                     : PM\r\nRFC1123Pattern                   : ddd, dd MMM yyyy HH':'mm':'ss 'GMT'\r\nShortDatePattern                 : M/d/yyyy\r\nShortTimePattern                 : h:mm tt\r\nSortableDateTimePattern          : yyyy'-'MM'-'dd'T'HH':'mm':'ss\r\nTimeSeparator                    : :\r\nUniversalSortableDateTimePattern : yyyy'-'MM'-'dd HH':'mm':'ss'Z'\r\nYearMonthPattern                 : MMMM yyyy\r\nAbbreviatedDayNames              : {Sun, Mon, Tue, Wed…}\r\nShortestDayNames                 : {S, M, T, W…}\r\nDayNames                         : {Sunday, Monday, Tuesday, Wednesday…}\r\nAbbreviatedMonthNames            : {Jan, Feb, Mar, Apr…}\r\nMonthNames                       : {January, February, March, April…}\r\nIsReadOnly                       : True\r\nNativeCalendarName               : Gregorian Calendar\r\nAbbreviatedMonthGenitiveNames    : {Jan, Feb, Mar, Apr…}\r\nMonthGenitiveNames               : {January, February, March, April…}\r\n\r\nFailed:\r\n`\r\n(22..31).foreach({(Get-UICulture).Calendar.GetWeekOfYear(\"2012-12-$($_)\", ((Get-UICulture).DateTimeFormat.CalendarWeekRule), ((Get-UICulture).DateTimeFormat.FirstDayOfWeek))})\r\n`\r\n51\r\n52\r\n52\r\n52\r\n52\r\n52\r\n52\r\n52\r\n53\r\n53\r\n\r\nFrom the first of the folowing year:\r\n\r\n`\r\n(1..7).foreach({(Get-UICulture).Calendar.GetWeekOfYear(\"2013-1-$($_)\", ((Get-UICulture).DateTimeFormat.CalendarWeekRule), ((Get-UICulture).DateTimeFormat.FirstDayOfWeek))})\r\n`\r\n1\r\n1\r\n1\r\n1\r\n1\r\n2\r\n2",
    "created_at": "2021-02-04T15:33:56Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14703#issuecomment-773397319",
    "id": 773397319,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14703",
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MzM5NzMxOQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/773397319/reactions"
    },
    "updated_at": "2021-02-04T15:33:56Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/773397319",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/31315993?v=4",
      "events_url": "https://api.github.com/users/B-Art/events{/privacy}",
      "followers_url": "https://api.github.com/users/B-Art/followers",
      "following_url": "https://api.github.com/users/B-Art/following{/other_user}",
      "gists_url": "https://api.github.com/users/B-Art/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/B-Art",
      "id": 31315993,
      "login": "B-Art",
      "node_id": "MDQ6VXNlcjMxMzE1OTkz",
      "organizations_url": "https://api.github.com/users/B-Art/orgs",
      "received_events_url": "https://api.github.com/users/B-Art/received_events",
      "repos_url": "https://api.github.com/users/B-Art/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/B-Art/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/B-Art/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/B-Art"
    }
  },
  {
    "author_association": "NONE",
    "body": "`\r\n(Get-Culture).DateTimeFormat\r\n`\r\nAMDesignator                     :\r\nCalendar                         : System.Globalization.GregorianCalendar\r\nDateSeparator                    : -\r\nFirstDayOfWeek                   : Monday\r\nCalendarWeekRule                 : FirstFourDayWeek\r\nFullDateTimePattern              : dddd d MMMM yyyy HH:mm:ss\r\nLongDatePattern                  : dddd d MMMM yyyy\r\nLongTimePattern                  : HH:mm:ss\r\nMonthDayPattern                  : d MMMM\r\nPMDesignator                     :\r\nRFC1123Pattern                   : ddd, dd MMM yyyy HH':'mm':'ss 'GMT'\r\nShortDatePattern                 : yyyy-MM-dd\r\nShortTimePattern                 : HH:mm\r\nSortableDateTimePattern          : yyyy'-'MM'-'dd'T'HH':'mm':'ss\r\nTimeSeparator                    : :\r\nUniversalSortableDateTimePattern : yyyy'-'MM'-'dd HH':'mm':'ss'Z'\r\nYearMonthPattern                 : MMMM yyyy\r\nAbbreviatedDayNames              : {zo, ma, di, wo…}\r\nShortestDayNames                 : {Z, M, D, W…}\r\nDayNames                         : {zondag, maandag, dinsdag, woensdag…}\r\nAbbreviatedMonthNames            : {jan., feb., mrt., apr.…}\r\nMonthNames                       : {januari, februari, maart, april…}\r\nIsReadOnly                       : True\r\nNativeCalendarName               : Gregoriaanse kalender\r\nAbbreviatedMonthGenitiveNames    : {jan., feb., mrt., apr.…}\r\nMonthGenitiveNames               : {januari, februari, maart, april…}\r\n`\r\n(22..31).foreach({(Get-Culture).Calendar.GetWeekOfYear(\"2012-12-$($_)\", ((Get-Culture).DateTimeFormat.CalendarWeekRule), ((Get-Culture).DateTimeFormat.FirstDayOfWeek))})\r\n`\r\n51\r\n51\r\n52\r\n52\r\n52\r\n52\r\n52\r\n52\r\n52\r\n53\r\n\r\n`\r\n(1..7).foreach({(Get-Culture).Calendar.GetWeekOfYear(\"2013-1-$($_)\", ((Get-Culture).DateTimeFormat.CalendarWeekRule), ((Get-Culture).DateTimeFormat.FirstDayOfWeek))})\r\n`\r\n1\r\n1\r\n1\r\n1\r\n1\r\n1\r\n2\r\n",
    "created_at": "2021-02-04T15:37:36Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14703#issuecomment-773399955",
    "id": 773399955,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14703",
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MzM5OTk1NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/773399955/reactions"
    },
    "updated_at": "2021-02-04T15:37:36Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/773399955",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/31315993?v=4",
      "events_url": "https://api.github.com/users/B-Art/events{/privacy}",
      "followers_url": "https://api.github.com/users/B-Art/followers",
      "following_url": "https://api.github.com/users/B-Art/following{/other_user}",
      "gists_url": "https://api.github.com/users/B-Art/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/B-Art",
      "id": 31315993,
      "login": "B-Art",
      "node_id": "MDQ6VXNlcjMxMzE1OTkz",
      "organizations_url": "https://api.github.com/users/B-Art/orgs",
      "received_events_url": "https://api.github.com/users/B-Art/received_events",
      "repos_url": "https://api.github.com/users/B-Art/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/B-Art/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/B-Art/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/B-Art"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@B-Art You are calling a .NET API [`Calendar.GetWeekOfYear(DateTime, CalendarWeekRule, DayOfWeek)`](https://docs.microsoft.com/en-us/dotnet/api/system.globalization.calendar.getweekofyear?view=net-5.0). If you have question about the behavior of that API, please open an issue in https://github.com/dotnet/runtime or post a question in their [Discussions](https://github.com/dotnet/runtime/discussions).\n\n<blockquote><img src=\"https://avatars.githubusercontent.com/u/9141961?s=400&v=4\" width=\"48\" align=\"right\"><div><img src=\"https://github.githubassets.com/favicons/favicon.svg\" height=\"14\"> GitHub</div><div><strong><a href=\"https://github.com/dotnet/runtime\">dotnet/runtime</a></strong></div><div>.NET is a cross-platform runtime for cloud, mobile, desktop, and IoT apps. - dotnet/runtime</div></blockquote>",
    "created_at": "2021-02-04T17:21:59Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14703#issuecomment-773473998",
    "id": 773473998,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14703",
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MzQ3Mzk5OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/773473998/reactions"
    },
    "updated_at": "2021-02-04T17:22:02Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/773473998",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/127450?v=4",
      "events_url": "https://api.github.com/users/daxian-dbw/events{/privacy}",
      "followers_url": "https://api.github.com/users/daxian-dbw/followers",
      "following_url": "https://api.github.com/users/daxian-dbw/following{/other_user}",
      "gists_url": "https://api.github.com/users/daxian-dbw/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/daxian-dbw",
      "id": 127450,
      "login": "daxian-dbw",
      "node_id": "MDQ6VXNlcjEyNzQ1MA==",
      "organizations_url": "https://api.github.com/users/daxian-dbw/orgs",
      "received_events_url": "https://api.github.com/users/daxian-dbw/received_events",
      "repos_url": "https://api.github.com/users/daxian-dbw/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/daxian-dbw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daxian-dbw/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/daxian-dbw"
    }
  }
]
