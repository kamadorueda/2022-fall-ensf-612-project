[
  {
    "author_association": "CONTRIBUTOR",
    "body": "PowerShell generally won't let you store `$null` in a `[string]`-typed parameter/variable (unlike in C#).\r\n\r\nAn unbound `[string]` parameter defaults to the _empty string_ (`''`).   \r\nSimilarly, on assigning `$null` to a `[string]`-typed variable, the empty string is stored instead.\r\n\r\n`[string]` appears to be special in this regard, because other reference types (as opposed to value types) do default to a genuine `$null`.\r\n\r\nYou can work around the problem by not specifying a type (or using `[psobject]` instead).\r\nIf you want to enforce that if a value is passed that it be of type `[string]` use a  `[ValidateScript()]` parameter attribute as follows:\r\n\r\n```powershell\r\n[ValidateScript({ $_ -is [string] }, ErrorMessage='A -Stuart value must be a string.')]\r\n$Stuart = $null\r\n```\r\nNote that you need PS _Core_ for the `ErrorMessage` attribute to be honored (Windows PowerShell as of v5.1 will ignore it).\r\n",
    "created_at": "2017-07-10T16:06:35Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/4206#issuecomment-314153536",
    "id": 314153536,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4206",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDE1MzUzNg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/314153536/reactions"
    },
    "updated_at": "2017-07-10T16:06:35Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/314153536",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "NONE",
    "body": "Thanks for the quick feedback and I appreciate the clarification. I'm doing a lot of coding on Powershell these days and am trying to be a \"Powershell purest\" which of course is easier when your competent in a language but as most Powershell code out there is scripting code as opposed to programming, it is often difficult to find good role models to follow.\r\n\r\nSince I'd like to know whe a variable was set or not as well as knowing the value set, I tend to like having $null as an option. Since this seems to not be the case, is there something like a [string?] where I can do something like :\r\n\r\n  Param (\r\n    [string?] $bob\r\n  )\r\n\r\n  if($bob.HasValue) {\r\n    Write-Verbose -Message ($bob.Value + ' rocks the minion world')\r\n  }\r\n\r\nThen when passing a [string?] to another function with a [string?] function, the value and presence would carry?",
    "created_at": "2017-07-10T18:29:33Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/4206#issuecomment-314194048",
    "id": 314194048,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4206",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDE5NDA0OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/314194048/reactions"
    },
    "updated_at": "2017-07-10T18:29:33Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/314194048",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/10528622?v=4",
      "events_url": "https://api.github.com/users/darrenstarr/events{/privacy}",
      "followers_url": "https://api.github.com/users/darrenstarr/followers",
      "following_url": "https://api.github.com/users/darrenstarr/following{/other_user}",
      "gists_url": "https://api.github.com/users/darrenstarr/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/darrenstarr",
      "id": 10528622,
      "login": "darrenstarr",
      "node_id": "MDQ6VXNlcjEwNTI4NjIy",
      "organizations_url": "https://api.github.com/users/darrenstarr/orgs",
      "received_events_url": "https://api.github.com/users/darrenstarr/received_events",
      "repos_url": "https://api.github.com/users/darrenstarr/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/darrenstarr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/darrenstarr/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/darrenstarr"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "You can use the automatic `$PSBoundParameters` variable to check whether a value was explicitly passed for a given parameter:\r\n\r\n```powershell\r\n> & { param($bob) $PSBoundParameters.ContainsKey('bob') }\r\nFalse\r\n\r\n> & { param($bob) $PSBoundParameters.ContainsKey('bob') } 1\r\nTrue\r\n```\r\n\r\nHowever, typing your parameter `[string]` is not an option, because its implicit default value will be `''`, not `$null`, as discussed.\r\n\r\nYou can use _splatting_ (passing parameters via a hashtable/array variable prefixed with `@`) to pass the bound parameters on to another function (note, however, that `$PSBoundParameters` only contains _explicitly_ bound values, not those stemming from _default values_ - see #3285).\r\n\r\n```powershell\r\n# Pass all explicitly bound parameters through to Foo2 using splatting\r\nFunction Foo { param($bob, $alice) Foo2 @PSBoundParameters }\r\nFunction Foo2 { param($bob, $alice) $PSBoundParameters }\r\n```\r\n\r\nWith the above, you get:\r\n\r\n```powershell\r\n> Foo -alice 1\r\n\r\nKey   Value\r\n---   -----\r\nalice     1\r\n```\r\n\r\nNote how `$bob` was not bound in `Foo2` either.\r\n\r\n",
    "created_at": "2017-07-10T18:53:48Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/4206#issuecomment-314200789",
    "id": 314200789,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4206",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDIwMDc4OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/314200789/reactions"
    },
    "updated_at": "2017-07-10T18:54:22Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/314200789",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "NONE",
    "body": "I see... food for thought. Again, thanks a lot for the follow up. \r\n\r\nI've moved to using [string]::IsNullOrEmpty($bob) as opposed to ($null -eq $bob). I've managed to write a composite resource which I think should work for me. I'm still 100% dependent on integration tests as I haven't figured out how to mock class module functions yet. So, I think it should be ok for now.",
    "created_at": "2017-07-10T21:41:30Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/4206#issuecomment-314257879",
    "id": 314257879,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/4206",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDI1Nzg3OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/314257879/reactions"
    },
    "updated_at": "2017-07-10T21:41:30Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/314257879",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/10528622?v=4",
      "events_url": "https://api.github.com/users/darrenstarr/events{/privacy}",
      "followers_url": "https://api.github.com/users/darrenstarr/followers",
      "following_url": "https://api.github.com/users/darrenstarr/following{/other_user}",
      "gists_url": "https://api.github.com/users/darrenstarr/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/darrenstarr",
      "id": 10528622,
      "login": "darrenstarr",
      "node_id": "MDQ6VXNlcjEwNTI4NjIy",
      "organizations_url": "https://api.github.com/users/darrenstarr/orgs",
      "received_events_url": "https://api.github.com/users/darrenstarr/received_events",
      "repos_url": "https://api.github.com/users/darrenstarr/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/darrenstarr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/darrenstarr/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/darrenstarr"
    }
  }
]
