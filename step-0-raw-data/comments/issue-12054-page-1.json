[
  {
    "author_association": "NONE",
    "body": "I have also run into this today for module 'JeaDSC' version 0.6.5 which has embedded dsc class resources, this behavior is still present in 7.1.0-preview.5 (for mof compilation in this case) , both on windows and Ubuntu 18.04. Setting 'Aliasestoexport' to '*' also prevents this happening, but that isn't an option for external modules.\r\n\r\nJeaDsc: https://github.com/dsccommunity/JeaDsc\n\n<blockquote><img src=\"https://avatars2.githubusercontent.com/u/51456978?s=400&v=4\" width=\"48\" align=\"right\"><div><img src=\"https://github.githubassets.com/favicons/favicon.svg\" height=\"14\"> GitHub</div><div><strong><a href=\"https://github.com/dsccommunity/JeaDsc\">dsccommunity/JeaDsc</a></strong></div><div>Just Enough Administration. Contribute to dsccommunity/JeaDsc development by creating an account on GitHub.</div></blockquote>",
    "created_at": "2020-07-21T14:04:54Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12054#issuecomment-661881896",
    "id": 661881896,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12054",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MTg4MTg5Ng==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/661881896/reactions"
    },
    "updated_at": "2020-07-21T14:04:56Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/661881896",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/31773452?v=4",
      "events_url": "https://api.github.com/users/General-Chaos/events{/privacy}",
      "followers_url": "https://api.github.com/users/General-Chaos/followers",
      "following_url": "https://api.github.com/users/General-Chaos/following{/other_user}",
      "gists_url": "https://api.github.com/users/General-Chaos/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/General-Chaos",
      "id": 31773452,
      "login": "General-Chaos",
      "node_id": "MDQ6VXNlcjMxNzczNDUy",
      "organizations_url": "https://api.github.com/users/General-Chaos/orgs",
      "received_events_url": "https://api.github.com/users/General-Chaos/received_events",
      "repos_url": "https://api.github.com/users/General-Chaos/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/General-Chaos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/General-Chaos/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/General-Chaos"
    }
  },
  {
    "author_association": "NONE",
    "body": "I have hit this on a module I'm developing. Fortunately for me, the module in question only provides DSC resources, so I could easily work around it, but it was still extremely confusing.",
    "created_at": "2020-09-04T17:12:12Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12054#issuecomment-687276011",
    "id": 687276011,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12054",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NzI3NjAxMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/687276011/reactions"
    },
    "updated_at": "2020-09-04T17:12:12Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/687276011",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/2061796?v=4",
      "events_url": "https://api.github.com/users/alexbuzzbee/events{/privacy}",
      "followers_url": "https://api.github.com/users/alexbuzzbee/followers",
      "following_url": "https://api.github.com/users/alexbuzzbee/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexbuzzbee/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/alexbuzzbee",
      "id": 2061796,
      "login": "alexbuzzbee",
      "node_id": "MDQ6VXNlcjIwNjE3OTY=",
      "organizations_url": "https://api.github.com/users/alexbuzzbee/orgs",
      "received_events_url": "https://api.github.com/users/alexbuzzbee/received_events",
      "repos_url": "https://api.github.com/users/alexbuzzbee/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/alexbuzzbee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexbuzzbee/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/alexbuzzbee"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "This is a bug in `Get-Module -ListAvailable -Name m` that is used by DSC, where [there is a code path](https://github.com/PowerShell/PowerShell/blob/e2ee8e7e1fa3854fb22dc1c494c01351f19ddff6/src/System.Management.Automation/engine/Modules/ModuleCmdletBase.cs#L2768) that [returns ](https://github.com/PowerShell/PowerShell/blob/e2ee8e7e1fa3854fb22dc1c494c01351f19ddff6/src/System.Management.Automation/engine/Modules/ModuleCmdletBase.cs#L2804)the collected module information before[ the ExportedDscResources is set for the module](https://github.com/PowerShell/PowerShell/blob/e2ee8e7e1fa3854fb22dc1c494c01351f19ddff6/src/System.Management.Automation/engine/Modules/ModuleCmdletBase.cs#L3503).",
    "created_at": "2021-06-21T20:51:38Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12054#issuecomment-865335649",
    "id": 865335649,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12054",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NTMzNTY0OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/865335649/reactions"
    },
    "updated_at": "2021-06-21T20:51:38Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/865335649",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11860095?v=4",
      "events_url": "https://api.github.com/users/anmenaga/events{/privacy}",
      "followers_url": "https://api.github.com/users/anmenaga/followers",
      "following_url": "https://api.github.com/users/anmenaga/following{/other_user}",
      "gists_url": "https://api.github.com/users/anmenaga/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/anmenaga",
      "id": 11860095,
      "login": "anmenaga",
      "node_id": "MDQ6VXNlcjExODYwMDk1",
      "organizations_url": "https://api.github.com/users/anmenaga/orgs",
      "received_events_url": "https://api.github.com/users/anmenaga/received_events",
      "repos_url": "https://api.github.com/users/anmenaga/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/anmenaga/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/anmenaga/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/anmenaga"
    }
  },
  {
    "author_association": "NONE",
    "body": "I just hit this issue again and spent a bunch of time stepping through a debug build of PS7.2.6. The exact trigger conditions are if none of `CmdletsToExport`, `FunctionsToExport`, or `AliasesToExport` *uses a wildcard*; all three default to `'*'` if not specified, which prevents triggering the bug. My suggestion would be to copy the `SetDeclaredDscResources()` call from line 3503 (of `ModuleCmdletBase.cs`) into the if block starting on line 2796 (line numbers as of tag `v7.2.6`), though I don't know if that method has more complex requirements.\r\n\r\nIt may be a good idea to look through the rest of the skipped code for other, similar issues.",
    "created_at": "2022-09-21T16:10:22Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12054#issuecomment-1253925630",
    "id": 1253925630,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12054",
    "node_id": "IC_kwDOAvT7bc5KvWL-",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1253925630/reactions"
    },
    "updated_at": "2022-10-03T13:52:25Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1253925630",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/2061796?v=4",
      "events_url": "https://api.github.com/users/alexbuzzbee/events{/privacy}",
      "followers_url": "https://api.github.com/users/alexbuzzbee/followers",
      "following_url": "https://api.github.com/users/alexbuzzbee/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexbuzzbee/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/alexbuzzbee",
      "id": 2061796,
      "login": "alexbuzzbee",
      "node_id": "MDQ6VXNlcjIwNjE3OTY=",
      "organizations_url": "https://api.github.com/users/alexbuzzbee/orgs",
      "received_events_url": "https://api.github.com/users/alexbuzzbee/received_events",
      "repos_url": "https://api.github.com/users/alexbuzzbee/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/alexbuzzbee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexbuzzbee/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/alexbuzzbee"
    }
  }
]
