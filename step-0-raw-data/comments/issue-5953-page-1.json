[
  {
    "author_association": "NONE",
    "body": "@iSazonov I see you have tagged this with \"Issue-Question\".  I'm not sure exactly what the PowerShell team's definition of \"Question\" and \"Bug\" is, but I consider this more of a bug than a question.  \r\n\r\nIf you need convincing, watch the control flow, `$InputObject`, and `$Error` through the first run through the `throw` statement.  Control flow enters function `b`, `$InputObject` is `1` and the exception is thrown.  However, instead of just one error record, two result:\r\n\r\n1. a complaint that the input to `b` was `$null`, and\r\n2. the exception from the line `throw 'function b'`\r\n\r\nThis seems consistent with a spurious null being output by `% p` prior to `1`.  `%{$null;$_.p}`, for example, seems to cause the same behavior as `% p`.  \r\n",
    "created_at": "2018-01-19T22:59:43Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5953#issuecomment-359113529",
    "id": 359113529,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5953",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTExMzUyOQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/359113529/reactions"
    },
    "updated_at": "2018-01-19T23:05:32Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/359113529",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11237922?v=4",
      "events_url": "https://api.github.com/users/alx9r/events{/privacy}",
      "followers_url": "https://api.github.com/users/alx9r/followers",
      "following_url": "https://api.github.com/users/alx9r/following{/other_user}",
      "gists_url": "https://api.github.com/users/alx9r/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/alx9r",
      "id": 11237922,
      "login": "alx9r",
      "node_id": "MDQ6VXNlcjExMjM3OTIy",
      "organizations_url": "https://api.github.com/users/alx9r/orgs",
      "received_events_url": "https://api.github.com/users/alx9r/received_events",
      "repos_url": "https://api.github.com/users/alx9r/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/alx9r/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alx9r/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/alx9r"
    }
  },
  {
    "author_association": "NONE",
    "body": "Here is a more succinct repro of the same problem:\r\n\r\n```PowerShell\r\nfunction z {\r\n    process {\r\n        try { 1 }\r\n        catch { Write-Host 'caught upstream' }\r\n    }\r\n}\r\n\r\nfunction a {\r\n    param ([Parameter(ValueFromPipeline,Mandatory)] $InputObject)\r\n    process {\r\n        [pscustomobject]@{p=1} | % p\r\n    }\r\n}\r\n\r\nfunction b {\r\n    param ([Parameter(ValueFromPipeline,Mandatory)] $InputObject)\r\n    process {\r\n        Write-Host \"InputObject $InputObject\"\r\n        throw 'function b'\r\n    }\r\n}\r\n\r\n$ErrorActionPreference = 'Stop'\r\nz | a | b\r\n```\r\n\r\n### Expected Behavior\r\nThe exception thrown by `b` is caught in `z`.\r\n\r\n```none\r\nInputObject 1\r\ncaught upstream\r\n```\r\n\r\n### Actual Behavior\r\nThe entire pipeline is terminated when `throw` is reached.\r\n\r\n```none\r\nInputObject 1\r\nb : Cannot bind argument to parameter 'InputObject' because it is null.\r\nAt C:\\users\\un1\\Desktop\\test3.ps1:17 char:9\r\n+ 1 | a | b\r\n+         ~\r\n    + CategoryInfo          : InvalidData: (:) [b], ParameterBindingValidationException\r\n    + FullyQualifiedErrorId : ParameterArgumentValidationErrorNullNotAllowed,b\r\n```\r\n",
    "created_at": "2018-01-19T23:29:30Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5953#issuecomment-359118341",
    "id": 359118341,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5953",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTExODM0MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/359118341/reactions"
    },
    "updated_at": "2018-01-19T23:29:30Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/359118341",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11237922?v=4",
      "events_url": "https://api.github.com/users/alx9r/events{/privacy}",
      "followers_url": "https://api.github.com/users/alx9r/followers",
      "following_url": "https://api.github.com/users/alx9r/following{/other_user}",
      "gists_url": "https://api.github.com/users/alx9r/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/alx9r",
      "id": 11237922,
      "login": "alx9r",
      "node_id": "MDQ6VXNlcjExMjM3OTIy",
      "organizations_url": "https://api.github.com/users/alx9r/orgs",
      "received_events_url": "https://api.github.com/users/alx9r/received_events",
      "repos_url": "https://api.github.com/users/alx9r/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/alx9r/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alx9r/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/alx9r"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@alx9r  Don't worry about the label. I daresay to qualify an issue as a bug only in obvious (for me) cases. You made a wonderful reproduction, so label is `question`. Without it I would put `discussion` to get more opinions. Now we only need MSFT expert conclusion. Only experts can give the exact conclusion that it is a bug, that it is necessary to fix or leave as is. Then we will change the label to `bug`, `enhance` or `won't fix`.\r\n\r\n/cc @SteveL-MSFT I think we need to provide the community with a better understanding of the Issue process - can we update our documents?",
    "created_at": "2018-01-20T09:43:51Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5953#issuecomment-359159340",
    "id": 359159340,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5953",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTE1OTM0MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/359159340/reactions"
    },
    "updated_at": "2018-01-20T09:43:51Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/359159340",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "NONE",
    "body": "I'm not sure if this is related.  There seems also to be a spurious null appearing from a member of `[pscustomobject]` in #5607.",
    "created_at": "2018-01-20T19:39:42Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5953#issuecomment-359196742",
    "id": 359196742,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5953",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTE5Njc0Mg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/359196742/reactions"
    },
    "updated_at": "2018-01-20T19:39:42Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/359196742",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11237922?v=4",
      "events_url": "https://api.github.com/users/alx9r/events{/privacy}",
      "followers_url": "https://api.github.com/users/alx9r/followers",
      "following_url": "https://api.github.com/users/alx9r/following{/other_user}",
      "gists_url": "https://api.github.com/users/alx9r/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/alx9r",
      "id": 11237922,
      "login": "alx9r",
      "node_id": "MDQ6VXNlcjExMjM3OTIy",
      "organizations_url": "https://api.github.com/users/alx9r/orgs",
      "received_events_url": "https://api.github.com/users/alx9r/received_events",
      "repos_url": "https://api.github.com/users/alx9r/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/alx9r/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alx9r/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/alx9r"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@iSazonov I think the current [docs](https://github.com/PowerShell/PowerShell/blob/master/docs/maintainers/issue-management.md) make it clear what the issue types mean which in this case if it's not clear if a bug, it seems it should be `Discussion` if it's not clear if a bug or not.\r\n\r\ncc @daxian-dbw to help with clarity if this behavior is expected",
    "created_at": "2018-01-24T22:55:08Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5953#issuecomment-360301924",
    "id": 360301924,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5953",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MDMwMTkyNA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/360301924/reactions"
    },
    "updated_at": "2018-01-24T22:55:08Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/360301924",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "NONE",
    "body": "It seems that this is somehow related to the exception mechanism.  Removing the `throw` statement from [this repro](https://github.com/PowerShell/PowerShell/issues/5953#issuecomment-359118341) averts the spurious null.",
    "created_at": "2018-03-30T20:16:51Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5953#issuecomment-377612908",
    "id": 377612908,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5953",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzYxMjkwOA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/377612908/reactions"
    },
    "updated_at": "2018-03-30T20:16:51Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/377612908",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11237922?v=4",
      "events_url": "https://api.github.com/users/alx9r/events{/privacy}",
      "followers_url": "https://api.github.com/users/alx9r/followers",
      "following_url": "https://api.github.com/users/alx9r/following{/other_user}",
      "gists_url": "https://api.github.com/users/alx9r/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/alx9r",
      "id": 11237922,
      "login": "alx9r",
      "node_id": "MDQ6VXNlcjExMjM3OTIy",
      "organizations_url": "https://api.github.com/users/alx9r/orgs",
      "received_events_url": "https://api.github.com/users/alx9r/received_events",
      "repos_url": "https://api.github.com/users/alx9r/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/alx9r/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alx9r/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/alx9r"
    }
  }
]
