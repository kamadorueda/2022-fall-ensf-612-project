[
  {
    "author_association": "CONTRIBUTOR",
    "body": "If you would like to see a PowerShell-native solution, I suggest you flesh out your proposal with more details and use cases.\r\nGenerally, please use the right issue template, and fill in the section templates.\r\n\r\n> In addition, nohup has & characters and cannot be used in powershell\r\n\r\nThe `nohup` utility doesn't itself use `&`; it is typically called with _Bash_'s postpositional `&` operator so as to launch the program passed to `nohup` _in the background_, given that `nohup` itself executes synchronously.\r\n\r\nWhile using _PowerShell's_ `&` background operator (or `Start-Job`) isn't an option, because terminating the job will also terminate child processes launched from it, you can use `Start-Process` to achieve the desired effect.\r\n\r\nThe following example launches a background PowerShell instance that stays alive even after you close the launching terminal; it emits a `.`  every second, and `nohup` collects both stdout and stderr output in file `nohup.out` in the current directory:\r\n\r\n```powershell\r\n# Runs for 2 minutes, and collects both stdout and stderr output in ./nohup.out\r\nStart-Process nohup 'pwsh -nop -c \"1..120 | % { write-host . -nonewline; sleep 1 }\"'\r\n```",
    "created_at": "2020-03-10T13:32:03Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12090#issuecomment-597087133",
    "id": 597087133,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12090",
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NzA4NzEzMw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/597087133/reactions"
    },
    "updated_at": "2020-08-26T14:51:10Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/597087133",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "NONE",
    "body": "It does not have a consistent experience, so what is the significance of the existence of powershell?",
    "created_at": "2020-03-10T14:08:14Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12090#issuecomment-597105454",
    "id": 597105454,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12090",
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NzEwNTQ1NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/597105454/reactions"
    },
    "updated_at": "2020-03-10T14:08:14Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/597105454",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/26913892?v=4",
      "events_url": "https://api.github.com/users/he852100/events{/privacy}",
      "followers_url": "https://api.github.com/users/he852100/followers",
      "following_url": "https://api.github.com/users/he852100/following{/other_user}",
      "gists_url": "https://api.github.com/users/he852100/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/he852100",
      "id": 26913892,
      "login": "he852100",
      "node_id": "MDQ6VXNlcjI2OTEzODky",
      "organizations_url": "https://api.github.com/users/he852100/orgs",
      "received_events_url": "https://api.github.com/users/he852100/received_events",
      "repos_url": "https://api.github.com/users/he852100/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/he852100/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/he852100/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/he852100"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "To recap:\r\n\r\n* Your initial post contained a cursory reference to a scenario that currently isn't natively supported in PowerShell (and generally has no direct, tool-based implementation _on Windows_).\r\n\r\n   * I encouraged you to detail the scenario, make a case for it, and perhaps suggest a design / implementation. I personally can see that providing PowerShell-specific, cross-platform support (including in Windows) for this scenario could be useful.\r\n\r\n* Your initial post also contained misleading information about `nohup`, which I've tried to correct, along with showing how to make `nohup` work in PowerShell, after all.\r\n\r\n  * If you disagree with the correction or have a problem with the workaround, please argue specific points.\r\n\r\nAs you can see, there are constructive ways to respond to the feedback you've been given; your previous comment doesn't fall into that category.\r\n\r\n\r\n\r\n",
    "created_at": "2020-03-10T14:26:39Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12090#issuecomment-597115174",
    "id": 597115174,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12090",
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NzExNTE3NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/597115174/reactions"
    },
    "updated_at": "2020-08-26T11:05:24Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/597115174",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "NONE",
    "body": "@mklement0 \r\n\r\n1 Why should I use ‘nohup + bash’ in powershell?\r\nMy main powershell process needs to exit, and keep subprocess run（bash）\r\nusing bash -c instead of pwsh -c, mainly because pwsh occupies more memory.\r\n\r\n2 How to use nohup + & in powershell?\r\n$nohupargs = @\"\r\nbash -c \"docker pull xxx\"> /dev/null 2>&1 &\r\n\"@\r\nStart-Process -FilePath /usr/bin/nohup -ArgumentList $nohupargs\r\n\r\n3 What's wrong with this use?\r\nThis usage is not perfect, \"> /dev/null\" does not work,\"nohup.out\" file always found.\r\nif main process is bash ,\"> /dev/null\" will work.",
    "created_at": "2020-08-26T08:04:03Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12090#issuecomment-680726320",
    "id": 680726320,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12090",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MDcyNjMyMA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/680726320/reactions"
    },
    "updated_at": "2020-08-26T08:04:03Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/680726320",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/65390418?v=4",
      "events_url": "https://api.github.com/users/kasini3000/events{/privacy}",
      "followers_url": "https://api.github.com/users/kasini3000/followers",
      "following_url": "https://api.github.com/users/kasini3000/following{/other_user}",
      "gists_url": "https://api.github.com/users/kasini3000/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/kasini3000",
      "id": 65390418,
      "login": "kasini3000",
      "node_id": "MDQ6VXNlcjY1MzkwNDE4",
      "organizations_url": "https://api.github.com/users/kasini3000/orgs",
      "received_events_url": "https://api.github.com/users/kasini3000/received_events",
      "repos_url": "https://api.github.com/users/kasini3000/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/kasini3000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kasini3000/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/kasini3000"
    }
  },
  {
    "author_association": "NONE",
    "body": "oh,I was the one who just got stuck. With start-process, nohup is not needed.",
    "created_at": "2020-08-26T10:57:29Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12090#issuecomment-680809078",
    "id": 680809078,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12090",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MDgwOTA3OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/680809078/reactions"
    },
    "updated_at": "2020-08-26T10:57:29Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/680809078",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/65390418?v=4",
      "events_url": "https://api.github.com/users/kasini3000/events{/privacy}",
      "followers_url": "https://api.github.com/users/kasini3000/followers",
      "following_url": "https://api.github.com/users/kasini3000/following{/other_user}",
      "gists_url": "https://api.github.com/users/kasini3000/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/kasini3000",
      "id": 65390418,
      "login": "kasini3000",
      "node_id": "MDQ6VXNlcjY1MzkwNDE4",
      "organizations_url": "https://api.github.com/users/kasini3000/orgs",
      "received_events_url": "https://api.github.com/users/kasini3000/received_events",
      "repos_url": "https://api.github.com/users/kasini3000/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/kasini3000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kasini3000/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/kasini3000"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@kasini3000 \r\n\r\nYou _do_ need `nohup` if you want the process to stay alive after exiting the originating shell.\r\n\r\nIt is only on Windows you don't need it, because `Start-Process` can create separate console windows there, which you can hide with `-WindowStyle Hidden`; e.g.:\r\n\r\n```powershell\r\n# Runs for 2 minutes and collects all output in ./out.txt\r\nStart-Process -WindowStyle Hidden pwsh '-c \"1..120 | % { Write-Output . >> out.txt; sleep 1 }\"'\r\n```\r\n\r\n---\r\n\r\nThere's no need to involve `bash` in your example, assuming you don't mind collecting output in `nohup.out`:\r\n\r\n```powershell\r\n# Short for: Start-Process -FilePath /usr/bin/nohup -Args 'docker pull xxx'\r\nStart-Process /usr/bin/nohup 'docker pull xxx'\r\n```\r\n\r\nIf you do want to suppress all output, you can do what you did, except you don't need the trailing `&`, and you must place the redirections inside the `-c` argument:\r\n\r\n```powershell\r\nStart-Process /usr/bin/nohup 'bash -c \"docker pull xxx >/dev/null 2>&1\"'\r\n```\r\n\r\nHowever, note that `nohup` _always_ creates a `nohup.out` file - even if no output is produced.\r\n(If there _is_ output and a `nohup.out` file already exists, it is _appended_ to.)\r\n\r\n",
    "created_at": "2020-08-26T15:03:26Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12090#issuecomment-680936907",
    "id": 680936907,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12090",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MDkzNjkwNw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/680936907/reactions"
    },
    "updated_at": "2020-08-26T15:03:26Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/680936907",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "NONE",
    "body": "It turned out to be so, thank you",
    "created_at": "2020-08-28T13:48:14Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12090#issuecomment-682584970",
    "id": 682584970,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12090",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MjU4NDk3MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/682584970/reactions"
    },
    "updated_at": "2020-08-28T13:48:14Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/682584970",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/65390418?v=4",
      "events_url": "https://api.github.com/users/kasini3000/events{/privacy}",
      "followers_url": "https://api.github.com/users/kasini3000/followers",
      "following_url": "https://api.github.com/users/kasini3000/following{/other_user}",
      "gists_url": "https://api.github.com/users/kasini3000/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/kasini3000",
      "id": 65390418,
      "login": "kasini3000",
      "node_id": "MDQ6VXNlcjY1MzkwNDE4",
      "organizations_url": "https://api.github.com/users/kasini3000/orgs",
      "received_events_url": "https://api.github.com/users/kasini3000/received_events",
      "repos_url": "https://api.github.com/users/kasini3000/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/kasini3000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kasini3000/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/kasini3000"
    }
  }
]
