[
  {
    "author_association": "COLLABORATOR",
    "body": "This is a known issue, but fixing it may break a _lot_ of existing code intentionally or unintentionally built expecting the current behaviour.\r\n\r\nSee #4568 and @KirkMunro's RFC which would need to be accepted before we can accept any fixes for this problem: https://github.com/PowerShell/PowerShell-RFC/pull/221\r\n\r\nThis is a bit of a more specific case, it seems, but the symptoms are the same as #4568 ultimately; please add anything more that is not already mentioned in that issue into that thread. I'm marking this one as duplicate for now, though. ðŸ™‚ ",
    "created_at": "2020-05-30T23:14:17Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12848#issuecomment-636396789",
    "id": 636396789,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12848",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNjM5Njc4OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/636396789/reactions"
    },
    "updated_at": "2020-05-30T23:16:25Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/636396789",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "NONE",
    "body": "From my understanding I have to disagree that this issue is a duplicate of https://github.com/PowerShell/PowerShell/issues/4568.\r\nThat other issue is about execution preference variables not being transferred to another scope, whereas this issue is about the 'ErrorAction' parameter passed in to a cmdlet defined in another scope not being considered.\r\n\r\nThere is - in my understanding - a slight chance, that there is an overlap, but from what I read in that other issue's conversation, a parameter like 'ErrorAction' will internally change the execution preference variable 'ErrorActionPreference' in that other scope if it happens that the called cmdlet is in another scope than the callee, but my described issue has really nothing to do with transferring such an execution preference variable to another scope.\r\n\r\nI completely understand that fixing https://github.com/PowerShell/PowerShell/issues/4568 has the potential to break a lot of existing code.\r\n\r\nBut this ticket is on one hand about something different and on the other hand could have chances to be fixed.\r\n\r\nOnly because symptoms are somewhat the same does not justify that issues are the same.",
    "created_at": "2020-05-31T07:53:11Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12848#issuecomment-636436382",
    "id": 636436382,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12848",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNjQzNjM4Mg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/636436382/reactions"
    },
    "updated_at": "2020-05-31T08:05:07Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/636436382",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7192499?v=4",
      "events_url": "https://api.github.com/users/ZonderP/events{/privacy}",
      "followers_url": "https://api.github.com/users/ZonderP/followers",
      "following_url": "https://api.github.com/users/ZonderP/following{/other_user}",
      "gists_url": "https://api.github.com/users/ZonderP/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/ZonderP",
      "id": 7192499,
      "login": "ZonderP",
      "node_id": "MDQ6VXNlcjcxOTI0OTk=",
      "organizations_url": "https://api.github.com/users/ZonderP/orgs",
      "received_events_url": "https://api.github.com/users/ZonderP/received_events",
      "repos_url": "https://api.github.com/users/ZonderP/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/ZonderP/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ZonderP/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/ZonderP"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "I agree the reproduction here is a little different, but given that we still are, ultimately, invoking _script_ module functions in both cases, the fact that one is a proxy command for the original cmdlet seems to be a lesser detail.\r\n\r\nIn both cases, the expected behaviour (inheriting the -ErrorAction preference setting) is lost as soon as a separate script module's code is called.\r\n\r\nI would be surprised if there is a second cause for the same issue.",
    "created_at": "2020-05-31T16:07:19Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12848#issuecomment-636491396",
    "id": 636491396,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12848",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNjQ5MTM5Ng==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/636491396/reactions"
    },
    "updated_at": "2020-05-31T16:07:19Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/636491396",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "NONE",
    "body": "Yes, you're right, I missed an important point:\r\nIn my example script I call 'Test-WriteErrorInSomeModule' with the 'ErrorAction:Stop' parameter,\r\nbut then the call to Write-Error is not using '-ErrorAction:$ErrorActionPreference', but instead relies on inheritance.\r\nJust to give me some hope:\r\nWould a work-around be that I  write my function 'Write-ErrorInternal' as a binary module function?",
    "created_at": "2020-05-31T19:50:21Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12848#issuecomment-636519861",
    "id": 636519861,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12848",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNjUxOTg2MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/636519861/reactions"
    },
    "updated_at": "2020-05-31T19:50:21Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/636519861",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7192499?v=4",
      "events_url": "https://api.github.com/users/ZonderP/events{/privacy}",
      "followers_url": "https://api.github.com/users/ZonderP/followers",
      "following_url": "https://api.github.com/users/ZonderP/following{/other_user}",
      "gists_url": "https://api.github.com/users/ZonderP/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/ZonderP",
      "id": 7192499,
      "login": "ZonderP",
      "node_id": "MDQ6VXNlcjcxOTI0OTk=",
      "organizations_url": "https://api.github.com/users/ZonderP/orgs",
      "received_events_url": "https://api.github.com/users/ZonderP/received_events",
      "repos_url": "https://api.github.com/users/ZonderP/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/ZonderP/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ZonderP/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/ZonderP"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "From what I understand, that should work, yeah.",
    "created_at": "2020-05-31T20:08:35Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12848#issuecomment-636522075",
    "id": 636522075,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12848",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNjUyMjA3NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/636522075/reactions"
    },
    "updated_at": "2020-05-31T20:08:35Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/636522075",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "NONE",
    "body": "This issue has been marked as duplicate and has not had any activity for **1 day**. It has been closed for housekeeping purposes.",
    "created_at": "2020-06-01T23:00:12Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12848#issuecomment-637169589",
    "id": 637169589,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12848",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNzE2OTU4OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/637169589/reactions"
    },
    "updated_at": "2020-06-01T23:00:12Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/637169589",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/in/26612?v=4",
      "events_url": "https://api.github.com/users/msftbot%5Bbot%5D/events{/privacy}",
      "followers_url": "https://api.github.com/users/msftbot%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/msftbot%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/msftbot%5Bbot%5D/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/apps/msftbot",
      "id": 48340428,
      "login": "msftbot[bot]",
      "node_id": "MDM6Qm90NDgzNDA0Mjg=",
      "organizations_url": "https://api.github.com/users/msftbot%5Bbot%5D/orgs",
      "received_events_url": "https://api.github.com/users/msftbot%5Bbot%5D/received_events",
      "repos_url": "https://api.github.com/users/msftbot%5Bbot%5D/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/msftbot%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/msftbot%5Bbot%5D/subscriptions",
      "type": "Bot",
      "url": "https://api.github.com/users/msftbot%5Bbot%5D"
    }
  }
]
