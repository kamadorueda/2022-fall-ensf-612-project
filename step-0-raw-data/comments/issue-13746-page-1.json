[
  {
    "author_association": "COLLABORATOR",
    "body": "In general I like the idea to enhance the parameter defining - \r\n\r\nWhat about additional level? I mean  an optional parameter could require some mandatory/optional subparameters.\r\nAnd what about C# notation?",
    "created_at": "2020-10-05T17:20:45Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13746#issuecomment-703771960",
    "id": 703771960,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13746",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMzc3MTk2MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/703771960/reactions"
    },
    "updated_at": "2020-10-05T17:20:45Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/703771960",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "The main reason I'm unsure about this style of declaring params is that you have declare the same parameter multiple times if it happens to be in multiple sets. This creates a greater possibility of mistakes and more confusing UX if a parameter by the same name appears to behave multiple different ways depending on the other parameters specified with it.\r\n\r\nI would love to see a rework of parameter declaration, but I don't think this is the right direction to go. ðŸ¤” ",
    "created_at": "2020-10-05T18:02:16Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13746#issuecomment-703794543",
    "id": 703794543,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13746",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMzc5NDU0Mw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/703794543/reactions"
    },
    "updated_at": "2020-10-05T18:02:16Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/703794543",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "Looking at the command syntax it looks like this cmdlet is trying to do too much. A good rule of thumb that I've seen with PowerShell parameter set best practices is that if you're getting this many, maybe its time to create dedicated cmdlets. This many parameter sets is also confusing to the user as the syntax diagram is too complex.\r\n\r\nFor your example the cmdlet could be broken down into multiple cmdlets:\r\n\r\n`Draw-Shape` gets broken down into three cmdlets:\r\n\r\n* `Draw-Circle -Radius <int>`\r\n* `Draw-Rectangle -Height <int> -Width <int>`\r\n* `Draw-Triangle -Side1 <int> -Side2 <int> -Side3 <int>`\r\n\r\nDedicated color cmdlets can be created to define either of the two color schemes. Then a parameter set can be added to `Draw-*`  for the `-RGBColor` or `-HSLColor` or to be a common parameter. The same can be done with `-Transparency` and `-Opacity`.\r\n\r\n* `New-RGBColor -Red <int> -Blue <int> -Red <int>`\r\n* `New-HSLColor -Hue <int> -Sat <int> -Lum <int>`\r\n\r\nThis can take the 12 parameter sets down to just a couple by going this route. There was also an old [RFC](https://github.com/PowerShell/PowerShell-RFC/blob/master/X-Withdrawn/RFC0001-Mutual-Exclusion-Parameters-and-Properties.md) that defined mutually exclusive parameters without needing a new parameter set.",
    "created_at": "2020-10-05T23:42:41Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13746#issuecomment-703946527",
    "id": 703946527,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13746",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMzk0NjUyNw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 2,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 2,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/703946527/reactions"
    },
    "updated_at": "2020-10-05T23:46:10Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/703946527",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/38873752?v=4",
      "events_url": "https://api.github.com/users/ThomasNieto/events{/privacy}",
      "followers_url": "https://api.github.com/users/ThomasNieto/followers",
      "following_url": "https://api.github.com/users/ThomasNieto/following{/other_user}",
      "gists_url": "https://api.github.com/users/ThomasNieto/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/ThomasNieto",
      "id": 38873752,
      "login": "ThomasNieto",
      "node_id": "MDQ6VXNlcjM4ODczNzUy",
      "organizations_url": "https://api.github.com/users/ThomasNieto/orgs",
      "received_events_url": "https://api.github.com/users/ThomasNieto/received_events",
      "repos_url": "https://api.github.com/users/ThomasNieto/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/ThomasNieto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ThomasNieto/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/ThomasNieto"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "I added more info in #12818.",
    "created_at": "2020-10-06T07:54:59Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13746#issuecomment-704098504",
    "id": 704098504,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13746",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNDA5ODUwNA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/704098504/reactions"
    },
    "updated_at": "2020-10-06T07:54:59Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/704098504",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "NONE",
    "body": "@Vexx32 and @ThomasNieto, the 'Draw-Shape' is just an extreme example which two mutually exclusive parameter sets almost at the root of the main set.\r\n\r\n> The main reason I'm unsure about this style of declaring params is that you have declare the same parameter multiple times if it happens to be in multiple sets. This creates a greater possibility of mistakes and more confusing UX if a parameter by the same name appears to behave multiple different ways depending on the other parameters specified with it.\r\n\r\nYes, there are about **22 (sub)sets in the `Draw-Shape` example with a total of 58 parameters** (where the current parameters notation has **14 parameters with 72 parameters-sets**). As @iSazonov pointed out in #12818, my general objective is to use **a syntax diagram which is similar to the (expanded) syntax displayed by the help**. In the existing solution, you might limit some of the parameter-sets by using configuration items like `DefaultParameterSetName` but it is difficult to further reduce the redundancy of this rather flat design. This is mainly because the attributes that *usually* relate to the parameter (like `position` and `mandatory`) are contaminated with a `ParameterSetName` property that actually belongs to parameter-set. In the purposed design it is easy to script any redundancy using variables or loops:\r\n\r\nTaking the parameter-set of the current [`Where-Object`](https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/where-object?view=powershell-7) cmdlet for another example:\r\n\r\n```PowerShell\r\nfunction WhereObject {\r\n    [CmdletBinding()] param()\r\n    DynamicParam {\r\n        $MandatoryOperators = @(\r\n            'CEQ', 'NE', 'CNE', 'GT', 'CGT', 'LT', 'CLT', 'GE', 'CGE', 'LE', 'CLE',\r\n            'Like', 'CLike', 'NotLike', 'CNotLike', 'Match', 'CMatch', 'NotMatch', 'CNotMatch',\r\n            'Contains', 'CContains', 'NotContains', 'CNotContains',\r\n            'In', 'CIn', 'NotIn', 'CNotIn', 'Is', 'IsNot'\r\n        )\r\n        New-ParamSet @(\r\n            New-ParamSet @(\r\n                New-ParamSet @(\r\n                    New-Param 0 ([scriptblock]) FilterScript -Mandatory\r\n                    New-Param ([psobject]) InputObject\r\n                )\r\n            )\r\n            New-ParamSet @(\r\n                New-Param 0 ([string]) Property -Mandatory\r\n                New-ParamSet @(\r\n                    New-Param 1 ([object]) Value\r\n                    New-Param ([switch]) EQ\r\n                    New-Param ([psobject]) InputObject\r\n                )\r\n                foreach ($Operator in $MandatoryOperators) {\r\n                    New-ParamSet @(\r\n                        New-Param 1 ([object]) Value\r\n                        New-Param ([switch]) $Operator -Mandatory\r\n                        New-Param ([psobject]) InputObject\r\n                    )\r\n                }\r\n            )\r\n            New-ParamSet @(\r\n                New-Param 0 ([string]) Property -Mandatory\r\n                New-ParamSet @(\r\n                    New-Param ([switch]) Not -Mandatory\r\n                    New-Param ([psobject]) InputObject\r\n                )\r\n            )\r\n        )\r\n    }\r\n}\r\n```\r\n\r\n",
    "created_at": "2020-10-06T08:46:07Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13746#issuecomment-704124907",
    "id": 704124907,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13746",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNDEyNDkwNw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/704124907/reactions"
    },
    "updated_at": "2020-10-06T09:12:09Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/704124907",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/8080834?v=4",
      "events_url": "https://api.github.com/users/iRon7/events{/privacy}",
      "followers_url": "https://api.github.com/users/iRon7/followers",
      "following_url": "https://api.github.com/users/iRon7/following{/other_user}",
      "gists_url": "https://api.github.com/users/iRon7/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iRon7",
      "id": 8080834,
      "login": "iRon7",
      "node_id": "MDQ6VXNlcjgwODA4MzQ=",
      "organizations_url": "https://api.github.com/users/iRon7/orgs",
      "received_events_url": "https://api.github.com/users/iRon7/received_events",
      "repos_url": "https://api.github.com/users/iRon7/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iRon7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iRon7/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iRon7"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Yeah, you can do that with `dynamicparam` but you wouldn't likely be able to do anything remotely similar if we had builtin syntax for this (good luck parsing that; it'd be insanely complicated to try to make that work in anything like a `param` block).\r\n\r\nAlso... just in general, dynamicparam tends to cause more problems that it solves, so IMO any design _based_ on it is generally best avoided (even when prototyping other designs). YMMV I suppose, but I don't think this is an approachable angle for users.",
    "created_at": "2020-10-06T12:03:02Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13746#issuecomment-704221897",
    "id": 704221897,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13746",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNDIyMTg5Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/704221897/reactions"
    },
    "updated_at": "2020-10-06T12:03:02Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/704221897",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "NONE",
    "body": "> What about additional level? I mean an optional parameter could require some mandatory/optional subparameters.\r\n\r\nI have updated the module (see also below the design definitions) which allows a for the intuitive `dynamicparameter` statement:\r\n\r\n```PowerShell\r\nfunction Test {\r\n    [CmdletBinding()] param()\r\n    DynamicParam {\r\n        New-ParamSet @(\r\n            New-Param ([string]) Opt1\r\n            New-ParamSet @(\r\n                New-Param ([string]) Man1 -Mandatory\r\n                New-Param ([string]) Opt2\r\n            )\r\n        )\r\n    }\r\n}\r\n```\r\n### `Test -?`\r\n```PowerShell\r\nSYNTAX\r\n    Test -Man1 <string> [-Opt2 <string>] [-Opt1 <string>] [<CommonParameters>]\r\n    Test [-Opt1 <string>] [<CommonParameters>]\r\n```\r\n\r\n> And what about C# notation?\r\n\r\nUnfortunately, I do not have enough C# experience to comment on this.",
    "created_at": "2020-10-06T12:35:30Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13746#issuecomment-704238390",
    "id": 704238390,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13746",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNDIzODM5MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/704238390/reactions"
    },
    "updated_at": "2020-10-09T10:57:40Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/704238390",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/8080834?v=4",
      "events_url": "https://api.github.com/users/iRon7/events{/privacy}",
      "followers_url": "https://api.github.com/users/iRon7/followers",
      "following_url": "https://api.github.com/users/iRon7/following{/other_user}",
      "gists_url": "https://api.github.com/users/iRon7/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iRon7",
      "id": 8080834,
      "login": "iRon7",
      "node_id": "MDQ6VXNlcjgwODA4MzQ=",
      "organizations_url": "https://api.github.com/users/iRon7/orgs",
      "received_events_url": "https://api.github.com/users/iRon7/received_events",
      "repos_url": "https://api.github.com/users/iRon7/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iRon7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iRon7/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iRon7"
    }
  },
  {
    "author_association": "NONE",
    "body": "@vexx32 \r\n\r\n> you can do that with `dynamicparam` but you wouldn't likely be able to do anything remotely similar if we had builtin syntax for this.\r\n\r\nAgree, it is not in the intention to align the current `Param()` notation with the purpose. Besides, as already noted, that would require an engine update where the `dynamicparam` purpose might only require a module which could even supply some downward compatibility with older (Windows) PowerShell versions.\r\n\r\n> `dynamicparam` tends to cause more problems that it solves\r\n\r\nI don't think you can make a fair comparison (yet) between using the the current `Param()` notation and  `dynamicparam` scripting because there are currently no functions, cmdlets, frameworks (or provider), type accelerators, guidance, etc. to support the developers in using the `dynamicparam` section. There are only a few .Net constructors (which you need to tie together) to work with. The issue is that the current parameter notation is far from [DRY](https://en.wikipedia.org/wiki/Don%27t_repeat_yourself), very verbose and not as lean as you might expect. For this reason, I guess that there are a lot of developers (including myself) that often just lump all parameters together and throw an error from within input processing methods when comes to an incorrect parameter constrain.",
    "created_at": "2020-10-06T12:51:41Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13746#issuecomment-704247147",
    "id": 704247147,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13746",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNDI0NzE0Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/704247147/reactions"
    },
    "updated_at": "2020-10-06T13:58:52Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/704247147",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/8080834?v=4",
      "events_url": "https://api.github.com/users/iRon7/events{/privacy}",
      "followers_url": "https://api.github.com/users/iRon7/followers",
      "following_url": "https://api.github.com/users/iRon7/following{/other_user}",
      "gists_url": "https://api.github.com/users/iRon7/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iRon7",
      "id": 8080834,
      "login": "iRon7",
      "node_id": "MDQ6VXNlcjgwODA4MzQ=",
      "organizations_url": "https://api.github.com/users/iRon7/orgs",
      "received_events_url": "https://api.github.com/users/iRon7/received_events",
      "repos_url": "https://api.github.com/users/iRon7/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iRon7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iRon7/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iRon7"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "> I was thinking of throwing an error if there is a mandatory parameter in the subset and not in the parent but didn't implement this yet\r\n\r\nI'd expect symmetric behavior for all levels.\r\n\r\n> And what about C# notation?\r\n> Unfortunately, I do not have enough C# experience to comment on this.\r\n\r\nScript and binary developers should get the same capabilities otherwise your work will be only partial research.",
    "created_at": "2020-10-06T14:32:07Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13746#issuecomment-704310181",
    "id": 704310181,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13746",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNDMxMDE4MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/704310181/reactions"
    },
    "updated_at": "2020-10-06T14:32:07Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/704310181",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "NONE",
    "body": "> I'd expect symmetric behavior for all levels.\r\n\r\nThat depends on the actual implementation. In this purpose, I trying to follow the syntax diagramÂ¹, where subsets (`...[...][...[...][...]]`) are *not* just extensions of the parent set but **exclusive** optional sets or in case *all* subsets contain at least one mandatory parameter, they are considered ***mutually* exclusive** setsÂ².\r\n\r\n1) Which the exception where it concerns the definition of a single parameter:\r\n    * An optional parameter `[MyParam]` is created like: `New-Param MyParam`\r\n    * A mandatory parameter `MyParam` is created like: `New-Param MyParam -Mandatory`\r\n\r\n<strike>2) If it just concerns a single subset, all of the containing parameters are simply added to the parent parameters (unsure about this as you might as well put all the parameters simply in the parent set. I need to give this some more thoughts).</strike>\r\n\r\n2) If it just concerns a _single_ subset:\r\n    * if the parent set doesn't contain any mandatory parameters, both the parent and subset are optional (where all mandatory parameters in the subset are required if any of the other parameters in the subset is used)\r\n    * If the parent set contains one or more mandatory parameters, the usage will be the same as when all parameters in the subset were directly put in the parent set.\r\n\r\nSee also below the design definitions and above reworked \"_What about additional level? I mean an optional parameter could require some mandatory/optional subparameters._\" answer to @iSazonov.",
    "created_at": "2020-10-06T15:51:34Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13746#issuecomment-704372246",
    "id": 704372246,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13746",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNDM3MjI0Ng==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/704372246/reactions"
    },
    "updated_at": "2020-10-09T10:57:12Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/704372246",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/8080834?v=4",
      "events_url": "https://api.github.com/users/iRon7/events{/privacy}",
      "followers_url": "https://api.github.com/users/iRon7/followers",
      "following_url": "https://api.github.com/users/iRon7/following{/other_user}",
      "gists_url": "https://api.github.com/users/iRon7/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iRon7",
      "id": 8080834,
      "login": "iRon7",
      "node_id": "MDQ6VXNlcjgwODA4MzQ=",
      "organizations_url": "https://api.github.com/users/iRon7/orgs",
      "received_events_url": "https://api.github.com/users/iRon7/received_events",
      "repos_url": "https://api.github.com/users/iRon7/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iRon7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iRon7/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iRon7"
    }
  },
  {
    "author_association": "NONE",
    "body": "I have updated the [prototype module](https://github.com/iRon7/Hierarchical-Parameter-Scripting) to better support optional parameters (see the updated answer to @iSazonov \"_an optional parameter could require some mandatory/optional subparameters_\" comment) which also results in a more symmetric behavior (see the updated answer to @vex32 \"_I'd expect symmetric behavior for all levels_\" comment).\r\n\r\n## (Sub)set design\r\nBelow is the description how the `ParameterSetName` of each parameter is set with respect to their (sub)set containers.\r\n\r\n* If there is no `SetName` supplied, the `ParameterSetName`  is initially set to `'0'` (a string containing a zero).\r\n* The `SetName` is added to:\r\n    * the `ParameterSetName` attribute of each optional parameter\r\n    * the `ParameterSetName` attribute of each mandator parameter _unless the set also contains subsets_\r\n* In case of a subset, the `ParameterSetName` of the each attribute of each containing parameter is prefixed `SetName` (or `'0'`, if no setname is supplied) separated by a dot `'.'`.\r\n    * Any `ParameterSetName` parameter attribute in a subset that is already prefixed with a `'0'` (e.g. `'0.1'`) will get a new unique index prefix (e.g. `'1.1'`). In the case of a _named_ subset, the developer is responsible to supply unique names for each subset.\r\n\r\nNote that with each subset iteration, the whole parameter set (including the containing parameter attributes) is cloned. This is to support parameter sets supplied in variable (which eventually require an unique `ParameterSetName`).\r\n\r\n## (Sub)set usage:\r\nThe basic idea of this purpose is to follow the standard parameter syntax diagram similar to the Help (`-?`) syntax output..\r\n\r\n* There is one exception where it concerns the definition of a _single_ parameter:\r\n    * An optional parameter `[MyParam]`, is created like: `New-Param MyParam`\r\n    * A mandatory parameter `MyParam`, is created like: `New-Param MyParam -Mandatory`\r\n\r\n* Every parameter subset is **exclusive**\r\n  This means that a user can select a specific subset (and supply the contained mandatory parameters) but _can't_ choose parameters out of different subsets\r\n    * If the parent set and _all_ subsets contain at least one mandatory parameter, the parameter subset is **mutually exclusive**\r\n    This means that a user _must_ choose one specific subset\r\n    * If the parent set or one of the subsets contain _only_ optional parameters the parameter subset is an **exclusive choose**\r\n    This means that the user _might_ choose one subset (or none of the subsets)\r\n\r\n* The user is required to supply both mandatory parameters of the selected subset and the mandatory parameters of its parent set.\r\n",
    "created_at": "2020-10-09T10:57:06Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/13746#issuecomment-706114195",
    "id": 706114195,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/13746",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjExNDE5NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/706114195/reactions"
    },
    "updated_at": "2020-10-13T10:46:37Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/706114195",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/8080834?v=4",
      "events_url": "https://api.github.com/users/iRon7/events{/privacy}",
      "followers_url": "https://api.github.com/users/iRon7/followers",
      "following_url": "https://api.github.com/users/iRon7/following{/other_user}",
      "gists_url": "https://api.github.com/users/iRon7/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iRon7",
      "id": 8080834,
      "login": "iRon7",
      "node_id": "MDQ6VXNlcjgwODA4MzQ=",
      "organizations_url": "https://api.github.com/users/iRon7/orgs",
      "received_events_url": "https://api.github.com/users/iRon7/received_events",
      "repos_url": "https://api.github.com/users/iRon7/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iRon7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iRon7/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iRon7"
    }
  }
]
