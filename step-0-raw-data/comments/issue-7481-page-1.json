[
  {
    "author_association": "COLLABORATOR",
    "body": "@powercode Feel free to push the PR - it is easiest way to discuss new ideas and code. Many thanks for your investigations!\r\n\r\nCurrently I don't understand where we could use `PSObjectBuilder` - do we currently create PSObject objects for internal use only in the engine?\r\nAlso why do we need new struct and class - can we implement new constructors for PSObject ? or you say about \"PSObject fabric\"?\r\n\r\nPlease add Select-Object in your performance test. I suppose this will add clarity where we still have performance problems.",
    "created_at": "2018-08-09T09:41:39Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7481#issuecomment-411700349",
    "id": 411700349,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7481",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMTcwMDM0OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/411700349/reactions"
    },
    "updated_at": "2018-08-09T09:43:39Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/411700349",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "NONE",
    "body": "Add-Member performance would be good to test as well. ",
    "created_at": "2018-08-09T20:40:06Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7481#issuecomment-411889602",
    "id": 411889602,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7481",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMTg4OTYwMg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/411889602/reactions"
    },
    "updated_at": "2018-08-09T20:40:06Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/411889602",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/20375201?v=4",
      "events_url": "https://api.github.com/users/dragonwolf83/events{/privacy}",
      "followers_url": "https://api.github.com/users/dragonwolf83/followers",
      "following_url": "https://api.github.com/users/dragonwolf83/following{/other_user}",
      "gists_url": "https://api.github.com/users/dragonwolf83/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/dragonwolf83",
      "id": 20375201,
      "login": "dragonwolf83",
      "node_id": "MDQ6VXNlcjIwMzc1MjAx",
      "organizations_url": "https://api.github.com/users/dragonwolf83/orgs",
      "received_events_url": "https://api.github.com/users/dragonwolf83/received_events",
      "repos_url": "https://api.github.com/users/dragonwolf83/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/dragonwolf83/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dragonwolf83/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/dragonwolf83"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Add-Member is another code path - adding new properties (members) vs bulk creating new similar PSObjects.",
    "created_at": "2018-08-10T04:24:02Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7481#issuecomment-411971255",
    "id": 411971255,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7481",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMTk3MTI1NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/411971255/reactions"
    },
    "updated_at": "2018-08-10T04:24:02Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/411971255",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "There is one use case where it might make sense, and that is the `-NotePropertyMembers @{...}`.\r\n\r\nThat could potentially be made faster. \r\n",
    "created_at": "2018-08-10T10:46:45Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7481#issuecomment-412047645",
    "id": 412047645,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7481",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjA0NzY0NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/412047645/reactions"
    },
    "updated_at": "2018-08-10T10:46:45Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/412047645",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/3505151?v=4",
      "events_url": "https://api.github.com/users/powercode/events{/privacy}",
      "followers_url": "https://api.github.com/users/powercode/followers",
      "following_url": "https://api.github.com/users/powercode/following{/other_user}",
      "gists_url": "https://api.github.com/users/powercode/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/powercode",
      "id": 3505151,
      "login": "powercode",
      "node_id": "MDQ6VXNlcjM1MDUxNTE=",
      "organizations_url": "https://api.github.com/users/powercode/orgs",
      "received_events_url": "https://api.github.com/users/powercode/received_events",
      "repos_url": "https://api.github.com/users/powercode/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/powercode/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/powercode/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/powercode"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "With latest build I see that Import-Csv allocates many PSNoteProperty objects then they cloned [here](https://github.com/PowerShell/PowerShell/blob/master/src/System.Management.Automation/engine/MshMemberInfo.cs#L4623) - looks wasteful. I don't know why the cloning is needed for. If we can not exclude this in general we could easily exclude this for PSNoteProperty by enhancing `Add()` method like `Add(String, Object)` in `PSMemberInfoIntegratingCollection`. Perhaps this will be useful for Select-Object where we can not expect objects of the same type. If your two new types don't cover the scenario we could consider the new Add() overload.",
    "created_at": "2018-08-10T13:37:42Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7481#issuecomment-412084667",
    "id": 412084667,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7481",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjA4NDY2Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/412084667/reactions"
    },
    "updated_at": "2018-08-10T13:37:42Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/412084667",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "That is one of the issues that is addressed by PSObjectBuilder.\r\n\r\nThey think they are defensive copies, made as we cannot know who else has references to that property. One of the benefits of PSObjectBuilder is that it can guarantee that none of the properties has been seen by anyone else, and hence skip the expensive copies.",
    "created_at": "2018-08-10T13:41:15Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7481#issuecomment-412085609",
    "id": 412085609,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7481",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjA4NTYwOQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/412085609/reactions"
    },
    "updated_at": "2018-08-10T13:41:15Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/412085609",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/3505151?v=4",
      "events_url": "https://api.github.com/users/powercode/events{/privacy}",
      "followers_url": "https://api.github.com/users/powercode/followers",
      "following_url": "https://api.github.com/users/powercode/following{/other_user}",
      "gists_url": "https://api.github.com/users/powercode/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/powercode",
      "id": 3505151,
      "login": "powercode",
      "node_id": "MDQ6VXNlcjM1MDUxNTE=",
      "organizations_url": "https://api.github.com/users/powercode/orgs",
      "received_events_url": "https://api.github.com/users/powercode/received_events",
      "repos_url": "https://api.github.com/users/powercode/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/powercode/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/powercode/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/powercode"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@powercode Thanks! I did not see your PR #7481 (Great!) - now I can review your ideas! ",
    "created_at": "2018-08-10T13:45:43Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7481#issuecomment-412086825",
    "id": 412086825,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7481",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjA4NjgyNQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/412086825/reactions"
    },
    "updated_at": "2018-08-10T13:45:43Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/412086825",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  }
]
