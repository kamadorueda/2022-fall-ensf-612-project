[
  {
    "author_association": "COLLABORATOR",
    "body": "> yum install -y powershell-6.0.2-1.rhel.7\r\n\r\nYou could use more high version 6.1.",
    "created_at": "2018-12-28T03:31:18Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8545#issuecomment-450282193",
    "id": 450282193,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8545",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDI4MjE5Mw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/450282193/reactions"
    },
    "updated_at": "2018-12-28T03:31:18Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/450282193",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "The ssh example on top doesn't repro for me with 6.2-preview.3 from macOS to Ubuntu 18.04",
    "created_at": "2018-12-28T04:03:11Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8545#issuecomment-450285406",
    "id": 450285406,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8545",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDI4NTQwNg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/450285406/reactions"
    },
    "updated_at": "2018-12-28T04:03:11Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/450285406",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "NONE",
    "body": "I  tested the problem on version 6.1.1 and 6.2.0 Preview as well with same result.   here is a test script that will demonstrate it.  its basically a generated file from ansible at runtime.   it works fine on windows and linux when running locally, but hangs if called from ssh to the same linux.\r\n\r\nwindows\r\n**works** - powershell C:\\temp\\hang.ps1\r\n**works** - powershell -NonInteractive -File C:\\temp\\hang.ps1\r\n\r\nlinux (CentOS Linux release 7.5.1804 (Core), Powershell 6.1.1, Powershell 6.2.0 Preview 3)\r\n**works** - pwsh /tmp/hang.ps1\r\n**works** - pwsh -noni -f /tmp/hang.ps1\r\n**works** - pwsh-preview /tmp/hang.ps1\r\n**works** - pwsh-preview -noni -f /tmp/hang.ps1\r\n\r\nremote linux (CentOS Linux release 7.5.1804 (Core), Powershell 6.1.1, Powershell 6.2.0 Preview 3)\r\n**hangs** - ssh -v -o ServerAliveInterval=30 root@machine pwsh /tmp/hang.ps1\r\n**hangs** - ssh -v -o ServerAliveInterval=30 root@machine pwsh -noni -f /tmp/hang.ps1\r\n**hangs** - ssh -v -o ServerAliveInterval=30 root@machine pwsh-preview /tmp/hang.ps1\r\n**hangs** - ssh -v -o ServerAliveInterval=30 root@machine pwsh-preview -noni -f /tmp/hang.ps1\r\n\r\n[hang.zip](https://github.com/PowerShell/PowerShell/files/2715051/hang.zip)\r\n\r\n",
    "created_at": "2018-12-28T14:59:01Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8545#issuecomment-450372146",
    "id": 450372146,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8545",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDM3MjE0Ng==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/450372146/reactions"
    },
    "updated_at": "2018-12-28T15:25:54Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/450372146",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/28200306?v=4",
      "events_url": "https://api.github.com/users/paylocity-sflanders/events{/privacy}",
      "followers_url": "https://api.github.com/users/paylocity-sflanders/followers",
      "following_url": "https://api.github.com/users/paylocity-sflanders/following{/other_user}",
      "gists_url": "https://api.github.com/users/paylocity-sflanders/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/paylocity-sflanders",
      "id": 28200306,
      "login": "paylocity-sflanders",
      "node_id": "MDQ6VXNlcjI4MjAwMzA2",
      "organizations_url": "https://api.github.com/users/paylocity-sflanders/orgs",
      "received_events_url": "https://api.github.com/users/paylocity-sflanders/received_events",
      "repos_url": "https://api.github.com/users/paylocity-sflanders/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/paylocity-sflanders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paylocity-sflanders/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/paylocity-sflanders"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@paylocity-sflanders able to repro this with your script.  Workaround is to use `-c` instead of `-f`.  Still investigating why it's hanging.",
    "created_at": "2018-12-29T04:54:24Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8545#issuecomment-450465723",
    "id": 450465723,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8545",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDQ2NTcyMw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/450465723/reactions"
    },
    "updated_at": "2018-12-29T04:54:24Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/450465723",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "Also, the `\\u001b[?1h\\u001b=` escape sequence is coming from .NET Core, not PowerShell so no way to suppress it.  It enables application mode for cursor keys.  If that is truly causing the problem, then you could try setting TERM to something that doesn't support it.",
    "created_at": "2018-12-29T09:02:32Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8545#issuecomment-450477585",
    "id": 450477585,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8545",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDQ3NzU4NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/450477585/reactions"
    },
    "updated_at": "2018-12-29T09:02:32Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/450477585",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "NONE",
    "body": "@SteveL-MSFT i think i worked around that escape sequence issue using a tty option, but then hit the hang.   when i originally posted it i wasn't sure if it was causing the hang or not, but seems its another issue that you are investigating",
    "created_at": "2018-12-29T16:30:04Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8545#issuecomment-450504198",
    "id": 450504198,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8545",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDUwNDE5OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/450504198/reactions"
    },
    "updated_at": "2018-12-29T16:30:04Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/450504198",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/28200306?v=4",
      "events_url": "https://api.github.com/users/paylocity-sflanders/events{/privacy}",
      "followers_url": "https://api.github.com/users/paylocity-sflanders/followers",
      "following_url": "https://api.github.com/users/paylocity-sflanders/following{/other_user}",
      "gists_url": "https://api.github.com/users/paylocity-sflanders/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/paylocity-sflanders",
      "id": 28200306,
      "login": "paylocity-sflanders",
      "node_id": "MDQ6VXNlcjI4MjAwMzA2",
      "organizations_url": "https://api.github.com/users/paylocity-sflanders/orgs",
      "received_events_url": "https://api.github.com/users/paylocity-sflanders/received_events",
      "repos_url": "https://api.github.com/users/paylocity-sflanders/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/paylocity-sflanders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paylocity-sflanders/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/paylocity-sflanders"
    }
  },
  {
    "author_association": "NONE",
    "body": "@SteveL-MSFT i did a quick test by modifying ansible core python code that runs powershell to include that -c.   it seems to fix the hang issue.   You'll see i referenced this problem in a ticket with them as well \"powershell shebang ignored for modules\".",
    "created_at": "2018-12-29T23:37:28Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8545#issuecomment-450528672",
    "id": 450528672,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8545",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDUyODY3Mg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/450528672/reactions"
    },
    "updated_at": "2018-12-29T23:37:28Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/450528672",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/28200306?v=4",
      "events_url": "https://api.github.com/users/paylocity-sflanders/events{/privacy}",
      "followers_url": "https://api.github.com/users/paylocity-sflanders/followers",
      "following_url": "https://api.github.com/users/paylocity-sflanders/following{/other_user}",
      "gists_url": "https://api.github.com/users/paylocity-sflanders/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/paylocity-sflanders",
      "id": 28200306,
      "login": "paylocity-sflanders",
      "node_id": "MDQ6VXNlcjI4MjAwMzA2",
      "organizations_url": "https://api.github.com/users/paylocity-sflanders/orgs",
      "received_events_url": "https://api.github.com/users/paylocity-sflanders/received_events",
      "repos_url": "https://api.github.com/users/paylocity-sflanders/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/paylocity-sflanders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paylocity-sflanders/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/paylocity-sflanders"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "I'm able to repro the hang by simply using redirected input/output (which is basically what ssh does).  ",
    "created_at": "2018-12-30T13:44:56Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8545#issuecomment-450561766",
    "id": 450561766,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8545",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDU2MTc2Ng==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/450561766/reactions"
    },
    "updated_at": "2018-12-30T13:44:56Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/450561766",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "I think I understand why it hangs, but not sure how to fix yet.  Looking at the threads in the hanging situation, it hangs when:\r\n\r\n1. Input is redirected\r\n2. The script has a Process block\r\n3. During execution, when the engine sees the script has a process block, it expects input from the pipeline.  It seems that when there is redirected input, the engine is [waiting](https://github.com/PowerShell/PowerShell/blob/7207db6360d1527238975526e299d7bacde0d9d8/src/System.Management.Automation/utils/ObjectStream.cs#L832) on input that never arrives.\r\n\r\nThe other workaround is to not have the `process` block since your sample hang script doesn't actually process anything from the pipeline.  You can just move the code to the `begin` block or perhaps just remove the `begin`, `process`, `end` blocks since it's not really being used as a cmdlet processing pipeline input (at least as the current sample script).\r\n\r\ncc @lzybkr @BrucePay if they have any ideas on how to fix this.  This only repros if the script is executed as a file and not as a command.",
    "created_at": "2018-12-30T14:07:55Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8545#issuecomment-450563076",
    "id": 450563076,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8545",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDU2MzA3Ng==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/450563076/reactions"
    },
    "updated_at": "2018-12-30T14:09:34Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/450563076",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "NONE",
    "body": "Unfortunately the code i sent is generated by the ansible runtime, so i don't control that really.   Its building a wrapper around our ansible powershell library code that includes all the content representing the custom powershell modules, etc.   Obviously if i could override the shebang (which isn't possible without modify their code) we'd have a possible clean workaround.   It is interesting that the -c approach doesn't suffer the same issue.   i would say long term needing to remove the process blocks would be problematic since folks use those when coding pipe friendly functions.   Also i can't remember what limitations using the -c and other options do to how powershell executes things and interprets exit codes.   i seem to remember on the windows side having to deal with that in some teamcity stuff that was running powershell and needing properly handle setting exit codes so it detected failures properly",
    "created_at": "2018-12-31T00:10:06Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8545#issuecomment-450596061",
    "id": 450596061,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8545",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDU5NjA2MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/450596061/reactions"
    },
    "updated_at": "2018-12-31T00:11:23Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/450596061",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/28200306?v=4",
      "events_url": "https://api.github.com/users/paylocity-sflanders/events{/privacy}",
      "followers_url": "https://api.github.com/users/paylocity-sflanders/followers",
      "following_url": "https://api.github.com/users/paylocity-sflanders/following{/other_user}",
      "gists_url": "https://api.github.com/users/paylocity-sflanders/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/paylocity-sflanders",
      "id": 28200306,
      "login": "paylocity-sflanders",
      "node_id": "MDQ6VXNlcjI4MjAwMzA2",
      "organizations_url": "https://api.github.com/users/paylocity-sflanders/orgs",
      "received_events_url": "https://api.github.com/users/paylocity-sflanders/received_events",
      "repos_url": "https://api.github.com/users/paylocity-sflanders/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/paylocity-sflanders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paylocity-sflanders/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/paylocity-sflanders"
    }
  },
  {
    "author_association": "NONE",
    "body": "I may have found another workaround without modify ansible code.  If i add the \"TERM: dumb\" option without the tty option on my task that produced that sample file, which ends up looking like the following in the ssh command, seems to eliminate that hang\r\n\r\n````\r\nTERM=dumb pwsh /root/.ansible/tmp/ansible-tmp-1546264703.25-35318627759711/AnsiballZ_some_library_powershell.ps1\r\n````\r\n\r\nbut for regular scripts with parameters on them like\r\n\r\n````\r\nTERM=dumb pwsh /root/.ansible/tmp/ansible-tmp-1546265522.87-188166698306613/some_script.ps1 -Computer hi\r\nor\r\nTERM=dumb pwsh -c /root/.ansible/tmp/ansible-tmp-1546265522.87-188166698306613/some_script.ps1 -Computer hi\r\n\r\n\r\n# contents\r\n[CmdletBinding()]\r\nparam (\r\n    [Parameter(Mandatory=$false)]\r\n    [string[]] $Computer\r\n)\r\n\r\nWrite-Output $Computer\r\n````\r\nit still does that \"Shared connection closed\".  Interesting enough if i use the tty option it goes away, which simply removes the the -tt option on the ssh call.\r\n\r\n",
    "created_at": "2018-12-31T14:00:37Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8545#issuecomment-450648884",
    "id": 450648884,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8545",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDY0ODg4NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/450648884/reactions"
    },
    "updated_at": "2018-12-31T14:54:04Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/450648884",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/28200306?v=4",
      "events_url": "https://api.github.com/users/paylocity-sflanders/events{/privacy}",
      "followers_url": "https://api.github.com/users/paylocity-sflanders/followers",
      "following_url": "https://api.github.com/users/paylocity-sflanders/following{/other_user}",
      "gists_url": "https://api.github.com/users/paylocity-sflanders/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/paylocity-sflanders",
      "id": 28200306,
      "login": "paylocity-sflanders",
      "node_id": "MDQ6VXNlcjI4MjAwMzA2",
      "organizations_url": "https://api.github.com/users/paylocity-sflanders/orgs",
      "received_events_url": "https://api.github.com/users/paylocity-sflanders/received_events",
      "repos_url": "https://api.github.com/users/paylocity-sflanders/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/paylocity-sflanders/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paylocity-sflanders/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/paylocity-sflanders"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Just thought I should chime in here, we currently do support PSCore on a POSIX host just without support for our PowerShell module_utils  that are present for Windows execution. I've created a brief guide on how to create a module, or execute a script through PSCore over SSH at https://github.com/ansible/ansible/issues/48881#issuecomment-440481672 and have also documented the `TERM=dumb` example to ensure the console escape codes aren't omitted.",
    "created_at": "2019-01-01T21:14:14Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8545#issuecomment-450757308",
    "id": 450757308,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8545",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDc1NzMwOA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/450757308/reactions"
    },
    "updated_at": "2019-01-01T21:14:14Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/450757308",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/8462645?v=4",
      "events_url": "https://api.github.com/users/jborean93/events{/privacy}",
      "followers_url": "https://api.github.com/users/jborean93/followers",
      "following_url": "https://api.github.com/users/jborean93/following{/other_user}",
      "gists_url": "https://api.github.com/users/jborean93/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jborean93",
      "id": 8462645,
      "login": "jborean93",
      "node_id": "MDQ6VXNlcjg0NjI2NDU=",
      "organizations_url": "https://api.github.com/users/jborean93/orgs",
      "received_events_url": "https://api.github.com/users/jborean93/received_events",
      "repos_url": "https://api.github.com/users/jborean93/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jborean93/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jborean93/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jborean93"
    }
  }
]
