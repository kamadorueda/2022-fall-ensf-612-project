[
  {
    "author_association": "MEMBER",
    "body": "So the expected behavior is that if the command is native, braces are literal always?  What about parenthesis?",
    "created_at": "2017-10-21T00:47:49Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5187#issuecomment-338352209",
    "id": 338352209,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5187",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODM1MjIwOQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/338352209/reactions"
    },
    "updated_at": "2017-10-21T00:47:49Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/338352209",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "I'm suggesting syntax doesn't matter - if the **value** is a `ScriptBlock`, pass the literal text unless calling `powershell.exe` or `pwsh.exe`, then use `-encodedCommand`.\r\n\r\nWe could attempt to be smart too - only pass the literal if the `ScriptBlock` has no whitespace, or I suppose escaped whitespace",
    "created_at": "2017-10-21T01:28:22Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5187#issuecomment-338354802",
    "id": 338354802,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5187",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODM1NDgwMg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/338354802/reactions"
    },
    "updated_at": "2017-10-21T01:28:22Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/338354802",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/2148248?v=4",
      "events_url": "https://api.github.com/users/lzybkr/events{/privacy}",
      "followers_url": "https://api.github.com/users/lzybkr/followers",
      "following_url": "https://api.github.com/users/lzybkr/following{/other_user}",
      "gists_url": "https://api.github.com/users/lzybkr/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/lzybkr",
      "id": 2148248,
      "login": "lzybkr",
      "node_id": "MDQ6VXNlcjIxNDgyNDg=",
      "organizations_url": "https://api.github.com/users/lzybkr/orgs",
      "received_events_url": "https://api.github.com/users/lzybkr/received_events",
      "repos_url": "https://api.github.com/users/lzybkr/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/lzybkr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lzybkr/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/lzybkr"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "Isn't this a dupe of https://github.com/PowerShell/PowerShell/issues/1761?",
    "created_at": "2017-10-25T01:02:27Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5187#issuecomment-339181250",
    "id": 339181250,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5187",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzOTE4MTI1MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/339181250/reactions"
    },
    "updated_at": "2017-10-25T01:02:27Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/339181250",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "Not really a dupe.",
    "created_at": "2017-10-26T02:24:07Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5187#issuecomment-339530870",
    "id": 339530870,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5187",
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzOTUzMDg3MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/339530870/reactions"
    },
    "updated_at": "2017-10-26T02:24:07Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/339530870",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/2148248?v=4",
      "events_url": "https://api.github.com/users/lzybkr/events{/privacy}",
      "followers_url": "https://api.github.com/users/lzybkr/followers",
      "following_url": "https://api.github.com/users/lzybkr/following{/other_user}",
      "gists_url": "https://api.github.com/users/lzybkr/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/lzybkr",
      "id": 2148248,
      "login": "lzybkr",
      "node_id": "MDQ6VXNlcjIxNDgyNDg=",
      "organizations_url": "https://api.github.com/users/lzybkr/orgs",
      "received_events_url": "https://api.github.com/users/lzybkr/received_events",
      "repos_url": "https://api.github.com/users/lzybkr/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/lzybkr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lzybkr/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/lzybkr"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@lzybkr Historical context: this feature was introduced when we were still having to consider mini-shells. In that scenario, we were expecting many, many shells - essentially one mini-shell executable per module - all with unknown names. And so we autoconverted scriptblocks for all executables. Obviously that is no longer the case however people may have aliases/symlinks for our binaries (similar to python & python3). So there is still a chance that there will be unknown binaries. As an alternative to hard coding the list of executables, we could tweak the converter to special-case GUIDs. Are there other common cases where we'd want scriptblocks passed to executable verbatim?",
    "created_at": "2018-03-09T21:03:42Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5187#issuecomment-371944329",
    "id": 371944329,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5187",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTk0NDMyOQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/371944329/reactions"
    },
    "updated_at": "2018-03-09T21:03:42Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/371944329",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6876108?v=4",
      "events_url": "https://api.github.com/users/BrucePay/events{/privacy}",
      "followers_url": "https://api.github.com/users/BrucePay/followers",
      "following_url": "https://api.github.com/users/BrucePay/following{/other_user}",
      "gists_url": "https://api.github.com/users/BrucePay/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/BrucePay",
      "id": 6876108,
      "login": "BrucePay",
      "node_id": "MDQ6VXNlcjY4NzYxMDg=",
      "organizations_url": "https://api.github.com/users/BrucePay/orgs",
      "received_events_url": "https://api.github.com/users/BrucePay/received_events",
      "repos_url": "https://api.github.com/users/BrucePay/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/BrucePay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BrucePay/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/BrucePay"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@BrucePay - `bcdedit` accepts names in place of a GUID, e.g.: ` bcdedit /default {ntldr}`.\r\n\r\nI suppose a heuristic is possible though - if there are no spaces, it's unlikely to be a script block. Furthermore, if the text specifies calling a single command with no arguments and that command doesn't exist, that is very strong evidence that it's not really a script block - that would cover most use cases.\r\n\r\nThat said, I've never seen another executable that relies on this behavior. Introducing quirky behavior on the off chance that a non-PowerShell binary expects the current behavior is maybe being a little too paranoid w.r.t. compatibility.",
    "created_at": "2018-03-09T21:21:15Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5187#issuecomment-371948391",
    "id": 371948391,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5187",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTk0ODM5MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/371948391/reactions"
    },
    "updated_at": "2018-03-09T21:21:15Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/371948391",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/2148248?v=4",
      "events_url": "https://api.github.com/users/lzybkr/events{/privacy}",
      "followers_url": "https://api.github.com/users/lzybkr/followers",
      "following_url": "https://api.github.com/users/lzybkr/following{/other_user}",
      "gists_url": "https://api.github.com/users/lzybkr/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/lzybkr",
      "id": 2148248,
      "login": "lzybkr",
      "node_id": "MDQ6VXNlcjIxNDgyNDg=",
      "organizations_url": "https://api.github.com/users/lzybkr/orgs",
      "received_events_url": "https://api.github.com/users/lzybkr/received_events",
      "repos_url": "https://api.github.com/users/lzybkr/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/lzybkr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lzybkr/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/lzybkr"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "As for the symlink issue (the PowerShell executable in disguise): resolving symlinks to their ultimate target to check the latter's name sounds like a simple solution.\r\n\r\nI agree that _not_ employing heuristics is best - both in this case and #1761 - because in the long run users are better served by simply having to remember - and being able to rely on - _one_ simple rule:\r\n\r\n_PowerShell's own syntax requirements must be satisfied first_, which means that any metacharacters recognized by PowerShell must be quoted for literal use in an argument.\r\n\r\nYes, for users unfamiliar with PowerShell's syntax that involves growing pains - given that more characters are metacharacters than in other shells, especially compared to `cmd.exe`, but the _principle_ is the same: Just like you must double-quote a literal `&` in `cmd.exe`, for instance, you must quote a `{...}` token meant to be a literal.\r\n\r\nIn the long run, and across different scenarios, not having to remember heuristics and exceptions is a blessing.\r\n\r\n> The workaround is to use quotes - not a bad workaround but still shouldn't be necessary.\r\n\r\nTherefore, I wouldn't frame the need to use quoting as a _workaround_ - it's simply a syntactic necessity in PowerShell.\r\n\r\nAs PowerShell sees wider adoption - and perhaps even becomes the single, _cross-platform_ choice for users - these issues will lessen: \r\n\r\n * users will know the syntax requirements\r\n * more command lines that use PowerShell syntax to begin with will appear online\r\n\r\nThat said (a separate issue), the [broken treatment of double quotes](https://github.com/PowerShell/PowerShell-Docs/issues/2361) will continue to be a pain point.\r\n\r\n---\r\n\r\nAs for helping users understand:\r\n\r\nIn the case at hand, applying the usual rules - stringification of a script block to its literal content - will at least tell users that the `{` and `}` were \"eaten\" during invocation, which is a starting point for investigation.\r\n\r\nIn #1761 the symptom is more obscure.\r\n\r\nProviding a way to inspect the actual arguments passed would definitely be helpful, as originally discussed in https://github.com/PowerShell/PowerShell/issues/1761#issuecomment-283857859.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "created_at": "2018-10-09T15:34:00Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5187#issuecomment-428240120",
    "id": 428240120,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5187",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyODI0MDEyMA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/428240120/reactions"
    },
    "updated_at": "2018-10-09T15:34:00Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/428240120",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "Could we just limit the encoding to script blocks following `-Command` or `-c`? (Unfortunately, `-c` is rather common, but we must support it anyway.)",
    "created_at": "2020-08-21T16:17:45Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5187#issuecomment-678374477",
    "id": 678374477,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5187",
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3ODM3NDQ3Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/678374477/reactions"
    },
    "updated_at": "2020-08-21T16:17:45Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/678374477",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/1363094?v=4",
      "events_url": "https://api.github.com/users/yecril71pl/events{/privacy}",
      "followers_url": "https://api.github.com/users/yecril71pl/followers",
      "following_url": "https://api.github.com/users/yecril71pl/following{/other_user}",
      "gists_url": "https://api.github.com/users/yecril71pl/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/yecril71pl",
      "id": 1363094,
      "login": "yecril71pl",
      "node_id": "MDQ6VXNlcjEzNjMwOTQ=",
      "organizations_url": "https://api.github.com/users/yecril71pl/orgs",
      "received_events_url": "https://api.github.com/users/yecril71pl/received_events",
      "repos_url": "https://api.github.com/users/yecril71pl/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/yecril71pl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yecril71pl/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/yecril71pl"
    }
  }
]
