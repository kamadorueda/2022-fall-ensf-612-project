[
  {
    "author_association": "CONTRIBUTOR",
    "body": "It's obviously not the same, but just to mention an interim workaround: use `[object]` instead of your own type.\r\n\r\n",
    "created_at": "2019-10-01T20:48:46Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/10669#issuecomment-537223838",
    "id": 537223838,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10669",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNzIyMzgzOA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/537223838/reactions"
    },
    "updated_at": "2019-10-01T20:48:46Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/537223838",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "/cc @SeeminglyScience for reference #10623",
    "created_at": "2019-10-02T07:45:35Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/10669#issuecomment-537377473",
    "id": 537377473,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10669",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNzM3NzQ3Mw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/537377473/reactions"
    },
    "updated_at": "2019-10-02T07:45:35Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/537377473",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Yeah this does repro without the specifics of #10623 (e.g. without the making the engine check overloads)\r\n\r\n```powershell\r\nPS> Add-Type -IgnoreWarnings -TypeDefinition 'public interface ISomething<T> { }'\r\nPS> class Test : ISomething[Test] { }\r\n# At line:1 char:14\r\n# + class Test : ISomething[Test] { }\r\n# +              ~~~~~~~~~~~~~~~~\r\n# Unable to find type [ISomething[Test]].\r\n#     + CategoryInfo          : ParserError: (:) [], ParentContainsErrorRecordException\r\n#     + FullyQualifiedErrorId : TypeNotFound\r\n```\r\n\r\nPresumably because it's attempting type resolution without taking the current type definition into account.\r\n\r\nAlso about valuetypes (assuming the title wasn't a mistake) #10231 is also relevant.",
    "created_at": "2019-10-02T11:59:20Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/10669#issuecomment-537459509",
    "id": 537459509,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10669",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNzQ1OTUwOQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/537459509/reactions"
    },
    "updated_at": "2019-10-02T11:59:20Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/537459509",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/24977523?v=4",
      "events_url": "https://api.github.com/users/SeeminglyScience/events{/privacy}",
      "followers_url": "https://api.github.com/users/SeeminglyScience/followers",
      "following_url": "https://api.github.com/users/SeeminglyScience/following{/other_user}",
      "gists_url": "https://api.github.com/users/SeeminglyScience/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SeeminglyScience",
      "id": 24977523,
      "login": "SeeminglyScience",
      "node_id": "MDQ6VXNlcjI0OTc3NTIz",
      "organizations_url": "https://api.github.com/users/SeeminglyScience/orgs",
      "received_events_url": "https://api.github.com/users/SeeminglyScience/received_events",
      "repos_url": "https://api.github.com/users/SeeminglyScience/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SeeminglyScience/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SeeminglyScience/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SeeminglyScience"
    }
  },
  {
    "author_association": "NONE",
    "body": "This works. But shouldn't. And just like @mklement0 wrote, it's not the same as what you want, but a workaround. (I got seriously distracted going down the rabbit hole that is stuff not implemented by classes.)\r\n\r\n```\r\nClass ServerName: System.Collections.IEqualityComparer \r\n{\r\n    [String] $ComputerName\r\n\r\n    ServerName( [String] $serverName )\r\n        {\r\n            $this.ComputerName = $serverName\r\n        }\r\n    ServerName()\r\n        {\r\n            $this.ComputerName = ''\r\n        }\r\n\r\n    [Bool] Equals( $x, $y)  { return $x -eq $y        }\r\n    [Bool] Equals( $x )     { return $this.ComputerName -eq $x }\r\n    [Int] GetHashCode( $x ) { return $x.GetHashCode() }\r\n}\r\n\r\n$b = [ServerName]::new( 's1' )\r\n$b -eq 's1'\r\n$b -eq 's2'\r\n$b.GetHashCode( $b )\r\n\r\n```",
    "created_at": "2019-10-02T14:11:56Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/10669#issuecomment-537511254",
    "id": 537511254,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10669",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNzUxMTI1NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 1,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/537511254/reactions"
    },
    "updated_at": "2019-10-02T14:11:56Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/537511254",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/15186143?v=4",
      "events_url": "https://api.github.com/users/essentialexch/events{/privacy}",
      "followers_url": "https://api.github.com/users/essentialexch/followers",
      "following_url": "https://api.github.com/users/essentialexch/following{/other_user}",
      "gists_url": "https://api.github.com/users/essentialexch/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/essentialexch",
      "id": 15186143,
      "login": "essentialexch",
      "node_id": "MDQ6VXNlcjE1MTg2MTQz",
      "organizations_url": "https://api.github.com/users/essentialexch/orgs",
      "received_events_url": "https://api.github.com/users/essentialexch/received_events",
      "repos_url": "https://api.github.com/users/essentialexch/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/essentialexch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/essentialexch/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/essentialexch"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "### EDIT: Was case sensitive per @SeeminglyScience, ignore for purposes of this issue\r\n\r\nI came across this issue trying to implement IObserver for CIM to do get-ciminstance asynchronously basically.\r\n\r\n```powershell\r\nusing namespace Microsoft.Management.Infrastructure\r\nclass CimObserver : Iobserver[CimInstance] {\r\n    [void] onNext(\r\n        [CimInstance]$cimInstance\r\n    ) {$null}\r\n}\r\n```\r\n```\r\nAt line:2 char:1\r\n+ class CimObserver : Iobserver[CimInstance] {\r\n+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\nError during creation of type \"CimObserver\". Error message:\r\nMethod 'OnNext' in type 'CimObserver' from assembly 'PowerShell Class Assembly, Version=1.0.0.8, Culture=neutral, PublicKeyToken=null' does not have an implementation.\r\n```\r\n\r\nUnless someone can tell me what I'm doing wrong.\r\n",
    "created_at": "2020-01-13T16:58:21Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/10669#issuecomment-573764044",
    "id": 573764044,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10669",
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3Mzc2NDA0NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/573764044/reactions"
    },
    "updated_at": "2020-01-13T17:16:13Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/573764044",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/15258962?v=4",
      "events_url": "https://api.github.com/users/JustinGrote/events{/privacy}",
      "followers_url": "https://api.github.com/users/JustinGrote/followers",
      "following_url": "https://api.github.com/users/JustinGrote/following{/other_user}",
      "gists_url": "https://api.github.com/users/JustinGrote/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/JustinGrote",
      "id": 15258962,
      "login": "JustinGrote",
      "node_id": "MDQ6VXNlcjE1MjU4OTYy",
      "organizations_url": "https://api.github.com/users/JustinGrote/orgs",
      "received_events_url": "https://api.github.com/users/JustinGrote/received_events",
      "repos_url": "https://api.github.com/users/JustinGrote/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/JustinGrote/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JustinGrote/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/JustinGrote"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@JustinGrote Method names are case sensitive for declaration:\r\n\r\n```powershell\r\nusing namespace Microsoft.Management.Infrastructure\r\n\r\nclass CimObserver : IObserver[CimInstance] {\r\n    [void] OnNext([CimInstance] $value) {}\r\n    [void] OnError([Exception] $exception) {}\r\n    [void] OnCompleted() {}\r\n}\r\n```\r\n\r\nThough be aware that it's likely that `OnNext` will be called on a thread without a default runspace.  If that's the case, the method will just throw.",
    "created_at": "2020-01-13T17:14:34Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/10669#issuecomment-573771613",
    "id": 573771613,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10669",
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3Mzc3MTYxMw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/573771613/reactions"
    },
    "updated_at": "2020-01-13T17:14:34Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/573771613",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/24977523?v=4",
      "events_url": "https://api.github.com/users/SeeminglyScience/events{/privacy}",
      "followers_url": "https://api.github.com/users/SeeminglyScience/followers",
      "following_url": "https://api.github.com/users/SeeminglyScience/following{/other_user}",
      "gists_url": "https://api.github.com/users/SeeminglyScience/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SeeminglyScience",
      "id": 24977523,
      "login": "SeeminglyScience",
      "node_id": "MDQ6VXNlcjI0OTc3NTIz",
      "organizations_url": "https://api.github.com/users/SeeminglyScience/orgs",
      "received_events_url": "https://api.github.com/users/SeeminglyScience/received_events",
      "repos_url": "https://api.github.com/users/SeeminglyScience/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SeeminglyScience/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SeeminglyScience/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SeeminglyScience"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@SeeminglyScience thanks. Believe it or not it totally worked :) Full code:\r\n```powershell\r\nusing namespace Microsoft.Management.Infrastructure\r\nclass CimObserver : System.IObserver[CimInstance] {\r\n    [void] OnNext(\r\n        [CimInstance]$ciminstance\r\n    ) {\r\n        write-host -fore green $cimInstance\r\n    }\r\n    [void] OnError([Exception]$Exception) {throw $exception}\r\n    [void] OnCompleted() {$this.Unsubscribe()} \r\n}\r\n$query = (new-cimsession).QueryInstancesAsync('root/cimv2','WQL','SELECT * FROM Win32_ComputerSystem')\r\n$observer = new-object CimObserver\r\n$query.subscribe($observer)\r\n```\r\n\r\nOutputted the textual representation in green to the host.\r\n\r\n",
    "created_at": "2020-01-13T17:21:51Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/10669#issuecomment-573774718",
    "id": 573774718,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/10669",
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3Mzc3NDcxOA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 2,
      "laugh": 0,
      "rocket": 0,
      "total_count": 2,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/573774718/reactions"
    },
    "updated_at": "2020-01-13T17:21:51Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/573774718",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/15258962?v=4",
      "events_url": "https://api.github.com/users/JustinGrote/events{/privacy}",
      "followers_url": "https://api.github.com/users/JustinGrote/followers",
      "following_url": "https://api.github.com/users/JustinGrote/following{/other_user}",
      "gists_url": "https://api.github.com/users/JustinGrote/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/JustinGrote",
      "id": 15258962,
      "login": "JustinGrote",
      "node_id": "MDQ6VXNlcjE1MjU4OTYy",
      "organizations_url": "https://api.github.com/users/JustinGrote/orgs",
      "received_events_url": "https://api.github.com/users/JustinGrote/received_events",
      "repos_url": "https://api.github.com/users/JustinGrote/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/JustinGrote/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JustinGrote/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/JustinGrote"
    }
  }
]
