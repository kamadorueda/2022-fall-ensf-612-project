[
  {
    "author_association": "COLLABORATOR",
    "body": "I don't see any reason _not_ to have the function name itself in that AST member. It's kinda weird that it doesn't tbh. ðŸ˜ ",
    "created_at": "2020-04-30T20:56:41Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12540#issuecomment-622107338",
    "id": 622107338,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12540",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjEwNzMzOA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622107338/reactions"
    },
    "updated_at": "2020-04-30T20:56:41Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622107338",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Wait, it is an AST member:\r\n\r\n```\r\n> { function x {} }.Ast.EndBlock.Statements[0]\r\n\r\nIsFilter   : False\r\nIsWorkflow : False\r\nName       : x\r\nParameters :\r\nBody       : {}\r\nExtent     : function x {}\r\nParent     : function x {}\r\n\r\n```\r\n\r\nThe problem I think is a more general one: every time you need to deal with tokens within an AST that aren't themselves ASTs, you're forced to reinvent basic token processing... So `ast.Name` has no extent, meaning you're forced to scan through the tokens looking for it. It would be nice if ASTs came with something like their first token index in the array or something, to allow fast random access.",
    "created_at": "2020-04-30T20:59:03Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12540#issuecomment-622108576",
    "id": 622108576,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12540",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjEwODU3Ng==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622108576/reactions"
    },
    "updated_at": "2020-04-30T20:59:03Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622108576",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7009879?v=4",
      "events_url": "https://api.github.com/users/rjmholt/events{/privacy}",
      "followers_url": "https://api.github.com/users/rjmholt/followers",
      "following_url": "https://api.github.com/users/rjmholt/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjmholt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rjmholt",
      "id": 7009879,
      "login": "rjmholt",
      "node_id": "MDQ6VXNlcjcwMDk4Nzk=",
      "organizations_url": "https://api.github.com/users/rjmholt/orgs",
      "received_events_url": "https://api.github.com/users/rjmholt/received_events",
      "repos_url": "https://api.github.com/users/rjmholt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rjmholt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjmholt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rjmholt"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Ideally I'd like ASTs to come with their own token list, but I suspect that wouldn't be nice for allocation/garbage collection",
    "created_at": "2020-04-30T21:00:51Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12540#issuecomment-622109448",
    "id": 622109448,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12540",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjEwOTQ0OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622109448/reactions"
    },
    "updated_at": "2020-04-30T21:00:51Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622109448",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7009879?v=4",
      "events_url": "https://api.github.com/users/rjmholt/events{/privacy}",
      "followers_url": "https://api.github.com/users/rjmholt/followers",
      "following_url": "https://api.github.com/users/rjmholt/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjmholt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rjmholt",
      "id": 7009879,
      "login": "rjmholt",
      "node_id": "MDQ6VXNlcjcwMDk4Nzk=",
      "organizations_url": "https://api.github.com/users/rjmholt/orgs",
      "received_events_url": "https://api.github.com/users/rjmholt/received_events",
      "repos_url": "https://api.github.com/users/rjmholt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rjmholt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjmholt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rjmholt"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "A list of tokens is probably overkill for most things, but something like `Name` could store the actual token there instead. If that ship has sailed, we could add a `NameToken` member for it.",
    "created_at": "2020-04-30T21:01:50Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12540#issuecomment-622109910",
    "id": 622109910,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12540",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjEwOTkxMA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622109910/reactions"
    },
    "updated_at": "2020-04-30T21:01:50Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622109910",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "MEMBER",
    "body": " @rjmholt `{ function x {} }.Ast.EndBlock.Statements[0]` this doesn't seem to give you the startColumnNumber.",
    "created_at": "2020-04-30T21:03:10Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12540#issuecomment-622110498",
    "id": 622110498,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12540",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjExMDQ5OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622110498/reactions"
    },
    "updated_at": "2020-04-30T21:03:10Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622110498",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/2644648?v=4",
      "events_url": "https://api.github.com/users/TylerLeonhardt/events{/privacy}",
      "followers_url": "https://api.github.com/users/TylerLeonhardt/followers",
      "following_url": "https://api.github.com/users/TylerLeonhardt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TylerLeonhardt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/TylerLeonhardt",
      "id": 2644648,
      "login": "TylerLeonhardt",
      "node_id": "MDQ6VXNlcjI2NDQ2NDg=",
      "organizations_url": "https://api.github.com/users/TylerLeonhardt/orgs",
      "received_events_url": "https://api.github.com/users/TylerLeonhardt/received_events",
      "repos_url": "https://api.github.com/users/TylerLeonhardt/repos",
      "site_admin": true,
      "starred_url": "https://api.github.com/users/TylerLeonhardt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TylerLeonhardt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/TylerLeonhardt"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Try\r\n\r\n```\r\n{ function x {} }.Ast.EndBlock.Statements[0].Extent\r\n```",
    "created_at": "2020-04-30T21:03:34Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12540#issuecomment-622110685",
    "id": 622110685,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12540",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjExMDY4NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622110685/reactions"
    },
    "updated_at": "2020-04-30T21:03:34Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622110685",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7009879?v=4",
      "events_url": "https://api.github.com/users/rjmholt/events{/privacy}",
      "followers_url": "https://api.github.com/users/rjmholt/followers",
      "following_url": "https://api.github.com/users/rjmholt/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjmholt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rjmholt",
      "id": 7009879,
      "login": "rjmholt",
      "node_id": "MDQ6VXNlcjcwMDk4Nzk=",
      "organizations_url": "https://api.github.com/users/rjmholt/orgs",
      "received_events_url": "https://api.github.com/users/rjmholt/received_events",
      "repos_url": "https://api.github.com/users/rjmholt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rjmholt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjmholt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rjmholt"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@rjmholt \r\n\r\n```\r\n{ function x {} }.Ast.EndBlock.Statements[0].Extent.StartColumnNumber\r\n3\r\n```\r\n\r\nThat's not the value I'm looking for :( ",
    "created_at": "2020-04-30T21:04:25Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12540#issuecomment-622111111",
    "id": 622111111,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12540",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjExMTExMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622111111/reactions"
    },
    "updated_at": "2020-04-30T21:04:25Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622111111",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/2644648?v=4",
      "events_url": "https://api.github.com/users/TylerLeonhardt/events{/privacy}",
      "followers_url": "https://api.github.com/users/TylerLeonhardt/followers",
      "following_url": "https://api.github.com/users/TylerLeonhardt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TylerLeonhardt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/TylerLeonhardt",
      "id": 2644648,
      "login": "TylerLeonhardt",
      "node_id": "MDQ6VXNlcjI2NDQ2NDg=",
      "organizations_url": "https://api.github.com/users/TylerLeonhardt/orgs",
      "received_events_url": "https://api.github.com/users/TylerLeonhardt/received_events",
      "repos_url": "https://api.github.com/users/TylerLeonhardt/repos",
      "site_admin": true,
      "starred_url": "https://api.github.com/users/TylerLeonhardt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TylerLeonhardt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/TylerLeonhardt"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Oh sorry, I was responding to this:\r\n\r\n> I don't see any reason not to have the function name itself in that AST member",
    "created_at": "2020-04-30T23:02:50Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12540#issuecomment-622164066",
    "id": 622164066,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12540",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjE2NDA2Ng==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622164066/reactions"
    },
    "updated_at": "2020-04-30T23:02:50Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622164066",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7009879?v=4",
      "events_url": "https://api.github.com/users/rjmholt/events{/privacy}",
      "followers_url": "https://api.github.com/users/rjmholt/followers",
      "following_url": "https://api.github.com/users/rjmholt/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjmholt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rjmholt",
      "id": 7009879,
      "login": "rjmholt",
      "node_id": "MDQ6VXNlcjcwMDk4Nzk=",
      "organizations_url": "https://api.github.com/users/rjmholt/orgs",
      "received_events_url": "https://api.github.com/users/rjmholt/received_events",
      "repos_url": "https://api.github.com/users/rjmholt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rjmholt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjmholt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rjmholt"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "It seems to me that ASTs would ideally have tokens for their properties rather than strings, but that ship has sailed",
    "created_at": "2020-04-30T23:04:07Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12540#issuecomment-622164502",
    "id": 622164502,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12540",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjE2NDUwMg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622164502/reactions"
    },
    "updated_at": "2020-04-30T23:04:07Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622164502",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7009879?v=4",
      "events_url": "https://api.github.com/users/rjmholt/events{/privacy}",
      "followers_url": "https://api.github.com/users/rjmholt/followers",
      "following_url": "https://api.github.com/users/rjmholt/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjmholt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rjmholt",
      "id": 7009879,
      "login": "rjmholt",
      "node_id": "MDQ6VXNlcjcwMDk4Nzk=",
      "organizations_url": "https://api.github.com/users/rjmholt/orgs",
      "received_events_url": "https://api.github.com/users/rjmholt/received_events",
      "repos_url": "https://api.github.com/users/rjmholt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rjmholt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjmholt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rjmholt"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Yeah I've been burned by this a few times as well.  It's especially annoying because of how forgiving the parser is here:\r\n\r\n```\r\nfunction\r\n\r\n\r\ntest\r\n\r\n\r\n{}\r\n```\r\n\r\nI always wished the name was a `StringConstantExpressionAst` of some sort.  Though, the name isn't exactly parsed like most bare word strings so that might be misleading. While not impactful in this exact use case, part of the problem is that the extent text doesn't always match up to the function name. Take this example:\r\n\r\n```powershell\r\n{ function t'est' {} }.Ast.EndBlock.Statements[0]\r\n# IsFilter   : False\r\n# IsWorkflow : False\r\n# Name       : test\r\n# Parameters :\r\n# Body       : {}\r\n# Extent     : function t'est' {}\r\n# Parent     : function t'est' {}\r\n```",
    "created_at": "2020-05-01T02:35:53Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12540#issuecomment-622220316",
    "id": 622220316,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12540",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjIyMDMxNg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 3,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 4,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622220316/reactions"
    },
    "updated_at": "2020-05-01T02:36:19Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622220316",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/24977523?v=4",
      "events_url": "https://api.github.com/users/SeeminglyScience/events{/privacy}",
      "followers_url": "https://api.github.com/users/SeeminglyScience/followers",
      "following_url": "https://api.github.com/users/SeeminglyScience/following{/other_user}",
      "gists_url": "https://api.github.com/users/SeeminglyScience/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SeeminglyScience",
      "id": 24977523,
      "login": "SeeminglyScience",
      "node_id": "MDQ6VXNlcjI0OTc3NTIz",
      "organizations_url": "https://api.github.com/users/SeeminglyScience/orgs",
      "received_events_url": "https://api.github.com/users/SeeminglyScience/received_events",
      "repos_url": "https://api.github.com/users/SeeminglyScience/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SeeminglyScience/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SeeminglyScience/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SeeminglyScience"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Yeah I've been worrying about the extent text too for precisely this reason.\r\n\r\nAn AST seems more appropriate than a token in this case, although it would be nice to have a way to link ASTs and tokens easily...",
    "created_at": "2020-05-01T03:20:05Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12540#issuecomment-622229189",
    "id": 622229189,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12540",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjIyOTE4OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622229189/reactions"
    },
    "updated_at": "2020-05-01T03:20:05Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622229189",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7009879?v=4",
      "events_url": "https://api.github.com/users/rjmholt/events{/privacy}",
      "followers_url": "https://api.github.com/users/rjmholt/followers",
      "following_url": "https://api.github.com/users/rjmholt/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjmholt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rjmholt",
      "id": 7009879,
      "login": "rjmholt",
      "node_id": "MDQ6VXNlcjcwMDk4Nzk=",
      "organizations_url": "https://api.github.com/users/rjmholt/orgs",
      "received_events_url": "https://api.github.com/users/rjmholt/received_events",
      "repos_url": "https://api.github.com/users/rjmholt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rjmholt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjmholt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rjmholt"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "> Yeah I've been burned by this a few times as well.  It's especially annoying because of how forgiving the parser is here:\n> \n> ```\n> function\n> \n> \n> test\n> \n> \n> {}\n> ```\n\nDang... Does this means I have to fix my PR in PSES to take into account newlines? ðŸ˜¢",
    "created_at": "2020-05-01T04:04:12Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12540#issuecomment-622237434",
    "id": 622237434,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12540",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjIzNzQzNA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622237434/reactions"
    },
    "updated_at": "2020-05-01T04:04:12Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622237434",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/2644648?v=4",
      "events_url": "https://api.github.com/users/TylerLeonhardt/events{/privacy}",
      "followers_url": "https://api.github.com/users/TylerLeonhardt/followers",
      "following_url": "https://api.github.com/users/TylerLeonhardt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TylerLeonhardt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/TylerLeonhardt",
      "id": 2644648,
      "login": "TylerLeonhardt",
      "node_id": "MDQ6VXNlcjI2NDQ2NDg=",
      "organizations_url": "https://api.github.com/users/TylerLeonhardt/orgs",
      "received_events_url": "https://api.github.com/users/TylerLeonhardt/received_events",
      "repos_url": "https://api.github.com/users/TylerLeonhardt/repos",
      "site_admin": true,
      "starred_url": "https://api.github.com/users/TylerLeonhardt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TylerLeonhardt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/TylerLeonhardt"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "> An AST seems more appropriate than a token in this case, although it would be nice to have a way to link ASTs and tokens easily...\r\n\r\nYeah if I had a nickle every time that would have come in handy...\r\n\r\nIn EditorServicesCommandSuite I started *sort of* linking these together.  Everything gets passed an object that has:\r\n\r\n1. The AST closest to the cursor\r\n1. A `LinkedList<Token>` node of the token closest to the cursor\r\n\r\nThen a bunch of extension methods to make linking them and searching within an extent easier.  It works, but it's super hacky.  I don't know how much extra GC pressure linking them properly would add, but I'm tempted to say it would be worth it.\r\n\r\n> Dang... Does this means I have to fix my PR in PSES to take into account newlines? ðŸ˜¢\r\n\r\n[Well...](https://media.giphy.com/media/gZGlQX3wWAV1u/giphy.gif)",
    "created_at": "2020-05-01T11:19:03Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12540#issuecomment-622349678",
    "id": 622349678,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12540",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjM0OTY3OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 1,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622349678/reactions"
    },
    "updated_at": "2020-05-01T11:19:03Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622349678",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/24977523?v=4",
      "events_url": "https://api.github.com/users/SeeminglyScience/events{/privacy}",
      "followers_url": "https://api.github.com/users/SeeminglyScience/followers",
      "following_url": "https://api.github.com/users/SeeminglyScience/following{/other_user}",
      "gists_url": "https://api.github.com/users/SeeminglyScience/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SeeminglyScience",
      "id": 24977523,
      "login": "SeeminglyScience",
      "node_id": "MDQ6VXNlcjI0OTc3NTIz",
      "organizations_url": "https://api.github.com/users/SeeminglyScience/orgs",
      "received_events_url": "https://api.github.com/users/SeeminglyScience/received_events",
      "repos_url": "https://api.github.com/users/SeeminglyScience/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SeeminglyScience/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SeeminglyScience/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SeeminglyScience"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "Putting this code here for anyone else who stumbles upon this issue but also wants the start column and line of the _actual_ function name:\r\n\r\n```csharp\r\n        private static (int, int) GetStartColumnAndLineNumbersFromAst(FunctionDefinitionAst ast)\r\n        {\r\n            int startColumnNumber = ast.Extent.StartColumnNumber;\r\n            int startLineNumber = ast.Extent.StartLineNumber;\r\n            int astOffset = 0;\r\n\r\n            if (ast.IsFilter)\r\n            {\r\n                astOffset = \"filter\".Length;\r\n            }\r\n            else if (ast.IsWorkflow)\r\n            {\r\n                astOffset = \"workflow\".Length;\r\n            }\r\n            else\r\n            {\r\n                astOffset = \"function\".Length;\r\n            }\r\n\r\n            string astText = ast.Extent.Text;\r\n            // The line offset represents the offset on the line that we're on where as\r\n            // astOffset is the offset on the entire text of the AST.\r\n            int lineOffset = astOffset;\r\n            for (; astOffset < astText.Length; astOffset++, lineOffset++)\r\n            {\r\n                if (astText[astOffset] == '\\n')\r\n                {\r\n                    // reset numbers since we are operating on a different line and increment the line number.\r\n                    startColumnNumber = 0;\r\n                    startLineNumber++;\r\n                    lineOffset = 0;\r\n                }\r\n                else if (astText[astOffset] == '\\r')\r\n                {\r\n                    // Do nothing with carriage returns... we only look for line feeds since those\r\n                    // are used on every platform.\r\n                }\r\n                else if (!char.IsWhiteSpace(astText[astOffset]))\r\n                {\r\n                    // This is the start of the function name so we've found our start column and line number.\r\n                    break;\r\n                }\r\n            }\r\n\r\n            return (startColumnNumber + lineOffset, startLineNumber);\r\n        }",
    "created_at": "2020-05-01T20:01:21Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12540#issuecomment-622541947",
    "id": 622541947,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12540",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjU0MTk0Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622541947/reactions"
    },
    "updated_at": "2020-05-01T20:01:21Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/622541947",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/2644648?v=4",
      "events_url": "https://api.github.com/users/TylerLeonhardt/events{/privacy}",
      "followers_url": "https://api.github.com/users/TylerLeonhardt/followers",
      "following_url": "https://api.github.com/users/TylerLeonhardt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TylerLeonhardt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/TylerLeonhardt",
      "id": 2644648,
      "login": "TylerLeonhardt",
      "node_id": "MDQ6VXNlcjI2NDQ2NDg=",
      "organizations_url": "https://api.github.com/users/TylerLeonhardt/orgs",
      "received_events_url": "https://api.github.com/users/TylerLeonhardt/received_events",
      "repos_url": "https://api.github.com/users/TylerLeonhardt/repos",
      "site_admin": true,
      "starred_url": "https://api.github.com/users/TylerLeonhardt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TylerLeonhardt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/TylerLeonhardt"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "If we enhanced AST with the name extent what about backward compatibility? No problems?\r\n",
    "created_at": "2020-05-05T07:27:31Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/12540#issuecomment-623897923",
    "id": 623897923,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/12540",
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzg5NzkyMw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/623897923/reactions"
    },
    "updated_at": "2020-05-05T07:27:31Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/623897923",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  }
]
