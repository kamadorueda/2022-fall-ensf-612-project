[
  {
    "author_association": "COLLABORATOR",
    "body": "In scalar operations, this difference is is effectively unnoticeable since `AutomationNull` gets converted to `$null` in a value context:\r\n```\r\nPS[1] (154) > (1)[1] -eq $null\r\nTrue\r\n```\r\nHowever in an array operation, `AutomationNull` is treated like an empty array so this `1,2,3 + (1)[1]` results in an array of three elements and  this `1,2,3 + @(1)[1]` results in an array with 4 elements.\r\n\r\nI'm on the fence as to which is the \"better\" behaviour (note: strict mode prevents out-of-bound indexing but with different errors for arrays (out-of-bounds) and scalars ('Unable to index into an object of type System.Int32.'))\r\n\r\nAlso, if this affects many people, we don't want to change things due to the risk of breaking them. And if it doesn't affect anyone then it doesn't matter whether we change it or not (other than the 'ick' factor of course.)\r\n",
    "created_at": "2018-05-13T22:42:02Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/6823#issuecomment-388661361",
    "id": 388661361,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/6823",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODY2MTM2MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/388661361/reactions"
    },
    "updated_at": "2018-05-13T22:42:02Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/388661361",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6876108?v=4",
      "events_url": "https://api.github.com/users/BrucePay/events{/privacy}",
      "followers_url": "https://api.github.com/users/BrucePay/followers",
      "following_url": "https://api.github.com/users/BrucePay/following{/other_user}",
      "gists_url": "https://api.github.com/users/BrucePay/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/BrucePay",
      "id": 6876108,
      "login": "BrucePay",
      "node_id": "MDQ6VXNlcjY4NzYxMDg=",
      "organizations_url": "https://api.github.com/users/BrucePay/orgs",
      "received_events_url": "https://api.github.com/users/BrucePay/received_events",
      "repos_url": "https://api.github.com/users/BrucePay/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/BrucePay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BrucePay/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/BrucePay"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "That's helpful background information, @BrucePay.\r\n\r\n---\r\n\r\nLeaving backward-compatibility issues aside:\r\n\r\n> I'm on the fence as to which is the \"better\" behaviour\r\n\r\nWhile it's fundamentally tricky to speculate about the properties of nonexistent entities, I think it makes more sense to think of the elements of an array as _scalars_ by default (rather than assuming _nesting_ of arrays).\r\n\r\nSince `$null` is the _scalar_ \"not-a-value\", it makes sense to me to default to that and to confine `[System.Management.Automation.Internal.AutomationNull]::Value` - the \"null _collection_\" , the \"no-values-to-enumerate\" value - to situations where _collections_ are expected.\r\n\r\n---\r\n\r\nAs for backward compatibility:\r\n\r\n> Also, if this affects many people, we don't want to change things due to the risk of breaking them.\r\n\r\nAt least to me it's hard to see how someone would have found value in the current behavior and therefore _relied_ on it, especially given its inconsistency.\r\n\r\nIn short: probably a [Bucket 3: Unlikely Grey Area](https://github.com/PowerShell/PowerShell/blob/master/docs/dev-process/breaking-change-contract.md#bucket-3-unlikely-grey-area) change (though that is just a _guess_).\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "created_at": "2018-05-14T15:51:16Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/6823#issuecomment-388866832",
    "id": 388866832,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/6823",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODg2NjgzMg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/388866832/reactions"
    },
    "updated_at": "2018-05-14T15:55:19Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/388866832",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@mklement0 Yes - bucket is 3 probably right. Which also means that fixing it won't impact people much either way - no breaks but little benefit. Still - it would be nice to be consistent.  ",
    "created_at": "2018-06-01T22:18:57Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/6823#issuecomment-394024321",
    "id": 394024321,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/6823",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDAyNDMyMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/394024321/reactions"
    },
    "updated_at": "2018-06-06T00:59:31Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/394024321",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6876108?v=4",
      "events_url": "https://api.github.com/users/BrucePay/events{/privacy}",
      "followers_url": "https://api.github.com/users/BrucePay/followers",
      "following_url": "https://api.github.com/users/BrucePay/following{/other_user}",
      "gists_url": "https://api.github.com/users/BrucePay/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/BrucePay",
      "id": 6876108,
      "login": "BrucePay",
      "node_id": "MDQ6VXNlcjY4NzYxMDg=",
      "organizations_url": "https://api.github.com/users/BrucePay/orgs",
      "received_events_url": "https://api.github.com/users/BrucePay/received_events",
      "repos_url": "https://api.github.com/users/BrucePay/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/BrucePay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BrucePay/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/BrucePay"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@BrucePay:\r\n\r\n> Still - it would be nice to be consistent.\r\n\r\nIndeed, and the corollaries of that are:\r\n\r\n* no head-scratching by new users stumbling upon the behavior.\r\n\r\n* no subtle bugs in future code (perhaps unlikely, but definitely possible; e.g., expecting `$var[0], $var[1] | % { \"[$_]\" }` to always output _2_ objects).\r\n\r\n",
    "created_at": "2018-06-01T23:04:10Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/6823#issuecomment-394031376",
    "id": 394031376,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/6823",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDAzMTM3Ng==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/394031376/reactions"
    },
    "updated_at": "2018-06-01T23:04:10Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/394031376",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  }
]
