[
  {
    "author_association": "COLLABORATOR",
    "body": "@markekraus Could you please comment the Issue?",
    "created_at": "2018-10-05T03:39:47Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7945#issuecomment-427236854",
    "id": 427236854,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7945",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNzIzNjg1NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/427236854/reactions"
    },
    "updated_at": "2018-10-05T03:39:47Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/427236854",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "I'm not entirely sure, but this looks like a regression in corefx. dotnet/corefx#28088 changes the way the environment variables are handled. if I'm understanding this correctly, it looks like they will get incorrect URIs for HTTPS_PROXY. `GetUriFromString()` is striping the string of `http://` but not `https://` and then later they depend on `:` being at the end of the host.",
    "created_at": "2018-10-05T11:02:43Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7945#issuecomment-427326804",
    "id": 427326804,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7945",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNzMyNjgwNA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/427326804/reactions"
    },
    "updated_at": "2018-10-05T11:02:43Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/427326804",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6509955?v=4",
      "events_url": "https://api.github.com/users/markekraus/events{/privacy}",
      "followers_url": "https://api.github.com/users/markekraus/followers",
      "following_url": "https://api.github.com/users/markekraus/following{/other_user}",
      "gists_url": "https://api.github.com/users/markekraus/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/markekraus",
      "id": 6509955,
      "login": "markekraus",
      "node_id": "MDQ6VXNlcjY1MDk5NTU=",
      "organizations_url": "https://api.github.com/users/markekraus/orgs",
      "received_events_url": "https://api.github.com/users/markekraus/received_events",
      "repos_url": "https://api.github.com/users/markekraus/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/markekraus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markekraus/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/markekraus"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "ok.. looks like it is a regression but not the one I thought.\r\n\r\n```powershell\r\n$assembly = [System.Net.Http.HttpClientHandler].Assembly\r\n$class = $assembly.GetType('System.Net.Http.HttpEnvironmentProxy')\r\n$method = $class.GetMethod('TryCreate')\r\n$proxy = [System.Net.WebProxy]::new()\r\n$env:HTTPS_PROXY = 'http://webproxy:3128/'\r\n$method.Invoke($null, @($proxy))\r\n```\r\n\r\nShould be `True` but is `False`.\r\n\r\nbut, if you remove the trailing `/` from the proxy it works:\r\n\r\n```powershell\r\n$assembly = [System.Net.Http.HttpClientHandler].Assembly\r\n$class = $assembly.GetType('System.Net.Http.HttpEnvironmentProxy')\r\n$method = $class.GetMethod('TryCreate')\r\n$proxy = [System.Net.WebProxy]::new()\r\n# No trailing slash\r\n$env:HTTPS_PROXY = 'http://webproxy:3128'\r\n$method.Invoke($null, @($proxy))\r\n```\r\n\r\n@ciranor as a work around, set your env vars without the trailing slash.\r\n\r\nWe will need to open an issue with corefx.",
    "created_at": "2018-10-05T11:55:48Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7945#issuecomment-427340143",
    "id": 427340143,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7945",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNzM0MDE0Mw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/427340143/reactions"
    },
    "updated_at": "2018-10-05T11:55:48Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/427340143",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6509955?v=4",
      "events_url": "https://api.github.com/users/markekraus/events{/privacy}",
      "followers_url": "https://api.github.com/users/markekraus/followers",
      "following_url": "https://api.github.com/users/markekraus/following{/other_user}",
      "gists_url": "https://api.github.com/users/markekraus/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/markekraus",
      "id": 6509955,
      "login": "markekraus",
      "node_id": "MDQ6VXNlcjY1MDk5NTU=",
      "organizations_url": "https://api.github.com/users/markekraus/orgs",
      "received_events_url": "https://api.github.com/users/markekraus/received_events",
      "repos_url": "https://api.github.com/users/markekraus/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/markekraus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markekraus/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/markekraus"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "Created dotnet/corefx#32635",
    "created_at": "2018-10-05T12:08:13Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7945#issuecomment-427342865",
    "id": 427342865,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7945",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNzM0Mjg2NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/427342865/reactions"
    },
    "updated_at": "2018-10-05T12:08:13Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/427342865",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6509955?v=4",
      "events_url": "https://api.github.com/users/markekraus/events{/privacy}",
      "followers_url": "https://api.github.com/users/markekraus/followers",
      "following_url": "https://api.github.com/users/markekraus/following{/other_user}",
      "gists_url": "https://api.github.com/users/markekraus/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/markekraus",
      "id": 6509955,
      "login": "markekraus",
      "node_id": "MDQ6VXNlcjY1MDk5NTU=",
      "organizations_url": "https://api.github.com/users/markekraus/orgs",
      "received_events_url": "https://api.github.com/users/markekraus/received_events",
      "repos_url": "https://api.github.com/users/markekraus/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/markekraus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markekraus/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/markekraus"
    }
  },
  {
    "author_association": "NONE",
    "body": "Yes, I can confirm that by removing the trailing slash, Invoke-WebRequest and Connect-AzureRMAccount both work under 6.1.0.\r\n\r\nCheers.",
    "created_at": "2018-10-05T12:42:56Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7945#issuecomment-427353192",
    "id": 427353192,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7945",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNzM1MzE5Mg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/427353192/reactions"
    },
    "updated_at": "2018-10-05T12:42:56Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/427353192",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/1587806?v=4",
      "events_url": "https://api.github.com/users/ciranor/events{/privacy}",
      "followers_url": "https://api.github.com/users/ciranor/followers",
      "following_url": "https://api.github.com/users/ciranor/following{/other_user}",
      "gists_url": "https://api.github.com/users/ciranor/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/ciranor",
      "id": 1587806,
      "login": "ciranor",
      "node_id": "MDQ6VXNlcjE1ODc4MDY=",
      "organizations_url": "https://api.github.com/users/ciranor/orgs",
      "received_events_url": "https://api.github.com/users/ciranor/received_events",
      "repos_url": "https://api.github.com/users/ciranor/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/ciranor/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ciranor/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/ciranor"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@markekraus Could you test with latest build? Currently we moved to .Net Core 2.1.5 and CoreFX fix is there. \r\nI can not run your repo script - `$class = $assembly.GetType('System.Net.Http.HttpEnvironmentProxy')` is empty.",
    "created_at": "2018-10-05T15:13:21Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7945#issuecomment-427399985",
    "id": 427399985,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7945",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNzM5OTk4NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/427399985/reactions"
    },
    "updated_at": "2018-10-05T15:19:16Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/427399985",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@iSazonov `System.Net.Http.HttpEnvironmentProxy` is only available on Linux and macOS. \r\n\r\nI was able to build the latest on ubuntu and confirmed it is fixed with the move to .NET Core 2.1.5",
    "created_at": "2018-10-06T00:37:46Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7945#issuecomment-427532070",
    "id": 427532070,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7945",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNzUzMjA3MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/427532070/reactions"
    },
    "updated_at": "2018-10-06T00:37:46Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/427532070",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6509955?v=4",
      "events_url": "https://api.github.com/users/markekraus/events{/privacy}",
      "followers_url": "https://api.github.com/users/markekraus/followers",
      "following_url": "https://api.github.com/users/markekraus/following{/other_user}",
      "gists_url": "https://api.github.com/users/markekraus/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/markekraus",
      "id": 6509955,
      "login": "markekraus",
      "node_id": "MDQ6VXNlcjY1MDk5NTU=",
      "organizations_url": "https://api.github.com/users/markekraus/orgs",
      "received_events_url": "https://api.github.com/users/markekraus/received_events",
      "repos_url": "https://api.github.com/users/markekraus/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/markekraus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markekraus/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/markekraus"
    }
  }
]
