[
  {
    "author_association": "COLLABORATOR",
    "body": "Duplicate of #10967",
    "created_at": "2022-04-08T00:48:31Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17122#issuecomment-1092333294",
    "id": 1092333294,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17122",
    "node_id": "IC_kwDOAvT7bc5BG67u",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1092333294/reactions"
    },
    "updated_at": "2022-04-08T00:48:31Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1092333294",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/24977523?v=4",
      "events_url": "https://api.github.com/users/SeeminglyScience/events{/privacy}",
      "followers_url": "https://api.github.com/users/SeeminglyScience/followers",
      "following_url": "https://api.github.com/users/SeeminglyScience/following{/other_user}",
      "gists_url": "https://api.github.com/users/SeeminglyScience/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SeeminglyScience",
      "id": 24977523,
      "login": "SeeminglyScience",
      "node_id": "MDQ6VXNlcjI0OTc3NTIz",
      "organizations_url": "https://api.github.com/users/SeeminglyScience/orgs",
      "received_events_url": "https://api.github.com/users/SeeminglyScience/received_events",
      "repos_url": "https://api.github.com/users/SeeminglyScience/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SeeminglyScience/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SeeminglyScience/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SeeminglyScience"
    }
  },
  {
    "author_association": "NONE",
    "body": "well actually through the duplicate i found that in this way works:\r\n```powershell\r\n $host.Version | Where-Object {$_.Major -eq 7} && $(exit 1)\r\n\r\nMajor  Minor  Build  Revision\r\n-----  -----  -----  --------\r\n7      2      2      -1\r\n\r\n[process exited with code 1 (0x00000001)]\r\n```\r\n\r\nso, yes it could be more a design discusion rather than a bug.\r\n\r\nI am closing this ticket as i am not considering it a bug anymore, but rather it was my lack of knowledge in PS. :) ",
    "created_at": "2022-04-08T08:19:45Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17122#issuecomment-1092588133",
    "id": 1092588133,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17122",
    "node_id": "IC_kwDOAvT7bc5BH5Jl",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1092588133/reactions"
    },
    "updated_at": "2022-04-08T08:20:41Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1092588133",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/1850902?v=4",
      "events_url": "https://api.github.com/users/Raffaello/events{/privacy}",
      "followers_url": "https://api.github.com/users/Raffaello/followers",
      "following_url": "https://api.github.com/users/Raffaello/following{/other_user}",
      "gists_url": "https://api.github.com/users/Raffaello/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/Raffaello",
      "id": 1850902,
      "login": "Raffaello",
      "node_id": "MDQ6VXNlcjE4NTA5MDI=",
      "organizations_url": "https://api.github.com/users/Raffaello/orgs",
      "received_events_url": "https://api.github.com/users/Raffaello/received_events",
      "repos_url": "https://api.github.com/users/Raffaello/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/Raffaello/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Raffaello/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/Raffaello"
    }
  },
  {
    "author_association": "NONE",
    "body": "What comes after && must be a valid as pipeline so  if/while/do/switch/exit/return statements won't work - There's plenty at #10967 but if it doesn't work with the |  it won't work with || or &&\r\n\r\nI was about to post the $()  solution but as I was typing your reply appeared \r\n\r\nYou do realise that where-object _successfully_ running includes returning _nothing_ so the right hand side always runs in your example :-)  \r\n\r\n\r\n\r\n\r\n",
    "created_at": "2022-04-08T08:31:51Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17122#issuecomment-1092598772",
    "id": 1092598772,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17122",
    "node_id": "IC_kwDOAvT7bc5BH7v0",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1092598772/reactions"
    },
    "updated_at": "2022-04-08T08:31:51Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1092598772",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/16209593?v=4",
      "events_url": "https://api.github.com/users/jhoneill/events{/privacy}",
      "followers_url": "https://api.github.com/users/jhoneill/followers",
      "following_url": "https://api.github.com/users/jhoneill/following{/other_user}",
      "gists_url": "https://api.github.com/users/jhoneill/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jhoneill",
      "id": 16209593,
      "login": "jhoneill",
      "node_id": "MDQ6VXNlcjE2MjA5NTkz",
      "organizations_url": "https://api.github.com/users/jhoneill/orgs",
      "received_events_url": "https://api.github.com/users/jhoneill/received_events",
      "repos_url": "https://api.github.com/users/jhoneill/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jhoneill/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jhoneill/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jhoneill"
    }
  },
  {
    "author_association": "NONE",
    "body": "> What comes after && must be a valid as pipeline so if/while/do/switch/exit/return statements won't work - There's plenty at #10967 but if it doesn't work with the | it won't work with || or &&\r\n> \r\n> I was about to post the $() solution but as I was typing your reply appeared\r\n> \r\n> You do realise that where-object _successfully_ running includes returning _nothing_ so the right hand side always runs in your example :-)\r\n\r\nyeah right. My example it was really too much Bash biased. \r\nBut i tried different exmaples also wrapping the whole expression and using count etc, but thre is no way to make return error code or something if something you are looking for is missing, it will be just missing and operation succesful.\r\nthe only way is to have multiple lines to achieve the same result so that operator `&&` is quite not so much useful yet, but still nice introduction in v7.\r\n\r\nin brief:\r\nUsing powershell for some simple operations to return != 0 to report something not ok, it is really challenging or might be verbose.\r\n\r\nBut it could be also the case that I have still a lot to learn around PS. ðŸ˜„ \r\n\r\n@jhoneill   \r\ndo you know, based on my silly example, how to achieve that kind of results?\r\nfor eg, when powershell is major version 7 return an exit code of 1.\r\n\r\n\r\n",
    "created_at": "2022-04-08T09:13:25Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17122#issuecomment-1092634880",
    "id": 1092634880,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17122",
    "node_id": "IC_kwDOAvT7bc5BIEkA",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1092634880/reactions"
    },
    "updated_at": "2022-04-08T09:13:25Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1092634880",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/1850902?v=4",
      "events_url": "https://api.github.com/users/Raffaello/events{/privacy}",
      "followers_url": "https://api.github.com/users/Raffaello/followers",
      "following_url": "https://api.github.com/users/Raffaello/following{/other_user}",
      "gists_url": "https://api.github.com/users/Raffaello/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/Raffaello",
      "id": 1850902,
      "login": "Raffaello",
      "node_id": "MDQ6VXNlcjE4NTA5MDI=",
      "organizations_url": "https://api.github.com/users/Raffaello/orgs",
      "received_events_url": "https://api.github.com/users/Raffaello/received_events",
      "repos_url": "https://api.github.com/users/Raffaello/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/Raffaello/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Raffaello/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/Raffaello"
    }
  },
  {
    "author_association": "NONE",
    "body": "I'd use an if  - anything which isn't null, 0, empty or $false will be treated as true. (So it's rare to need .count etc)\r\n \r\n`if ($host.Version.Major -eq 7) { exit 1 }`   \r\nor better\r\n`if ($host.Version -ge 6.0.0 ) { exit 1 }`   \r\n\r\nThis will exit if the version is 5.0, 6.0, or 7.0\r\n`if (-not $host.Version.Minor) { exit 1 }`   \r\n\r\nIf it is something complicated I can put a pipeline in the () \r\n\r\n`if ($host.Version | Where-Object {$_.Major -eq 7}) { exit 1 } `\r\n\r\nThis pattern is quite common\r\n``` $fileList = get-item *.ps1```\r\n```if (-not $fileList)   ```\r\nfollowed by  one of\r\n``` \r\n{Write-Warning \"No files \" ; return}\r\n{throw \"no files\" }\r\n{exit 2}  # error for 'file not found'\r\n```\r\nand then \r\n```\r\nforeach ($f in $fileList}\r\n```\r\n\r\nExit as some strange behaviour  have a look at the end of this which I wrote after someone I was talking to was going made working out  why they didn't get an exit code back.   https://jhoneill.github.io/powershell/2019/08/21/ExitThrowReturnEtc.html \r\n\r\n\r\n\n\n<blockquote><img src=\"/assets/james.jpg\" width=\"48\" align=\"right\"><div><strong><a href=\"https://jhoneill.github.io/powershell/2019/08/21/ExitThrowReturnEtc.html\">Exit, Throw, Return, Break and Continue. A Round up.</a></strong></div><div>PowerShell (or PWSH if you prefer). Devops (especially Azure Devops), Photography, and general thoughts</div></blockquote>",
    "created_at": "2022-04-08T10:11:58Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/17122#issuecomment-1092701815",
    "id": 1092701815,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/17122",
    "node_id": "IC_kwDOAvT7bc5BIU53",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 1,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 2,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1092701815/reactions"
    },
    "updated_at": "2022-04-08T10:12:00Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1092701815",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/16209593?v=4",
      "events_url": "https://api.github.com/users/jhoneill/events{/privacy}",
      "followers_url": "https://api.github.com/users/jhoneill/followers",
      "following_url": "https://api.github.com/users/jhoneill/following{/other_user}",
      "gists_url": "https://api.github.com/users/jhoneill/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jhoneill",
      "id": 16209593,
      "login": "jhoneill",
      "node_id": "MDQ6VXNlcjE2MjA5NTkz",
      "organizations_url": "https://api.github.com/users/jhoneill/orgs",
      "received_events_url": "https://api.github.com/users/jhoneill/received_events",
      "repos_url": "https://api.github.com/users/jhoneill/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jhoneill/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jhoneill/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jhoneill"
    }
  }
]
