[
  {
    "author_association": "COLLABORATOR",
    "body": "@TiloGit What exactly do you mean by 'PreAuthenticate' Can you explain your scenario?",
    "created_at": "2018-11-07T17:55:47Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8202#issuecomment-436717061",
    "id": 436717061,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8202",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjcxNzA2MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/436717061/reactions"
    },
    "updated_at": "2018-11-07T17:55:47Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/436717061",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/19415881?v=4",
      "events_url": "https://api.github.com/users/sdwheeler/events{/privacy}",
      "followers_url": "https://api.github.com/users/sdwheeler/followers",
      "following_url": "https://api.github.com/users/sdwheeler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sdwheeler/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/sdwheeler",
      "id": 19415881,
      "login": "sdwheeler",
      "node_id": "MDQ6VXNlcjE5NDE1ODgx",
      "organizations_url": "https://api.github.com/users/sdwheeler/orgs",
      "received_events_url": "https://api.github.com/users/sdwheeler/received_events",
      "repos_url": "https://api.github.com/users/sdwheeler/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/sdwheeler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sdwheeler/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/sdwheeler"
    }
  },
  {
    "author_association": "NONE",
    "body": "got a situation where manual build the header works for auth but via -Credential doensn't. I think that is related to -Credential only do auth when 401 response is received. \r\nsee here: \r\nhttps://weblog.west-wind.com/posts/2010/Feb/18/NET-WebRequestPreAuthenticate-not-quite-what-it-sounds-like\r\n\r\nI try to force Credential to send auth in first request. ",
    "created_at": "2018-11-07T19:48:07Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8202#issuecomment-436754096",
    "id": 436754096,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8202",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjc1NDA5Ng==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/436754096/reactions"
    },
    "updated_at": "2018-11-07T19:48:07Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/436754096",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6953606?v=4",
      "events_url": "https://api.github.com/users/TiloGit/events{/privacy}",
      "followers_url": "https://api.github.com/users/TiloGit/followers",
      "following_url": "https://api.github.com/users/TiloGit/following{/other_user}",
      "gists_url": "https://api.github.com/users/TiloGit/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/TiloGit",
      "id": 6953606,
      "login": "TiloGit",
      "node_id": "MDQ6VXNlcjY5NTM2MDY=",
      "organizations_url": "https://api.github.com/users/TiloGit/orgs",
      "received_events_url": "https://api.github.com/users/TiloGit/received_events",
      "repos_url": "https://api.github.com/users/TiloGit/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/TiloGit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TiloGit/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/TiloGit"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@TiloGit following the example in the article, currently you would have to create the appropriate `Authorization` header and use like:\r\n\r\n```powershell\r\ninvoke-webrequest -headers @{authorization=$myauthheader} $url\r\n```\r\n\r\nI believe `-Credential` only works on the 401 response.\r\n\r\nIt doesn't seem that there are many websites that require pre-auth, however, implementing this should be pretty straight forward if only BASIC auth is required.",
    "created_at": "2018-11-08T02:18:15Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8202#issuecomment-436849385",
    "id": 436849385,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8202",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjg0OTM4NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/436849385/reactions"
    },
    "updated_at": "2018-11-08T02:18:15Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/436849385",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "NONE",
    "body": "The [comment from Jon Hanna](https://weblog.west-wind.com/posts/2010/Feb/18/NET-WebRequestPreAuthenticate-not-quite-what-it-sounds-like#cmt_709615) on Rick Strahl's article raises a good point too. Waiting for a 401 is the best default. That 401 could offer digest auth, but you've lost that security gain if you've already sent basic credentials.\r\n\r\nPerhaps sending the basic credentials upfront could be a switch parameter, e.g. `-PreemptBasicAuth`, with documentation explaining the use case. It should only take effect if `-Authentication Basic` is specified, since it would compromise any other non-encrypted auth scheme, e.g. Digest. \r\n\r\nI'll have a go at this. ",
    "created_at": "2018-11-18T08:36:14Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8202#issuecomment-439676429",
    "id": 439676429,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8202",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTY3NjQyOQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/439676429/reactions"
    },
    "updated_at": "2018-11-18T09:06:25Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/439676429",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/ghost",
      "id": 10137,
      "login": "ghost",
      "node_id": "MDQ6VXNlcjEwMTM3",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/ghost"
    }
  },
  {
    "author_association": "NONE",
    "body": "Has this been addressed recently?\r\n\r\nJust tried `Invoke-WebRequest -Uri google.com -AllowUnencryptedAuthentication -Authentication Basic -Credential (Get-Credential)` and Wireshark displayed the following in the first packet sent. \r\n\r\n![image](https://user-images.githubusercontent.com/36614708/49081914-ffc4c500-f293-11e8-88a0-ea32a8ea04f5.png)\r\n\r\nI followed this through in a debugger as well and it appears that the credentials were sent immediately. ",
    "created_at": "2018-11-27T12:30:42Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8202#issuecomment-442041550",
    "id": 442041550,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8202",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MjA0MTU1MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/442041550/reactions"
    },
    "updated_at": "2018-11-27T12:30:42Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/442041550",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/ghost",
      "id": 10137,
      "login": "ghost",
      "node_id": "MDQ6VXNlcjEwMTM3",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/ghost"
    }
  },
  {
    "author_association": "NONE",
    "body": "Hi, don't have PS 6 around, so can't test with \"-AllowUnencryptedAuthentication -Authentication Basic\"",
    "created_at": "2018-11-27T21:41:01Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8202#issuecomment-442227589",
    "id": 442227589,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8202",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MjIyNzU4OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/442227589/reactions"
    },
    "updated_at": "2018-11-27T21:41:01Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/442227589",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6953606?v=4",
      "events_url": "https://api.github.com/users/TiloGit/events{/privacy}",
      "followers_url": "https://api.github.com/users/TiloGit/followers",
      "following_url": "https://api.github.com/users/TiloGit/following{/other_user}",
      "gists_url": "https://api.github.com/users/TiloGit/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/TiloGit",
      "id": 6953606,
      "login": "TiloGit",
      "node_id": "MDQ6VXNlcjY5NTM2MDY=",
      "organizations_url": "https://api.github.com/users/TiloGit/orgs",
      "received_events_url": "https://api.github.com/users/TiloGit/received_events",
      "repos_url": "https://api.github.com/users/TiloGit/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/TiloGit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TiloGit/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/TiloGit"
    }
  },
  {
    "author_association": "NONE",
    "body": "tested on PS 611 and seems fine with new options:  \"-AllowUnencryptedAuthentication -Authentication Basic\"\r\nPS C:\\tools> $PSVersionTable\r\n\r\n> Name                           Value\r\n> PSVersion                      6.1.1\r\n> PSEdition                      Core\r\n> GitCommitId                    6.1.1\r\n> OS                             Microsoft Windows 6.3.9600\r\n> Platform                       Win32NT\r\n> PSCompatibleVersions           {1.0, 2.0, 3.0, 4.0...}\r\n> PSRemotingProtocolVersion      2.3\r\n> SerializationVersion           1.1.0.1\r\n> WSManStackVersion              3.0",
    "created_at": "2018-11-27T22:50:17Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8202#issuecomment-442248534",
    "id": 442248534,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8202",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MjI0ODUzNA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/442248534/reactions"
    },
    "updated_at": "2018-11-27T22:50:17Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/442248534",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6953606?v=4",
      "events_url": "https://api.github.com/users/TiloGit/events{/privacy}",
      "followers_url": "https://api.github.com/users/TiloGit/followers",
      "following_url": "https://api.github.com/users/TiloGit/following{/other_user}",
      "gists_url": "https://api.github.com/users/TiloGit/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/TiloGit",
      "id": 6953606,
      "login": "TiloGit",
      "node_id": "MDQ6VXNlcjY5NTM2MDY=",
      "organizations_url": "https://api.github.com/users/TiloGit/orgs",
      "received_events_url": "https://api.github.com/users/TiloGit/received_events",
      "repos_url": "https://api.github.com/users/TiloGit/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/TiloGit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TiloGit/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/TiloGit"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@lukexjeremy provided the answer. We added explicit authentication in v 6.0.0. Closing issue.",
    "created_at": "2018-11-28T13:13:22Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8202#issuecomment-442442000",
    "id": 442442000,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8202",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MjQ0MjAwMA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/442442000/reactions"
    },
    "updated_at": "2018-11-28T13:13:22Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/442442000",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/6509955?v=4",
      "events_url": "https://api.github.com/users/markekraus/events{/privacy}",
      "followers_url": "https://api.github.com/users/markekraus/followers",
      "following_url": "https://api.github.com/users/markekraus/following{/other_user}",
      "gists_url": "https://api.github.com/users/markekraus/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/markekraus",
      "id": 6509955,
      "login": "markekraus",
      "node_id": "MDQ6VXNlcjY1MDk5NTU=",
      "organizations_url": "https://api.github.com/users/markekraus/orgs",
      "received_events_url": "https://api.github.com/users/markekraus/received_events",
      "repos_url": "https://api.github.com/users/markekraus/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/markekraus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/markekraus/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/markekraus"
    }
  }
]
