[
  {
    "author_association": "CONTRIBUTOR",
    "body": "@SteveL-MSFT or @joeyaiello - any way to find out where to get this issue filed with whomever supports Azure Custom Script Extensions?",
    "created_at": "2017-11-16T18:10:24Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5479#issuecomment-345009274",
    "id": 345009274,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5479",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTAwOTI3NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/345009274/reactions"
    },
    "updated_at": "2017-11-16T18:10:24Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/345009274",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11597190?v=4",
      "events_url": "https://api.github.com/users/DarwinJS/events{/privacy}",
      "followers_url": "https://api.github.com/users/DarwinJS/followers",
      "following_url": "https://api.github.com/users/DarwinJS/following{/other_user}",
      "gists_url": "https://api.github.com/users/DarwinJS/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/DarwinJS",
      "id": 11597190,
      "login": "DarwinJS",
      "node_id": "MDQ6VXNlcjExNTk3MTkw",
      "organizations_url": "https://api.github.com/users/DarwinJS/orgs",
      "received_events_url": "https://api.github.com/users/DarwinJS/received_events",
      "repos_url": "https://api.github.com/users/DarwinJS/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/DarwinJS/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DarwinJS/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/DarwinJS"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@DarwinJS I think this should be an issue in https://github.com/dotnet/corefx as from what you wrote it appears they are just making assumption about the home path and appending what would exist for a normal user account, but not correct for a system account.",
    "created_at": "2017-11-16T22:35:10Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5479#issuecomment-345085057",
    "id": 345085057,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5479",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTA4NTA1Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/345085057/reactions"
    },
    "updated_at": "2017-11-16T22:35:10Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/345085057",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@SteveL-MSFT - that is the path generated by the .NET api [System.IO.Path]::GetTempFileName() - but I've only had complaints when running under Azure Custom Script Extensions.  So I'm wondering if the Custom Script Extensions do additional sandboxing?",
    "created_at": "2017-11-16T22:50:04Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5479#issuecomment-345088443",
    "id": 345088443,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5479",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTA4ODQ0Mw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/345088443/reactions"
    },
    "updated_at": "2017-11-16T22:50:04Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/345088443",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11597190?v=4",
      "events_url": "https://api.github.com/users/DarwinJS/events{/privacy}",
      "followers_url": "https://api.github.com/users/DarwinJS/followers",
      "following_url": "https://api.github.com/users/DarwinJS/following{/other_user}",
      "gists_url": "https://api.github.com/users/DarwinJS/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/DarwinJS",
      "id": 11597190,
      "login": "DarwinJS",
      "node_id": "MDQ6VXNlcjExNTk3MTkw",
      "organizations_url": "https://api.github.com/users/DarwinJS/orgs",
      "received_events_url": "https://api.github.com/users/DarwinJS/received_events",
      "repos_url": "https://api.github.com/users/DarwinJS/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/DarwinJS/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DarwinJS/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/DarwinJS"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@DarwinJS that I don't know, but I thought you said that the generated path doesn't actually exist?  I would expect that API to provide valid paths.",
    "created_at": "2017-11-16T23:30:37Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5479#issuecomment-345096935",
    "id": 345096935,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5479",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTA5NjkzNQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/345096935/reactions"
    },
    "updated_at": "2017-11-16T23:30:37Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/345096935",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@stevel-msft - the error says \"part of the path can't be *located*\"  - but if there is some type of process level sandboxing going on it could result in such an error.  The API only returns a temporary file name that it checks does not exist - I suspect it is the first attempt to use the file that causes the problem.  I would expect  proper operations as  well, however, the fact the temp file name API only checks for non existence combined with possible sandboxing specific to Azure Custom Script Extensions could feasibly produce this outcome. I had to remove this same call from my code for the same issue and now it is happening in opensshutils.psm1 - but only under Azure Custom Script Extensions.  I have two reports of it under Azure Custom Script Extensions.\r\n\r\nSo I think it would be the team responsible for the Azure part that should look into it as they would be knowledgeable about any process level sandboxing that might be in play.",
    "created_at": "2017-11-17T01:49:06Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5479#issuecomment-345120791",
    "id": 345120791,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5479",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTEyMDc5MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/345120791/reactions"
    },
    "updated_at": "2017-11-17T01:49:06Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/345120791",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11597190?v=4",
      "events_url": "https://api.github.com/users/DarwinJS/events{/privacy}",
      "followers_url": "https://api.github.com/users/DarwinJS/followers",
      "following_url": "https://api.github.com/users/DarwinJS/following{/other_user}",
      "gists_url": "https://api.github.com/users/DarwinJS/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/DarwinJS",
      "id": 11597190,
      "login": "DarwinJS",
      "node_id": "MDQ6VXNlcjExNTk3MTkw",
      "organizations_url": "https://api.github.com/users/DarwinJS/orgs",
      "received_events_url": "https://api.github.com/users/DarwinJS/received_events",
      "repos_url": "https://api.github.com/users/DarwinJS/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/DarwinJS/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DarwinJS/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/DarwinJS"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "cc @joeyaiello if he can find the PM who owns Azure Custom Script Extensions",
    "created_at": "2017-11-17T02:19:31Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/5479#issuecomment-345125690",
    "id": 345125690,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/5479",
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTEyNTY5MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/345125690/reactions"
    },
    "updated_at": "2017-11-17T02:19:31Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/345125690",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  }
]
