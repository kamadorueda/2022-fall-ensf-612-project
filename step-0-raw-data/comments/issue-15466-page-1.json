[
  {
    "author_association": "COLLABORATOR",
    "body": "Why conditionally add `\\\\?\\` if it exceeds max path, if we control what APIs are called then we should always add that prefix. The benefit there is you are always running the same code even for short paths rather than sometimes testing this edge case.\r\n\r\nYou also need to be careful when dealing with UNC paths, the prefix is `\\\\?\\UNC\\$server\\$share` so just prefixing isn’t enough here.",
    "created_at": "2021-05-26T23:11:13Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15466#issuecomment-849179029",
    "id": 849179029,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15466",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0OTE3OTAyOQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/849179029/reactions"
    },
    "updated_at": "2021-05-26T23:11:13Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/849179029",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/8462645?v=4",
      "events_url": "https://api.github.com/users/jborean93/events{/privacy}",
      "followers_url": "https://api.github.com/users/jborean93/followers",
      "following_url": "https://api.github.com/users/jborean93/following{/other_user}",
      "gists_url": "https://api.github.com/users/jborean93/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jborean93",
      "id": 8462645,
      "login": "jborean93",
      "node_id": "MDQ6VXNlcjg0NjI2NDU=",
      "organizations_url": "https://api.github.com/users/jborean93/orgs",
      "received_events_url": "https://api.github.com/users/jborean93/received_events",
      "repos_url": "https://api.github.com/users/jborean93/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jborean93/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jborean93/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jborean93"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Also while PowerShell’s location can probably be fine with paths that exceed MAX_PATH I’ve encountered problems in the past with trying to set a long path to the process’ working dir. I don’t think that’s something powershell can change and might cause unknown problems down the line when spawning new processes from powershell that inherit from the file system location (not 100% sure if it actually does today).",
    "created_at": "2021-05-26T23:14:26Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15466#issuecomment-849180240",
    "id": 849180240,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15466",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0OTE4MDI0MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/849180240/reactions"
    },
    "updated_at": "2021-05-26T23:38:43Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/849180240",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/8462645?v=4",
      "events_url": "https://api.github.com/users/jborean93/events{/privacy}",
      "followers_url": "https://api.github.com/users/jborean93/followers",
      "following_url": "https://api.github.com/users/jborean93/following{/other_user}",
      "gists_url": "https://api.github.com/users/jborean93/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jborean93",
      "id": 8462645,
      "login": "jborean93",
      "node_id": "MDQ6VXNlcjg0NjI2NDU=",
      "organizations_url": "https://api.github.com/users/jborean93/orgs",
      "received_events_url": "https://api.github.com/users/jborean93/received_events",
      "repos_url": "https://api.github.com/users/jborean93/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jborean93/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jborean93/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jborean93"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Sounds like we could use your review on the next PR to fix this @jborean93. (It's still in draft for a reason though)\r\n\r\n> You also need to be careful when dealing with UNC paths, the prefix is \\\\?\\UNC\\$server\\$share so just prefixing isn’t enough here.\r\n\r\nGood to know\r\n\r\n> Why conditionally add \\\\?\\ if it exceeds max path, if we control what APIs are called then we should always add that prefix\r\n\r\nThat suggestion was just based on a principle of minimal perturbation. But if `FindFirstFileExW` is always going to succeed there, then that seems reasonable.\r\n\r\n> Also while PowerShell’s location can probably be fine with paths that exceed MAX_PATH I’ve encountered problems in the past with trying to set a long path to the process’ working dir\r\n\r\nYeah, in this case I think the issue is due to us calling the Windows API directly in an attempt to work around OneDrive weirdness. In the process case, I think .NET does a lot more under the hood (as it does in the `Path` APIs).\r\n\r\nIt may also be that the right fix for us here is to abandon the efficiency that the original change was trying to get and simply look at the file twice, once to determine whether it's OneDrive and the second time to call through .NET and take advantage of its robustness.",
    "created_at": "2021-05-27T00:01:05Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15466#issuecomment-849197833",
    "id": 849197833,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15466",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0OTE5NzgzMw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/849197833/reactions"
    },
    "updated_at": "2021-05-27T00:01:30Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/849197833",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7009879?v=4",
      "events_url": "https://api.github.com/users/rjmholt/events{/privacy}",
      "followers_url": "https://api.github.com/users/rjmholt/followers",
      "following_url": "https://api.github.com/users/rjmholt/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjmholt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rjmholt",
      "id": 7009879,
      "login": "rjmholt",
      "node_id": "MDQ6VXNlcjcwMDk4Nzk=",
      "organizations_url": "https://api.github.com/users/rjmholt/orgs",
      "received_events_url": "https://api.github.com/users/rjmholt/received_events",
      "repos_url": "https://api.github.com/users/rjmholt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rjmholt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjmholt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rjmholt"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "I’ll have to add some comments when I’m next on a laptop. It’s hard to review actual code changes when looking from your phone :)",
    "created_at": "2021-05-27T00:11:37Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15466#issuecomment-849202504",
    "id": 849202504,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15466",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0OTIwMjUwNA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/849202504/reactions"
    },
    "updated_at": "2021-05-27T00:11:37Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/849202504",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/8462645?v=4",
      "events_url": "https://api.github.com/users/jborean93/events{/privacy}",
      "followers_url": "https://api.github.com/users/jborean93/followers",
      "following_url": "https://api.github.com/users/jborean93/following{/other_user}",
      "gists_url": "https://api.github.com/users/jborean93/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jborean93",
      "id": 8462645,
      "login": "jborean93",
      "node_id": "MDQ6VXNlcjg0NjI2NDU=",
      "organizations_url": "https://api.github.com/users/jborean93/orgs",
      "received_events_url": "https://api.github.com/users/jborean93/received_events",
      "repos_url": "https://api.github.com/users/jborean93/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jborean93/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jborean93/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jborean93"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "> It’s hard to review actual code changes when looking from your phone :)\r\n\r\nDw I was also on a phone today 🙂 ",
    "created_at": "2021-05-27T05:09:57Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15466#issuecomment-849324383",
    "id": 849324383,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15466",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0OTMyNDM4Mw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/849324383/reactions"
    },
    "updated_at": "2021-05-27T05:09:57Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/849324383",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7009879?v=4",
      "events_url": "https://api.github.com/users/rjmholt/events{/privacy}",
      "followers_url": "https://api.github.com/users/rjmholt/followers",
      "following_url": "https://api.github.com/users/rjmholt/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjmholt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rjmholt",
      "id": 7009879,
      "login": "rjmholt",
      "node_id": "MDQ6VXNlcjcwMDk4Nzk=",
      "organizations_url": "https://api.github.com/users/rjmholt/orgs",
      "received_events_url": "https://api.github.com/users/rjmholt/received_events",
      "repos_url": "https://api.github.com/users/rjmholt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rjmholt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjmholt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rjmholt"
    }
  },
  {
    "author_association": "NONE",
    "body": ":tada:This issue was addressed in #15571, which has now been successfully released as `v7.2.0-preview.9`.:tada:\n\nHandy links:\n* [Release Notes](https://github.com/PowerShell/PowerShell/releases/tag/v7.2.0-preview.9)\n",
    "created_at": "2021-08-23T18:36:11Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15466#issuecomment-904015180",
    "id": 904015180,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15466",
    "node_id": "IC_kwDOAvT7bc414i1M",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/904015180/reactions"
    },
    "updated_at": "2021-08-23T18:36:11Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/904015180",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/in/26612?v=4",
      "events_url": "https://api.github.com/users/msftbot%5Bbot%5D/events{/privacy}",
      "followers_url": "https://api.github.com/users/msftbot%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/msftbot%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/msftbot%5Bbot%5D/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/apps/msftbot",
      "id": 48340428,
      "login": "msftbot[bot]",
      "node_id": "MDM6Qm90NDgzNDA0Mjg=",
      "organizations_url": "https://api.github.com/users/msftbot%5Bbot%5D/orgs",
      "received_events_url": "https://api.github.com/users/msftbot%5Bbot%5D/received_events",
      "repos_url": "https://api.github.com/users/msftbot%5Bbot%5D/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/msftbot%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/msftbot%5Bbot%5D/subscriptions",
      "type": "Bot",
      "url": "https://api.github.com/users/msftbot%5Bbot%5D"
    }
  },
  {
    "author_association": "NONE",
    "body": ":tada:This issue was addressed in #15571, which has now been successfully released as `v7.2.0-preview.10`.:tada:\n\nHandy links:\n* [Release Notes](https://github.com/PowerShell/PowerShell/releases/tag/v7.2.0-preview.10)\n",
    "created_at": "2021-09-28T23:18:02Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15466#issuecomment-929692540",
    "id": 929692540,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15466",
    "node_id": "IC_kwDOAvT7bc43aft8",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/929692540/reactions"
    },
    "updated_at": "2021-09-28T23:18:02Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/929692540",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/in/26612?v=4",
      "events_url": "https://api.github.com/users/msftbot%5Bbot%5D/events{/privacy}",
      "followers_url": "https://api.github.com/users/msftbot%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/msftbot%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/msftbot%5Bbot%5D/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/apps/msftbot",
      "id": 48340428,
      "login": "msftbot[bot]",
      "node_id": "MDM6Qm90NDgzNDA0Mjg=",
      "organizations_url": "https://api.github.com/users/msftbot%5Bbot%5D/orgs",
      "received_events_url": "https://api.github.com/users/msftbot%5Bbot%5D/received_events",
      "repos_url": "https://api.github.com/users/msftbot%5Bbot%5D/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/msftbot%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/msftbot%5Bbot%5D/subscriptions",
      "type": "Bot",
      "url": "https://api.github.com/users/msftbot%5Bbot%5D"
    }
  },
  {
    "author_association": "NONE",
    "body": "Still getting it in 7.2.5\r\n![image](https://user-images.githubusercontent.com/12259728/186280605-56ec0f92-7ebb-4011-9ccd-5dbe02a7e846.png)\r\n",
    "created_at": "2022-08-23T23:00:07Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15466#issuecomment-1224972019",
    "id": 1224972019,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15466",
    "node_id": "IC_kwDOAvT7bc5JA5bz",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1224972019/reactions"
    },
    "updated_at": "2022-08-23T23:00:07Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1224972019",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/12259728?v=4",
      "events_url": "https://api.github.com/users/svermaak/events{/privacy}",
      "followers_url": "https://api.github.com/users/svermaak/followers",
      "following_url": "https://api.github.com/users/svermaak/following{/other_user}",
      "gists_url": "https://api.github.com/users/svermaak/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/svermaak",
      "id": 12259728,
      "login": "svermaak",
      "node_id": "MDQ6VXNlcjEyMjU5NzI4",
      "organizations_url": "https://api.github.com/users/svermaak/orgs",
      "received_events_url": "https://api.github.com/users/svermaak/received_events",
      "repos_url": "https://api.github.com/users/svermaak/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/svermaak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/svermaak/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/svermaak"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@svermaak Please open new issue with exact repro steps.",
    "created_at": "2022-08-24T04:37:05Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15466#issuecomment-1225180617",
    "id": 1225180617,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15466",
    "node_id": "IC_kwDOAvT7bc5JBsXJ",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1225180617/reactions"
    },
    "updated_at": "2022-08-24T04:37:05Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/1225180617",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  }
]
