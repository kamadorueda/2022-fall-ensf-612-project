[
  {
    "author_association": "MEMBER",
    "body": "@thezim this isn't a build failure, this is a unit test failure. Can you set your locale to UTF-8? .NET Core isn't expected to work with any other locales currently (that said, ASCII is probably going to work, but still going to fail the sanity test).",
    "created_at": "2017-01-12T21:32:01Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2997#issuecomment-272290206",
    "id": 272290206,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2997",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MjI5MDIwNg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/272290206/reactions"
    },
    "updated_at": "2017-01-12T21:32:01Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/272290206",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/2226434?v=4",
      "events_url": "https://api.github.com/users/andschwa/events{/privacy}",
      "followers_url": "https://api.github.com/users/andschwa/followers",
      "following_url": "https://api.github.com/users/andschwa/following{/other_user}",
      "gists_url": "https://api.github.com/users/andschwa/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/andschwa",
      "id": 2226434,
      "login": "andschwa",
      "node_id": "MDQ6VXNlcjIyMjY0MzQ=",
      "organizations_url": "https://api.github.com/users/andschwa/orgs",
      "received_events_url": "https://api.github.com/users/andschwa/received_events",
      "repos_url": "https://api.github.com/users/andschwa/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/andschwa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andschwa/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/andschwa"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "My text encoding was set to \"UTF-8\" in the Terminal app. While research how to change the locale I came across this [article](https://www.cyberciti.biz/faq/os-x-terminal-bash-warning-setlocale-lc_ctype-cannot-change-locale/) which was helpful.  Unchecking the **Terminal > Preferences > Advanced > Set locale environment variables on startup** corrected the issue.\r\n\r\nThat being said should the build documentation be update with this tidbit as **Set locale environment variables on startup** is checked by default in macOS 10.12 (Sierra). I know 10.12 isn't officially supported yet but this will be an issue moving forward. I do not have access to a 10.11 machine so I cant tell you what the default setting there is.\r\n\r\nWith **Set locale environment variables on startup** checked.\r\n``` bash\r\nthezim@foobarhost ~ $ locale\r\nLANG=\r\nLC_COLLATE=\"C\"\r\nLC_CTYPE=\"C\"\r\nLC_MESSAGES=\"C\"\r\nLC_MONETARY=\"C\"\r\nLC_NUMERIC=\"C\"\r\nLC_TIME=\"C\"\r\nLC_ALL=\r\nthezim@foobarhost ~ $ \r\n```\r\n\r\nWith **Set locale environment variables on startup** unchecked.\r\n``` bash\r\nthezim@foobarhost ~ $ locale\r\nLANG=\"en_US.UTF-8\"\r\nLC_COLLATE=\"en_US.UTF-8\"\r\nLC_CTYPE=\"en_US.UTF-8\"\r\nLC_MESSAGES=\"en_US.UTF-8\"\r\nLC_MONETARY=\"en_US.UTF-8\"\r\nLC_NUMERIC=\"en_US.UTF-8\"\r\nLC_TIME=\"en_US.UTF-8\"\r\nLC_ALL=\r\nthezim@foobarhost ~ $ \r\n```",
    "created_at": "2017-01-13T13:34:17Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2997#issuecomment-272443821",
    "id": 272443821,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2997",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MjQ0MzgyMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/272443821/reactions"
    },
    "updated_at": "2017-01-13T23:03:16Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/272443821",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/14023826?v=4",
      "events_url": "https://api.github.com/users/thezim/events{/privacy}",
      "followers_url": "https://api.github.com/users/thezim/followers",
      "following_url": "https://api.github.com/users/thezim/following{/other_user}",
      "gists_url": "https://api.github.com/users/thezim/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/thezim",
      "id": 14023826,
      "login": "thezim",
      "node_id": "MDQ6VXNlcjE0MDIzODI2",
      "organizations_url": "https://api.github.com/users/thezim/orgs",
      "received_events_url": "https://api.github.com/users/thezim/received_events",
      "repos_url": "https://api.github.com/users/thezim/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/thezim/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thezim/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/thezim"
    }
  },
  {
    "author_association": "NONE",
    "body": "this issue generally affects all terminals (#3063) that do not use utf-8 .. as @andschwa mentioned .NET core currently relies on UTF-8 I can't really complain that much .. still not a clean test ..",
    "created_at": "2017-01-27T20:18:56Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2997#issuecomment-275764097",
    "id": 275764097,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2997",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTc2NDA5Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/275764097/reactions"
    },
    "updated_at": "2017-01-27T20:18:56Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/275764097",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/5354972?v=4",
      "events_url": "https://api.github.com/users/mwallner/events{/privacy}",
      "followers_url": "https://api.github.com/users/mwallner/followers",
      "following_url": "https://api.github.com/users/mwallner/following{/other_user}",
      "gists_url": "https://api.github.com/users/mwallner/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mwallner",
      "id": 5354972,
      "login": "mwallner",
      "node_id": "MDQ6VXNlcjUzNTQ5NzI=",
      "organizations_url": "https://api.github.com/users/mwallner/orgs",
      "received_events_url": "https://api.github.com/users/mwallner/received_events",
      "repos_url": "https://api.github.com/users/mwallner/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mwallner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mwallner/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mwallner"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "I actually have problem earlier during the build on 10.12\r\n\r\n```\r\nPS /PowerShell> Start-PSBuild -Clean\r\nCleaning your working directory. You can also do it with 'git clean -fdX'\r\nRemoving powershell.version\r\nVERBOSE: Using configuration 'Linux'\r\nVERBOSE: Top project directory is /PowerShell/src/powershell-unix\r\nVERBOSE: Using framework 'netcoreapp1.1'\r\nThe variable cannot be validated because the value osx.10.12-x64 is not a valid value for the Runtime variable.\r\nAt /PowerShell/build.psm1:528 char:9\r\n+         $Runtime = dotnet --info | % {\r\n+         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    + CategoryInfo          : MetadataError: (:) [], ValidationMetadataException\r\n    + FullyQualifiedErrorId : ValidateSetFailure\r\n\r\nCould not determine Runtime Identifier, please update dotnet\r\nAt /PowerShell/build.psm1:535 char:13\r\n+             Throw \"Could not determine Runtime Identifier, please upd ...\r\n+             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    + CategoryInfo          : OperationStopped: (Could not deter...e update dotnet:String) [], RuntimeException\r\n    + FullyQualifiedErrorId : Could not determine Runtime Identifier, please update dotnet\r\n\r\n```",
    "created_at": "2017-01-27T21:36:52Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2997#issuecomment-275781229",
    "id": 275781229,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2997",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTc4MTIyOQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/275781229/reactions"
    },
    "updated_at": "2017-01-27T21:36:52Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/275781229",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/816680?v=4",
      "events_url": "https://api.github.com/users/vors/events{/privacy}",
      "followers_url": "https://api.github.com/users/vors/followers",
      "following_url": "https://api.github.com/users/vors/following{/other_user}",
      "gists_url": "https://api.github.com/users/vors/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vors",
      "id": 816680,
      "login": "vors",
      "node_id": "MDQ6VXNlcjgxNjY4MA==",
      "organizations_url": "https://api.github.com/users/vors/orgs",
      "received_events_url": "https://api.github.com/users/vors/received_events",
      "repos_url": "https://api.github.com/users/vors/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vors/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vors"
    }
  },
  {
    "author_association": "NONE",
    "body": "@vors what you are describing matches the issue text but is not related with the error @thezim is having (build failure vs test failure after successful build)",
    "created_at": "2017-01-27T21:40:21Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2997#issuecomment-275781936",
    "id": 275781936,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2997",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTc4MTkzNg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/275781936/reactions"
    },
    "updated_at": "2017-01-27T21:40:21Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/275781936",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/5354972?v=4",
      "events_url": "https://api.github.com/users/mwallner/events{/privacy}",
      "followers_url": "https://api.github.com/users/mwallner/followers",
      "following_url": "https://api.github.com/users/mwallner/following{/other_user}",
      "gists_url": "https://api.github.com/users/mwallner/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mwallner",
      "id": 5354972,
      "login": "mwallner",
      "node_id": "MDQ6VXNlcjUzNTQ5NzI=",
      "organizations_url": "https://api.github.com/users/mwallner/orgs",
      "received_events_url": "https://api.github.com/users/mwallner/received_events",
      "repos_url": "https://api.github.com/users/mwallner/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mwallner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mwallner/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mwallner"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Fair point",
    "created_at": "2017-01-28T07:02:59Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2997#issuecomment-275832001",
    "id": 275832001,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2997",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTgzMjAwMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/275832001/reactions"
    },
    "updated_at": "2017-01-28T07:02:59Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/275832001",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/816680?v=4",
      "events_url": "https://api.github.com/users/vors/events{/privacy}",
      "followers_url": "https://api.github.com/users/vors/followers",
      "following_url": "https://api.github.com/users/vors/following{/other_user}",
      "gists_url": "https://api.github.com/users/vors/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vors",
      "id": 816680,
      "login": "vors",
      "node_id": "MDQ6VXNlcjgxNjY4MA==",
      "organizations_url": "https://api.github.com/users/vors/orgs",
      "received_events_url": "https://api.github.com/users/vors/received_events",
      "repos_url": "https://api.github.com/users/vors/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vors/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vors"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "There was same problem reported on gitter\r\nhttps://gist.github.com/mwallner/457bde412489830319be10212bfb91e7#file-psl-native-test-log\r\n\r\nLooks like an incorrect test for me.\r\nThe locale is a machine-wide setting that could be not UTF8.",
    "created_at": "2017-01-28T07:33:26Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2997#issuecomment-275833065",
    "id": 275833065,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2997",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTgzMzA2NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/275833065/reactions"
    },
    "updated_at": "2017-01-28T07:33:26Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/275833065",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/816680?v=4",
      "events_url": "https://api.github.com/users/vors/events{/privacy}",
      "followers_url": "https://api.github.com/users/vors/followers",
      "following_url": "https://api.github.com/users/vors/following{/other_user}",
      "gists_url": "https://api.github.com/users/vors/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vors",
      "id": 816680,
      "login": "vors",
      "node_id": "MDQ6VXNlcjgxNjY4MA==",
      "organizations_url": "https://api.github.com/users/vors/orgs",
      "received_events_url": "https://api.github.com/users/vors/received_events",
      "repos_url": "https://api.github.com/users/vors/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vors/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vors"
    }
  },
  {
    "author_association": "NONE",
    "body": "@vors please remove macOS from the title (replace with Nix*-like OSes??) and add 'Linux' as label :-)",
    "created_at": "2017-01-28T17:58:31Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2997#issuecomment-275863463",
    "id": 275863463,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2997",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTg2MzQ2Mw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/275863463/reactions"
    },
    "updated_at": "2017-01-28T17:58:31Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/275863463",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/5354972?v=4",
      "events_url": "https://api.github.com/users/mwallner/events{/privacy}",
      "followers_url": "https://api.github.com/users/mwallner/followers",
      "following_url": "https://api.github.com/users/mwallner/following{/other_user}",
      "gists_url": "https://api.github.com/users/mwallner/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mwallner",
      "id": 5354972,
      "login": "mwallner",
      "node_id": "MDQ6VXNlcjUzNTQ5NzI=",
      "organizations_url": "https://api.github.com/users/mwallner/orgs",
      "received_events_url": "https://api.github.com/users/mwallner/received_events",
      "repos_url": "https://api.github.com/users/mwallner/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mwallner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mwallner/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mwallner"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@vors if the locale is not UTF-8, we have no guarantees that CoreCLR will work correctly. Much code depends on being able to marshal UTF-8 `char*` strings to C# UTF-16 strings. Can we verify how CoreCLR handles the case where the locale is not UTF-8?",
    "created_at": "2017-01-30T18:48:13Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2997#issuecomment-276152901",
    "id": 276152901,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2997",
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NjE1MjkwMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/276152901/reactions"
    },
    "updated_at": "2017-01-30T18:48:13Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/276152901",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/2226434?v=4",
      "events_url": "https://api.github.com/users/andschwa/events{/privacy}",
      "followers_url": "https://api.github.com/users/andschwa/followers",
      "following_url": "https://api.github.com/users/andschwa/following{/other_user}",
      "gists_url": "https://api.github.com/users/andschwa/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/andschwa",
      "id": 2226434,
      "login": "andschwa",
      "node_id": "MDQ6VXNlcjIyMjY0MzQ=",
      "organizations_url": "https://api.github.com/users/andschwa/orgs",
      "received_events_url": "https://api.github.com/users/andschwa/received_events",
      "repos_url": "https://api.github.com/users/andschwa/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/andschwa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andschwa/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/andschwa"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "Haven't seen an issue with this anymore",
    "created_at": "2018-07-22T00:16:18Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/2997#issuecomment-406831684",
    "id": 406831684,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/2997",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjgzMTY4NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/406831684/reactions"
    },
    "updated_at": "2018-07-22T00:16:18Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/406831684",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  }
]
