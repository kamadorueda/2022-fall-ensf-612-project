[
  {
    "author_association": "MEMBER",
    "body": "The related discussion from #7183 : https://github.com/PowerShell/PowerShell/pull/7183#discussion_r201528579",
    "created_at": "2018-07-17T00:07:03Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7298#issuecomment-405417894",
    "id": 405417894,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7298",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNTQxNzg5NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/405417894/reactions"
    },
    "updated_at": "2018-07-17T00:07:03Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/405417894",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/127450?v=4",
      "events_url": "https://api.github.com/users/daxian-dbw/events{/privacy}",
      "followers_url": "https://api.github.com/users/daxian-dbw/followers",
      "following_url": "https://api.github.com/users/daxian-dbw/following{/other_user}",
      "gists_url": "https://api.github.com/users/daxian-dbw/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/daxian-dbw",
      "id": 127450,
      "login": "daxian-dbw",
      "node_id": "MDQ6VXNlcjEyNzQ1MA==",
      "organizations_url": "https://api.github.com/users/daxian-dbw/orgs",
      "received_events_url": "https://api.github.com/users/daxian-dbw/received_events",
      "repos_url": "https://api.github.com/users/daxian-dbw/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/daxian-dbw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daxian-dbw/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/daxian-dbw"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "/cc @mklement0 What do you think?",
    "created_at": "2018-07-20T04:47:36Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7298#issuecomment-406487959",
    "id": 406487959,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7298",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjQ4Nzk1OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/406487959/reactions"
    },
    "updated_at": "2018-07-20T04:47:36Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/406487959",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "I'm late to this and may not have the full picture, but just in the abstract it sounds like it's worth either reporting a non-terminating error or at least a warning for every malformed module,  given that it's fair to assume that locations in `$env:PSModulePath` should contain nothing _but_ (well-formed) modules.\r\n\r\nQuietly including malformed modules in the `-ListAvailable` results seems unhelpful: you'll get no indication that something's wrong at the time of listing, only to encounter failure when you later try to `Import-Module`.\r\n\r\n",
    "created_at": "2018-07-22T22:36:47Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7298#issuecomment-406902482",
    "id": 406902482,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7298",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjkwMjQ4Mg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/406902482/reactions"
    },
    "updated_at": "2018-07-22T22:36:47Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/406902482",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "I believe we should have the same behavior for _all_ paths and indicate that module (manifest) is broken. We could do this in  `PSEdition` field. I think it looks better in interactive sessions. In scripts we can filter output if we need.",
    "created_at": "2018-07-23T04:55:06Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7298#issuecomment-406938984",
    "id": 406938984,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7298",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjkzODk4NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/406938984/reactions"
    },
    "updated_at": "2018-07-23T04:55:06Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/406938984",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@iSazonov: Just to clarify: You're suggesting not to report an error / warning, but instead to populate the `PSEdition` property of the `ModuleInfo` objects representing malformed modules with a pseudo value that indicates the malformation?",
    "created_at": "2018-07-23T11:55:27Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7298#issuecomment-407032304",
    "id": 407032304,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7298",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzAzMjMwNA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/407032304/reactions"
    },
    "updated_at": "2018-07-23T11:56:13Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/407032304",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "Yes, in interactive session it looks better.",
    "created_at": "2018-07-24T03:46:12Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7298#issuecomment-407271742",
    "id": 407271742,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7298",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzI3MTc0Mg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/407271742/reactions"
    },
    "updated_at": "2018-07-24T03:46:12Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/407271742",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "If the module manifest is invalid, we shouldn't default to `Desktop`.  `Desktop` is only if `CompatiblePSEditions` contains `Desktop` or if `CompatiblePSEditions` doesn't exist at all (older module manifests pre-dating PS5).  I think it would be fine to have `???` as the `PSEdition` value when an invalid module manifest is encountered.  I'm also ok with a non-terminating error is this is likely going to only occur as a development scenario.",
    "created_at": "2018-07-24T04:57:22Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7298#issuecomment-407281230",
    "id": 407281230,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7298",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzI4MTIzMA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/407281230/reactions"
    },
    "updated_at": "2018-07-24T04:58:15Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/407281230",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@SteveL-MSFT: Agreed on not defaulting to `Desktop`.\r\n\r\nAs for what to do instead: the question comes down to how we defined an _available_ module:\r\n\r\n* (a) Anything that happens to be present in a dir. listed in `$env:PSModulePath`, whether it is a well-formed module or not.\r\n\r\n* (b) Something that's present in in a dir. listed in `$env:PSModulePath` that is also a well-formed module (though it may not be available to the platform at hand).\r\n\r\nIf (a), then perhaps reporting malformed modules as part of the success output with `???` as the `.PSEdition` property makes sense.\r\n\r\nIf (b), then malformed modules should be reported as _non-terminating errors_.\r\n\r\n---\r\n\r\nPersonally I'm not convinced that (a) makes sense:\r\n\r\n@iSazonov: Can you elaborate on  why you think that how things _look in an interactive session_ should be the driving factor?\r\n\r\nGranted, how PowerShell currently surfaces errors can be characterized as \"scary, noisy, lengthy information overload\" - see #3647 -  but that's a separate issue (the resolution of which is way overdue, by the way).\r\n\r\n",
    "created_at": "2018-07-25T02:37:53Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7298#issuecomment-407614547",
    "id": 407614547,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7298",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzYxNDU0Nw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/407614547/reactions"
    },
    "updated_at": "2018-07-25T02:37:53Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/407614547",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@mklement0 \r\n1. Displaying the table is corrupted by error messages\r\n2. We must be consistent - if we display incompatible modules, then we must show the broken modules. If we want get only \"core\" compatible modules we need a filer like `-ListAvailable Core` (this can be default). I think it is better UX.",
    "created_at": "2018-07-25T03:30:12Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7298#issuecomment-407622274",
    "id": 407622274,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7298",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzYyMjI3NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/407622274/reactions"
    },
    "updated_at": "2018-07-25T03:30:12Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/407622274",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@iSazonov \r\n\r\n> 1. Displaying the table is corrupted by error messages\r\n\r\nAn error is never pretty, but its job is to indicate an exceptional condition that needs attention.\r\n\r\n> 2. We must be consistent - if we display incompatible modules, then we must show the broken modules\r\n\r\nA malformed (broken) module is not an _incompatible_ module. You cannot meaningfully classify a malformed module beyond its \"brokenness\" - that is why it should be treated as an exception.\r\n\r\n",
    "created_at": "2018-07-25T04:07:03Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7298#issuecomment-407626872",
    "id": 407626872,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7298",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzYyNjg3Mg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/407626872/reactions"
    },
    "updated_at": "2018-07-25T04:07:03Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/407626872",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "I think one point worth mentioning is that for a module with an invalid manifest (e.g. malformed manifest, wrong PowerShell version, missing required module, etc.), you get the following behaviours:\r\n\r\n- `Get-Module -ListAvailable`: Module appears -- a \"fake\" PSModuleInfo is generated\r\n- `Import-Module`: An error is thrown (I think terminating, but not certain)\r\n\r\nWhereas, for a module with the wrong edition loaded from the System32 path:\r\n\r\n- `Get-Module -ListAvailable`: Module does not appear -- it effectively does not exist (I had to introduce an unpleasant hack to make this behaviour happen, since a `null` result from `LoadModuleManifest` in `Get-Module -ListAvailable` otherwise gets turned into the fake PSModuleInfo)\r\n- `Import-Module`: An error is thrown, just like in the above scenario.\r\n\r\nHaving the edition check use special behaviour seems a bit inconsistent to me, but more importantly, introduces complexity that we will need to continue to maintain forever.",
    "created_at": "2018-07-25T04:15:54Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7298#issuecomment-407628007",
    "id": 407628007,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7298",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzYyODAwNw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/407628007/reactions"
    },
    "updated_at": "2018-07-25T04:15:54Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/407628007",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7009879?v=4",
      "events_url": "https://api.github.com/users/rjmholt/events{/privacy}",
      "followers_url": "https://api.github.com/users/rjmholt/followers",
      "following_url": "https://api.github.com/users/rjmholt/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjmholt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rjmholt",
      "id": 7009879,
      "login": "rjmholt",
      "node_id": "MDQ6VXNlcjcwMDk4Nzk=",
      "organizations_url": "https://api.github.com/users/rjmholt/orgs",
      "received_events_url": "https://api.github.com/users/rjmholt/received_events",
      "repos_url": "https://api.github.com/users/rjmholt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rjmholt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjmholt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rjmholt"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@rjmholt: Not knowing the internals and possibly missing part of the picture, here's what makes sense to me:\r\n\r\n* `Get-Module -ListAvailable` ... list all (well-formed) _edition-compatible_ modules.\r\n\r\n* `Get-Module -ListAvailable -SkipEditionCheck` ... list _all_ (well-formed) available modules, including edition-incompatible ones.\r\n\r\nIrrespective of the specific parameters, any malformed module should generate a non-terminating error.\r\n\r\nRe `Import-Module`: the error it reports with a malformed module is _non-terminating_, which is consistent with PowerShell's guidelines in general (it accepts an _array_ of modules to import) - though debatable in this specific case.\r\n\r\n---\r\n\r\nAs an aside: An easy way to test if a command generates a terminating or non-terminating error, using the example of `Import-Module` (assume the presence of an invalid manifest at `./badModule/badModule.psd1`:\r\n\r\n```powershell\r\nPS> 'hi' -f (Import-Module ./badModule)\r\nImport-Module : The module manifest '...' could not be processed because it is not a valid PowerShell module manifest file\r\nhi\r\n```\r\n\r\n(With `$ErrorActionPreference` at its default, `Continue`), the fact that `hi` printed implies that the error is _non-terminating_.\r\n\r\n",
    "created_at": "2018-07-25T04:56:03Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7298#issuecomment-407633196",
    "id": 407633196,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7298",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzYzMzE5Ng==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/407633196/reactions"
    },
    "updated_at": "2018-07-25T04:56:03Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/407633196",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@PowerShell/powershell-committee reviewed this.  \r\n\r\n  - If `CompatiblePSEditions` is readable, but empty, it should default to `Desktop` explicitly.\r\n  - If it can't read the module manifest, then that value should be an empty string and not `Desktop`.  \r\n\r\nIn the case a malformed module manifest is found, a non-terminating error should be returned.",
    "created_at": "2018-07-25T22:32:34Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7298#issuecomment-407917626",
    "id": 407917626,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7298",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzkxNzYyNg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/407917626/reactions"
    },
    "updated_at": "2018-07-25T22:32:34Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/407917626",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "Thanks, @SteveL-MSFT.\r\n\r\nI have trouble reconciling the following two statements, however:\r\n\r\n> 1. If it can't read the module manifest, then that value should be an empty string and not Desktop.\r\n> 2. In the case a malformed module manifest is found, a non-terminating error should be returned.\r\n\r\nThis makes it sound like a malformed module should _both_ (1) output a dummy module-info object as part of the success output stream with `.CompatiblePSEditions` set to `''` _and_ (2) return a non-terminating error to indicate the malformation.\r\n\r\nHowever, my expectation is that (2) is sufficient - what benefit is there in _also_ reporting a malformed module as part of the _success_ output?\r\n\r\n\r\n",
    "created_at": "2018-07-26T02:24:40Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7298#issuecomment-407955489",
    "id": 407955489,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7298",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzk1NTQ4OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/407955489/reactions"
    },
    "updated_at": "2018-07-26T02:24:40Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/407955489",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@mklement0 I think when I typed up the summary we were still in discussion between showing PSEdition as empty (and some other indicator it is invalid) or producing a non-terminating error.  We ended up with agreeing that a non-terminating error makes the most sense (with expectation that we improve the visual of non-terminating errors which is already another issue).\r\n\r\nSo to summarize, @PowerShell/powershell-committee agreed on throwing a non-terminating error if the module manifest is invalid.",
    "created_at": "2018-07-26T04:52:35Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7298#issuecomment-407975720",
    "id": 407975720,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7298",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNzk3NTcyMA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/407975720/reactions"
    },
    "updated_at": "2018-07-26T04:52:35Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/407975720",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@SteveL-MSFT (& @PowerShell/powershell-committee), does `module manifest is invalid` **include** or **exclude** modules that rejected because of an incompatible PSEdition? (I assume exclude, but code-wise, the edition check is one of the validity checks and will require special handling)",
    "created_at": "2018-07-27T19:39:07Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7298#issuecomment-408519317",
    "id": 408519317,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7298",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwODUxOTMxNw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/408519317/reactions"
    },
    "updated_at": "2018-07-27T19:39:07Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/408519317",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7009879?v=4",
      "events_url": "https://api.github.com/users/rjmholt/events{/privacy}",
      "followers_url": "https://api.github.com/users/rjmholt/followers",
      "following_url": "https://api.github.com/users/rjmholt/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjmholt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rjmholt",
      "id": 7009879,
      "login": "rjmholt",
      "node_id": "MDQ6VXNlcjcwMDk4Nzk=",
      "organizations_url": "https://api.github.com/users/rjmholt/orgs",
      "received_events_url": "https://api.github.com/users/rjmholt/received_events",
      "repos_url": "https://api.github.com/users/rjmholt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rjmholt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjmholt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rjmholt"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@rjmholt `invalid` means the module manifest is not well-formed.  In the case where the module manifest is well-formed and `CompatiblePSEditions` indicates it is not compatible, that is still a valid module manifest and should follow existing behavior which is it doesn't show up (if under system32 path) without `-SkipEditionCheck`, otherwise, it should show as `Desktop` if explicitly stated or `Desktop` if `CompatiblePSEditions` is empty or doesn't exist.",
    "created_at": "2018-07-27T21:00:25Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/7298#issuecomment-408537538",
    "id": 408537538,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/7298",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwODUzNzUzOA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/408537538/reactions"
    },
    "updated_at": "2018-07-27T21:00:25Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/408537538",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  }
]
