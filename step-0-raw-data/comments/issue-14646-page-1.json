[
  {
    "author_association": "COLLABORATOR",
    "body": "Using the `-ToSession` or `-FromSession` means all the data is being encapsulated inside a PowerShell object which is then serialized to XML, base64 encoded, chunked to smaller sizes, then finally transferred over the connection you've defined for that transport. You also have the overhead of setting up the Runspace Pool and Pipeline which I believe happens multiple times due to a file transfer limit set for each pipeline.\r\n\r\nCompare this to SMB where the raw bytes of your data is not encapsulated in any container and the protocol is specifically designed for that task. I don't think there is much that can be done here, if you have SMB access then I would use that to copy the file, if you don't then you are limited to what is currently available.",
    "created_at": "2021-01-21T11:05:20Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14646#issuecomment-764558144",
    "id": 764558144,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14646",
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NDU1ODE0NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 4,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 4,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/764558144/reactions"
    },
    "updated_at": "2021-01-21T11:05:20Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/764558144",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/8462645?v=4",
      "events_url": "https://api.github.com/users/jborean93/events{/privacy}",
      "followers_url": "https://api.github.com/users/jborean93/followers",
      "following_url": "https://api.github.com/users/jborean93/following{/other_user}",
      "gists_url": "https://api.github.com/users/jborean93/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/jborean93",
      "id": 8462645,
      "login": "jborean93",
      "node_id": "MDQ6VXNlcjg0NjI2NDU=",
      "organizations_url": "https://api.github.com/users/jborean93/orgs",
      "received_events_url": "https://api.github.com/users/jborean93/received_events",
      "repos_url": "https://api.github.com/users/jborean93/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/jborean93/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jborean93/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/jborean93"
    }
  },
  {
    "author_association": "NONE",
    "body": "@jborean93 thanks , to my experience, it may be something else cause that slowness. for more detail , when using copy-item inside foreach , \r\nIf there is one client , the bandwidth at server side is 20-30mbps, if there are 2 clients , the bandwidth at server side is (20-30)*2 mbps, if there are N clients (parallel transfer),  the bandwidth at server side is (20-30)*N , seems like there is some limitation on the source. and that's why I use -ThrottleLimit 10 to utilize more bandwidth at server side.",
    "created_at": "2021-01-27T04:18:50Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14646#issuecomment-768017459",
    "id": 768017459,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14646",
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2ODAxNzQ1OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/768017459/reactions"
    },
    "updated_at": "2021-01-27T04:18:50Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/768017459",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/36788337?v=4",
      "events_url": "https://api.github.com/users/tlsalex/events{/privacy}",
      "followers_url": "https://api.github.com/users/tlsalex/followers",
      "following_url": "https://api.github.com/users/tlsalex/following{/other_user}",
      "gists_url": "https://api.github.com/users/tlsalex/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/tlsalex",
      "id": 36788337,
      "login": "tlsalex",
      "node_id": "MDQ6VXNlcjM2Nzg4MzM3",
      "organizations_url": "https://api.github.com/users/tlsalex/orgs",
      "received_events_url": "https://api.github.com/users/tlsalex/received_events",
      "repos_url": "https://api.github.com/users/tlsalex/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/tlsalex/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tlsalex/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/tlsalex"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@jborean93 is correct that `-ToSession` means it's going over PowerShell remoting which adds lots of overhead for simply transferring files.  It's really only intended to be used if direct SMB is not available.",
    "created_at": "2021-03-05T21:44:49Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14646#issuecomment-791729923",
    "id": 791729923,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14646",
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5MTcyOTkyMw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/791729923/reactions"
    },
    "updated_at": "2021-03-05T21:44:49Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/791729923",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/11859881?v=4",
      "events_url": "https://api.github.com/users/SteveL-MSFT/events{/privacy}",
      "followers_url": "https://api.github.com/users/SteveL-MSFT/followers",
      "following_url": "https://api.github.com/users/SteveL-MSFT/following{/other_user}",
      "gists_url": "https://api.github.com/users/SteveL-MSFT/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/SteveL-MSFT",
      "id": 11859881,
      "login": "SteveL-MSFT",
      "node_id": "MDQ6VXNlcjExODU5ODgx",
      "organizations_url": "https://api.github.com/users/SteveL-MSFT/orgs",
      "received_events_url": "https://api.github.com/users/SteveL-MSFT/received_events",
      "repos_url": "https://api.github.com/users/SteveL-MSFT/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/SteveL-MSFT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SteveL-MSFT/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/SteveL-MSFT"
    }
  },
  {
    "author_association": "NONE",
    "body": "This issue has been marked as answered and has not had any activity for **1 day**. It has been closed for housekeeping purposes.",
    "created_at": "2021-03-19T00:00:07Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14646#issuecomment-802399369",
    "id": 802399369,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14646",
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwMjM5OTM2OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/802399369/reactions"
    },
    "updated_at": "2021-03-19T00:00:07Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/802399369",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/in/26612?v=4",
      "events_url": "https://api.github.com/users/msftbot%5Bbot%5D/events{/privacy}",
      "followers_url": "https://api.github.com/users/msftbot%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/msftbot%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/msftbot%5Bbot%5D/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/apps/msftbot",
      "id": 48340428,
      "login": "msftbot[bot]",
      "node_id": "MDM6Qm90NDgzNDA0Mjg=",
      "organizations_url": "https://api.github.com/users/msftbot%5Bbot%5D/orgs",
      "received_events_url": "https://api.github.com/users/msftbot%5Bbot%5D/received_events",
      "repos_url": "https://api.github.com/users/msftbot%5Bbot%5D/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/msftbot%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/msftbot%5Bbot%5D/subscriptions",
      "type": "Bot",
      "url": "https://api.github.com/users/msftbot%5Bbot%5D"
    }
  }
]
