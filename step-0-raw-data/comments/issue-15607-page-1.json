[
  {
    "author_association": "COLLABORATOR",
    "body": "All works well locally.\r\nI build with ci.psm module as our CIs do\r\n```powershell\r\nImport-Module .\\tools\\ci.psm1\r\nInvoke-CIBuild\r\n```\r\n and get\r\n![image](https://user-images.githubusercontent.com/22290914/122599768-49f73700-d088-11eb-9c7e-e78ed8ed7025.png)\r\n\r\nIt says something was changed in last release process.",
    "created_at": "2021-06-18T17:56:54Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15607#issuecomment-864193548",
    "id": 864193548,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15607",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NDE5MzU0OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/864193548/reactions"
    },
    "updated_at": "2021-06-18T17:57:28Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/864193548",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "> All works well locally.\r\n\r\nYeah I just noticed this.\r\n\r\nSo where's the 8 coming from?",
    "created_at": "2021-06-18T18:03:15Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15607#issuecomment-864196375",
    "id": 864196375,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15607",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NDE5NjM3NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/864196375/reactions"
    },
    "updated_at": "2021-06-18T18:03:15Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/864196375",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/7009879?v=4",
      "events_url": "https://api.github.com/users/rjmholt/events{/privacy}",
      "followers_url": "https://api.github.com/users/rjmholt/followers",
      "following_url": "https://api.github.com/users/rjmholt/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjmholt/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/rjmholt",
      "id": 7009879,
      "login": "rjmholt",
      "node_id": "MDQ6VXNlcjcwMDk4Nzk=",
      "organizations_url": "https://api.github.com/users/rjmholt/orgs",
      "received_events_url": "https://api.github.com/users/rjmholt/received_events",
      "repos_url": "https://api.github.com/users/rjmholt/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/rjmholt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjmholt/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/rjmholt"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "I built from master and get \r\n![image](https://user-images.githubusercontent.com/22290914/122603096-4ca85b00-d08d-11eb-8af4-b5a91856d3eb.png)\r\n\r\nPrevious build was from my PR branch. So the issue is only in my PR. :-( \r\n\r\n\r\n",
    "created_at": "2021-06-18T18:33:54Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15607#issuecomment-864210195",
    "id": 864210195,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15607",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NDIxMDE5NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/864210195/reactions"
    },
    "updated_at": "2021-06-18T18:40:23Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/864210195",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "> So where's the 8 coming from?\r\n\r\nFrom ci.psm:\r\n```powershell\r\nfunction Get-ReleaseTag\r\n{\r\n    $metaDataPath = Join-Path -Path $PSScriptRoot -ChildPath 'metadata.json'\r\n    $metaData = Get-Content $metaDataPath | ConvertFrom-Json\r\n    $releaseTag = $metadata.NextReleaseTag\r\n    if($env:BUILD_BUILID)\r\n    {\r\n        $releaseTag = $releaseTag.split('.')[0..2] -join '.'\r\n        $releaseTag = $releaseTag + '.' + $env:BUILD_BUILID\r\n    }\r\n    return $releaseTag\r\n}\r\n```\r\nNextReleaseTag is v7.2.0-preview.8\"",
    "created_at": "2021-06-18T18:44:42Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15607#issuecomment-864215218",
    "id": 864215218,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15607",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NDIxNTIxOA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/864215218/reactions"
    },
    "updated_at": "2021-06-18T18:44:42Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/864215218",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": ">     if($env:BUILD_BUILID)\r\n\r\nOh, I wonder how this works currently and tests are passed if the env name should be BUILD_BUIL**D**ID. Came from #8822.\r\n\r\n/cc @TravisEz13 @adityapatwardhan ",
    "created_at": "2021-06-25T07:18:01Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15607#issuecomment-868281649",
    "id": 868281649,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15607",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2ODI4MTY0OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/868281649/reactions"
    },
    "updated_at": "2021-06-25T07:18:28Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/868281649",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "It turned out that ci.psm1 always assigns it directly to dotnet and the code under `if($env:BUILD_BUILID)` is dead code.\r\n",
    "created_at": "2021-06-25T09:46:50Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15607#issuecomment-868377888",
    "id": 868377888,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15607",
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2ODM3Nzg4OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/868377888/reactions"
    },
    "updated_at": "2021-06-25T09:46:50Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/868377888",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@TravisEz13 @adityapatwardhan Friendly ping.\r\n\r\nThis blocks #15603",
    "created_at": "2021-11-10T05:58:00Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15607#issuecomment-964811942",
    "id": 964811942,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15607",
    "node_id": "IC_kwDOAvT7bc45gdym",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/964811942/reactions"
    },
    "updated_at": "2021-11-10T06:00:52Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/964811942",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "I don't see a clear action item expressed.",
    "created_at": "2021-11-10T18:42:10Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15607#issuecomment-965633345",
    "id": 965633345,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15607",
    "node_id": "IC_kwDOAvT7bc45jmVB",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/965633345/reactions"
    },
    "updated_at": "2021-11-10T18:42:10Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/965633345",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/10873629?v=4",
      "events_url": "https://api.github.com/users/TravisEz13/events{/privacy}",
      "followers_url": "https://api.github.com/users/TravisEz13/followers",
      "following_url": "https://api.github.com/users/TravisEz13/following{/other_user}",
      "gists_url": "https://api.github.com/users/TravisEz13/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/TravisEz13",
      "id": 10873629,
      "login": "TravisEz13",
      "node_id": "MDQ6VXNlcjEwODczNjI5",
      "organizations_url": "https://api.github.com/users/TravisEz13/orgs",
      "received_events_url": "https://api.github.com/users/TravisEz13/received_events",
      "repos_url": "https://api.github.com/users/TravisEz13/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/TravisEz13/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TravisEz13/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/TravisEz13"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@TravisEz13 I don't understand your comment.\r\n\r\nI guess `function Get-ReleaseTag` is broken and must be fixed. I don't know how since it is exclusively internal MSFT process. I'd want to get a fix commit so that #15603 passes the test.",
    "created_at": "2021-11-11T03:29:57Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15607#issuecomment-965957239",
    "id": 965957239,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15607",
    "node_id": "IC_kwDOAvT7bc45k1Z3",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/965957239/reactions"
    },
    "updated_at": "2021-11-11T03:29:57Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/965957239",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "I compared builds local, CI and release and _I am at a loss._\r\n\r\nWe always put Product version including GitCommitId on all files in all builds. It is right.\r\nBut we lost GitCommitId in banner and PSVersionTable in non-local builds! Did it happen by accident?\r\n\r\nWhen we discussed adding a GitCommitId to the PSVersionTable, we found it important to inform users what the last commit was for this build. And we lost it. _It should be in the Release build_ and CI builds too.\r\n(To be clear I expect short PSVersion in banner (like `PowerShell 7.2.0`) and full version with GitCommitId in PSVersionTable.GitCommitId (like `7.2.0-preview.10-166-g40837dd860e1bb69dd8238ff5e5ae360a7637c13`).\r\n\r\nPerhaps this is a consequence of how the release process is going.\r\n_This definitely violates generally accepted rules of open source projects._\r\nOur Git Tags are broken. They seem to indicate the beginning of the next milestone, but they are not due to that we are backporting commits. The only way to do it right is to have _release branches in the repository_.\r\n\r\nThere is a related problem here. No community can release a version similar MSFT since nobody knows which commits were backported (specially in patches) and no public release branches exist - it breaks the open source nature of the project.\r\nMSFT can have non-public release process but MSFT must keep release branches public with right git tags.\r\n\r\n/cc @SteveL-MSFT @TravisEz13 @adityapatwardhan for review.\r\n.\r\n\r\nUpdate: How could I build 7.2.1 with _security fix_ for an community distribution?\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "created_at": "2021-12-03T09:38:46Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/15607#issuecomment-985368909",
    "id": 985368909,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/15607",
    "node_id": "IC_kwDOAvT7bc46u4lN",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/985368909/reactions"
    },
    "updated_at": "2021-12-16T03:55:18Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/985368909",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  }
]
