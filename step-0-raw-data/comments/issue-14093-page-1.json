[
  {
    "author_association": "COLLABORATOR",
    "body": "I believe it is MSIX sandbox limitation.",
    "created_at": "2020-11-14T18:12:58Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14093#issuecomment-727245198",
    "id": 727245198,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14093",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNzI0NTE5OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/727245198/reactions"
    },
    "updated_at": "2020-11-14T18:12:58Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/727245198",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "NONE",
    "body": "@iSazonov \r\nRight，Please provide the necessary description in the [instructions](https://docs.microsoft.com//powershell/scripting/install/installing-powershell-core-on-windows?view=powershell-7.1#installing-the-msix-package).",
    "created_at": "2020-11-15T02:26:41Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14093#issuecomment-727297440",
    "id": 727297440,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14093",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNzI5NzQ0MA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/727297440/reactions"
    },
    "updated_at": "2020-11-15T02:26:41Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/727297440",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/17810492?v=4",
      "events_url": "https://api.github.com/users/Vixb1122/events{/privacy}",
      "followers_url": "https://api.github.com/users/Vixb1122/followers",
      "following_url": "https://api.github.com/users/Vixb1122/following{/other_user}",
      "gists_url": "https://api.github.com/users/Vixb1122/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/Vixb1122",
      "id": 17810492,
      "login": "Vixb1122",
      "node_id": "MDQ6VXNlcjE3ODEwNDky",
      "organizations_url": "https://api.github.com/users/Vixb1122/orgs",
      "received_events_url": "https://api.github.com/users/Vixb1122/received_events",
      "repos_url": "https://api.github.com/users/Vixb1122/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/Vixb1122/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Vixb1122/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/Vixb1122"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "This behaviour is normal. `$env:VAR` only retrieves values from the current process environment.\r\n\r\nUpdating a user-scope environment variable never updates the current process environment; you have to do that explicitly, in either of the following ways:\r\n\r\n```ps1\r\n[Environment]::SetEnvironmentVariable('TEST_URL', 'http:url', 'User')\r\n\r\n$env:TEST_URL = [Environment]::GetEnvironmentVariable('TEST_URL', 'User')\r\n# or\r\n[Environment]::SetEnvironmentVariable('TEST_URL', [Environment]::GetEnvironmentVariable('TEST_URL', 'User'))\r\n```\r\n\r\nYou can also opt to set it in the current process environment first, or do both at once:\r\n\r\n```ps1\r\n# current environment first\r\n$env:TEST_URL = 'http:url'\r\n[Environment]::SetEnvironmentVariable('TEST_URL', $env:TEST_URL, 'User')\r\n\r\n# both at once\r\n[Environment]::SetEnvironmentVariable('TEST_URL', ($env:TEST_URL = 'http:url'), 'User')\r\n```\r\n\r\nThere _may_ still be an MSIX specific limitation in play here, but the steps in the issue description will not work as expected in any version of PowerShell.",
    "created_at": "2020-11-15T02:57:36Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14093#issuecomment-727321709",
    "id": 727321709,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14093",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNzMyMTcwOQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/727321709/reactions"
    },
    "updated_at": "2020-11-15T02:59:42Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/727321709",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32407840?v=4",
      "events_url": "https://api.github.com/users/vexx32/events{/privacy}",
      "followers_url": "https://api.github.com/users/vexx32/followers",
      "following_url": "https://api.github.com/users/vexx32/following{/other_user}",
      "gists_url": "https://api.github.com/users/vexx32/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/vexx32",
      "id": 32407840,
      "login": "vexx32",
      "node_id": "MDQ6VXNlcjMyNDA3ODQw",
      "organizations_url": "https://api.github.com/users/vexx32/orgs",
      "received_events_url": "https://api.github.com/users/vexx32/received_events",
      "repos_url": "https://api.github.com/users/vexx32/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/vexx32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vexx32/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/vexx32"
    }
  },
  {
    "author_association": "NONE",
    "body": "@vexx32 \r\n> There _may_ still be an MSIX specific limitation in play here, but the steps in the issue description will not work as expected in any version of PowerShell.\r\n\r\nThe ‘reopen shell’ operation that I missed in the issue description\r\n\r\nNow, i can understand MSIX specific limitation.\r\n\r\nrun command in powershell installed from msix, and reopen shell and see `$env:TEST_URL`\r\n![Snipaste_2020-11-15_11-06-56](https://user-images.githubusercontent.com/17810492/99162038-a5002e80-2733-11eb-9aec-80a2a45b64cc.jpg)\r\n\r\nrun command in windows powershell, and reopen shell and see `$env:TEST_URL`\r\n![Snipaste_2020-11-15_11-08-50](https://user-images.githubusercontent.com/17810492/99162027-7da96180-2733-11eb-8be7-49b817899129.jpg)\r\n\r\n\r\n",
    "created_at": "2020-11-15T03:16:09Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14093#issuecomment-727346375",
    "id": 727346375,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14093",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNzM0NjM3NQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/727346375/reactions"
    },
    "updated_at": "2020-11-15T03:16:09Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/727346375",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/17810492?v=4",
      "events_url": "https://api.github.com/users/Vixb1122/events{/privacy}",
      "followers_url": "https://api.github.com/users/Vixb1122/followers",
      "following_url": "https://api.github.com/users/Vixb1122/following{/other_user}",
      "gists_url": "https://api.github.com/users/Vixb1122/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/Vixb1122",
      "id": 17810492,
      "login": "Vixb1122",
      "node_id": "MDQ6VXNlcjE3ODEwNDky",
      "organizations_url": "https://api.github.com/users/Vixb1122/orgs",
      "received_events_url": "https://api.github.com/users/Vixb1122/received_events",
      "repos_url": "https://api.github.com/users/Vixb1122/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/Vixb1122/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Vixb1122/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/Vixb1122"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "If you open new session it is as any process works and as @vexx32 said it is not MSIX specific.",
    "created_at": "2020-11-15T11:12:44Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14093#issuecomment-727552954",
    "id": 727552954,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14093",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNzU1Mjk1NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/727552954/reactions"
    },
    "updated_at": "2020-11-15T11:12:44Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/727552954",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@iSazonov This is MSIX specific. The MSIX sandbox virtualizes some registry access. `[Environment]::SetEnvironmentVariable('TEST_URL', 'http:url', 'User')` writes the value to the User registry, which is virtualized. So the change is not persistent across sessions.",
    "created_at": "2020-11-16T14:11:47Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/14093#issuecomment-728083923",
    "id": 728083923,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/14093",
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyODA4MzkyMw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/728083923/reactions"
    },
    "updated_at": "2020-11-16T14:11:47Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/728083923",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/19415881?v=4",
      "events_url": "https://api.github.com/users/sdwheeler/events{/privacy}",
      "followers_url": "https://api.github.com/users/sdwheeler/followers",
      "following_url": "https://api.github.com/users/sdwheeler/following{/other_user}",
      "gists_url": "https://api.github.com/users/sdwheeler/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/sdwheeler",
      "id": 19415881,
      "login": "sdwheeler",
      "node_id": "MDQ6VXNlcjE5NDE1ODgx",
      "organizations_url": "https://api.github.com/users/sdwheeler/orgs",
      "received_events_url": "https://api.github.com/users/sdwheeler/received_events",
      "repos_url": "https://api.github.com/users/sdwheeler/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/sdwheeler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sdwheeler/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/sdwheeler"
    }
  }
]
