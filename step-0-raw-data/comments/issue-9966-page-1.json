[
  {
    "author_association": "MEMBER",
    "body": "Hey @iSazonov, a side question: have you ever successfully CPU profiling pwsh (with crossgen'ed assemblies) using PerfView?\r\n\r\nI always have trouble making the symbol resolution to work properly when profiling the corssgen'ed pwsh, and thus the resulted stacks are not very useful \r\n\r\nI remember you did some profiling back when investigating Import-Csv, so I wonder if you had any successful experiences on that.",
    "created_at": "2019-06-20T18:35:00Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/9966#issuecomment-504135500",
    "id": 504135500,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9966",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNDEzNTUwMA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/504135500/reactions"
    },
    "updated_at": "2019-06-20T18:35:00Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/504135500",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/127450?v=4",
      "events_url": "https://api.github.com/users/daxian-dbw/events{/privacy}",
      "followers_url": "https://api.github.com/users/daxian-dbw/followers",
      "following_url": "https://api.github.com/users/daxian-dbw/following{/other_user}",
      "gists_url": "https://api.github.com/users/daxian-dbw/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/daxian-dbw",
      "id": 127450,
      "login": "daxian-dbw",
      "node_id": "MDQ6VXNlcjEyNzQ1MA==",
      "organizations_url": "https://api.github.com/users/daxian-dbw/orgs",
      "received_events_url": "https://api.github.com/users/daxian-dbw/received_events",
      "repos_url": "https://api.github.com/users/daxian-dbw/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/daxian-dbw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daxian-dbw/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/daxian-dbw"
    }
  },
  {
    "author_association": "COLLABORATOR",
    "body": "@daxian-dbw I saw SMA APIs well while we was on .Net Core 2.0/2.1 (open sources from PerfView did not work for me). I remember that there was problems with finding PowerShell pdb-s but I already don't remember how I resolve this (and reinstall my system 2 times since then). (Perhaps I set paths to symbols in PerfView or/and manually coped pdb-s) I tried to run PerfView on last week but now crossgen (Start-PSBuild -CrossGen) fail with:\r\n```\r\nVERBOSE: Matched CrossGen.exe:\r\nC:\\Users\\sie\\.nuget\\packages\\transport.runtime.win-x64.microsoft.netcore.runtime.coreclr\\3.0.0-preview6-27721-71\\tools\\\r\ncrossgen.exe\r\nCould not load type 'System.Utf8String' from assembly 'System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e'.\r\nError: compilation failed for \"src\\powershell-win-core\\bin\\Release\\netcoreapp3.0\\win7-x64\\publish\\Microsoft.CodeAnalysis.CSharp.dll\" (0x80131522)\r\n```\r\nand I can not resolve this and can not get crossgen-ed assemblies. :-( Do you see the error or have thoughts how resolve this? Perhaps it is an issue in 3.0 Preview5 so I am waiting our PR #9888 to move to Preview6.\r\n\r\nUpdate: I found old etl.zip file. There is a symbol folder with files like Microsoft.PowerShell.Commands.Utility.ni.pdb\r\nIf I remember correctly such files was generated by PerfView itself at trace save time.\r\n![etl](https://user-images.githubusercontent.com/22290914/59899136-12a80e00-940d-11e9-8393-0cf99d44e26b.png)\r\n",
    "created_at": "2019-06-21T04:11:51Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/9966#issuecomment-504281978",
    "id": 504281978,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9966",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNDI4MTk3OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/504281978/reactions"
    },
    "updated_at": "2019-06-21T05:12:44Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/504281978",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/22290914?v=4",
      "events_url": "https://api.github.com/users/iSazonov/events{/privacy}",
      "followers_url": "https://api.github.com/users/iSazonov/followers",
      "following_url": "https://api.github.com/users/iSazonov/following{/other_user}",
      "gists_url": "https://api.github.com/users/iSazonov/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/iSazonov",
      "id": 22290914,
      "login": "iSazonov",
      "node_id": "MDQ6VXNlcjIyMjkwOTE0",
      "organizations_url": "https://api.github.com/users/iSazonov/orgs",
      "received_events_url": "https://api.github.com/users/iSazonov/received_events",
      "repos_url": "https://api.github.com/users/iSazonov/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/iSazonov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iSazonov/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/iSazonov"
    }
  },
  {
    "author_association": "MEMBER",
    "body": "@iSazonov Thank you for following up on this. I really appreciate your time!\r\nI figured this out by inspecting the diagnostics log generated by PerfView (should have done that from the very beginning :))\r\nAll we need to do is to copy the corresponding crossgen.exe to `$pshome` and PerfView is able to generate the PDBs for the crossgen'ed assemblies on the fly.",
    "created_at": "2019-06-24T14:50:44Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/9966#issuecomment-505044323",
    "id": 505044323,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9966",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNTA0NDMyMw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/505044323/reactions"
    },
    "updated_at": "2019-06-24T14:50:44Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/505044323",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/127450?v=4",
      "events_url": "https://api.github.com/users/daxian-dbw/events{/privacy}",
      "followers_url": "https://api.github.com/users/daxian-dbw/followers",
      "following_url": "https://api.github.com/users/daxian-dbw/following{/other_user}",
      "gists_url": "https://api.github.com/users/daxian-dbw/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/daxian-dbw",
      "id": 127450,
      "login": "daxian-dbw",
      "node_id": "MDQ6VXNlcjEyNzQ1MA==",
      "organizations_url": "https://api.github.com/users/daxian-dbw/orgs",
      "received_events_url": "https://api.github.com/users/daxian-dbw/received_events",
      "repos_url": "https://api.github.com/users/daxian-dbw/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/daxian-dbw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/daxian-dbw/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/daxian-dbw"
    }
  },
  {
    "author_association": "NONE",
    "body": ":tada:`v7.0.0-preview.2` has been released which incorporates this pull request.:tada:\n\nHandy links:\n* [Release Notes](https://github.com/PowerShell/PowerShell/releases/tag/v7.0.0-preview.2)\n",
    "created_at": "2019-07-17T20:55:21Z",
    "html_url": "https://github.com/PowerShell/PowerShell/pull/9966#issuecomment-512565001",
    "id": 512565001,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/9966",
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMjU2NTAwMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/512565001/reactions"
    },
    "updated_at": "2019-07-17T20:55:21Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/512565001",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/in/26612?v=4",
      "events_url": "https://api.github.com/users/msftbot%5Bbot%5D/events{/privacy}",
      "followers_url": "https://api.github.com/users/msftbot%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/msftbot%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/msftbot%5Bbot%5D/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/apps/msftbot",
      "id": 48340428,
      "login": "msftbot[bot]",
      "node_id": "MDM6Qm90NDgzNDA0Mjg=",
      "organizations_url": "https://api.github.com/users/msftbot%5Bbot%5D/orgs",
      "received_events_url": "https://api.github.com/users/msftbot%5Bbot%5D/received_events",
      "repos_url": "https://api.github.com/users/msftbot%5Bbot%5D/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/msftbot%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/msftbot%5Bbot%5D/subscriptions",
      "type": "Bot",
      "url": "https://api.github.com/users/msftbot%5Bbot%5D"
    }
  }
]
