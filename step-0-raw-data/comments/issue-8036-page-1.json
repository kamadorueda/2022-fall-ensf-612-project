[
  {
    "author_association": "CONTRIBUTOR",
    "body": "Are you referring to the `http_proxy` environment variable, as described [here](https://www.cyberciti.biz/faq/linux-unix-set-proxy-environment-variable/), for instance?\r\n\r\nSince we're talking about environment variables, the shell that you're calling _from_ shouldn't matter.\r\n\r\nSomeone with more domain knowledge will hopefully join the conversation, but here's a quick pointer: The absence of the string `http_proxy` in the source code of PowerShell itself and the `PowerShellGet` module suggests that PowerShell is currently unaware of this variable altogether, so this may have to turn into a (more fully fleshed out) feature request.\r\n\r\n\r\n",
    "created_at": "2018-10-15T20:57:26Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8036#issuecomment-430010464",
    "id": 430010464,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8036",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDAxMDQ2NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/430010464/reactions"
    },
    "updated_at": "2018-10-15T20:57:26Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/430010464",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "NONE",
    "body": "That is correct. I’m using an environment variable, that I declare in /etc/environment making it systemwide. Bash and zsh both use that file.",
    "created_at": "2018-10-15T21:14:43Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8036#issuecomment-430015559",
    "id": 430015559,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8036",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDAxNTU1OQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/430015559/reactions"
    },
    "updated_at": "2018-10-15T21:14:43Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/430015559",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32312433?v=4",
      "events_url": "https://api.github.com/users/DaveCrown/events{/privacy}",
      "followers_url": "https://api.github.com/users/DaveCrown/followers",
      "following_url": "https://api.github.com/users/DaveCrown/following{/other_user}",
      "gists_url": "https://api.github.com/users/DaveCrown/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/DaveCrown",
      "id": 32312433,
      "login": "DaveCrown",
      "node_id": "MDQ6VXNlcjMyMzEyNDMz",
      "organizations_url": "https://api.github.com/users/DaveCrown/orgs",
      "received_events_url": "https://api.github.com/users/DaveCrown/received_events",
      "repos_url": "https://api.github.com/users/DaveCrown/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/DaveCrown/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DaveCrown/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/DaveCrown"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "From what I can tell, the definitions in `/etc/environment` are read by the system itself and all user processes inherit these environment variables, so what your default shell is shouldn't matter (even PowerShell itself would be fine).\r\n\r\nIn short: PowerShell should _see_ `$env:http_proxy`, but it seems it simply doesn't do anything with it.\r\n\r\n",
    "created_at": "2018-10-15T21:28:18Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8036#issuecomment-430020061",
    "id": 430020061,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8036",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDAyMDA2MQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/430020061/reactions"
    },
    "updated_at": "2018-10-15T21:28:18Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/430020061",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "To elaborate a little: it isn't Bash or zsh _itself_ that respects the `http_proxy` environment variable, it is _external utilities_ such as `curl` that respect it.\r\n\r\nIf you were to invoke such utilities from PowerShell, they should work as usual.\r\n\r\nBy contrast, PowerShell's built-in analogous functionality, such as `Invoke-WebRequest`, seemingly does _not_ respect `http_proxy`, so making it do so would be a feature request (assuming my analysis is correct).\r\n",
    "created_at": "2018-10-16T00:41:57Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8036#issuecomment-430061603",
    "id": 430061603,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8036",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDA2MTYwMw==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/430061603/reactions"
    },
    "updated_at": "2018-10-16T00:41:57Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/430061603",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "You can try the workaround in #3112 until it is supported.",
    "created_at": "2018-10-16T01:35:26Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8036#issuecomment-430070301",
    "id": 430070301,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8036",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDA3MDMwMQ==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 1,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 1,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/430070301/reactions"
    },
    "updated_at": "2018-10-16T01:35:26Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/430070301",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/14023826?v=4",
      "events_url": "https://api.github.com/users/thezim/events{/privacy}",
      "followers_url": "https://api.github.com/users/thezim/followers",
      "following_url": "https://api.github.com/users/thezim/following{/other_user}",
      "gists_url": "https://api.github.com/users/thezim/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/thezim",
      "id": 14023826,
      "login": "thezim",
      "node_id": "MDQ6VXNlcjE0MDIzODI2",
      "organizations_url": "https://api.github.com/users/thezim/orgs",
      "received_events_url": "https://api.github.com/users/thezim/received_events",
      "repos_url": "https://api.github.com/users/thezim/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/thezim/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thezim/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/thezim"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "Thanks, @thezim - hadn't even occurred to me to search for \"http_proxy\" in _this_ repo...\r\n\r\n@SteveL-MSFT, can you please close this as a duplicate?",
    "created_at": "2018-10-16T01:41:09Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8036#issuecomment-430071268",
    "id": 430071268,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8036",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDA3MTI2OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/430071268/reactions"
    },
    "updated_at": "2018-10-16T01:41:09Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/430071268",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "NONE",
    "body": "I just have to remember to run it from bash, and it works like a champ. ",
    "created_at": "2018-10-16T01:43:04Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8036#issuecomment-430071582",
    "id": 430071582,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8036",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDA3MTU4Mg==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/430071582/reactions"
    },
    "updated_at": "2018-10-16T01:43:04Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/430071582",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32312433?v=4",
      "events_url": "https://api.github.com/users/DaveCrown/events{/privacy}",
      "followers_url": "https://api.github.com/users/DaveCrown/followers",
      "following_url": "https://api.github.com/users/DaveCrown/following{/other_user}",
      "gists_url": "https://api.github.com/users/DaveCrown/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/DaveCrown",
      "id": 32312433,
      "login": "DaveCrown",
      "node_id": "MDQ6VXNlcjMyMzEyNDMz",
      "organizations_url": "https://api.github.com/users/DaveCrown/orgs",
      "received_events_url": "https://api.github.com/users/DaveCrown/received_events",
      "repos_url": "https://api.github.com/users/DaveCrown/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/DaveCrown/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DaveCrown/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/DaveCrown"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "@DaveCrown: \r\n\r\nRun what from Bash? If you're calling external utilities such as `curl`, it shouldn't matter whether you're calling them from Bash or PowerShell.\r\n\r\nOr are you saying that you're seeing a difference there? If so, that would warrant further investigation.",
    "created_at": "2018-10-16T01:47:15Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8036#issuecomment-430072248",
    "id": 430072248,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8036",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDA3MjI0OA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/430072248/reactions"
    },
    "updated_at": "2018-10-16T01:47:15Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/430072248",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  },
  {
    "author_association": "NONE",
    "body": "Sorry, thought I had thatbdetail in there. When I run pwsh from bash, Import-Module works fantastic. When I run it from zsh, it won’t connect. I keep all my proxy config in /etc/environment, so that I don’t have to manage proxy settings for root.",
    "created_at": "2018-10-16T01:53:35Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8036#issuecomment-430073254",
    "id": 430073254,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8036",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDA3MzI1NA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/430073254/reactions"
    },
    "updated_at": "2018-10-16T01:53:35Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/430073254",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/32312433?v=4",
      "events_url": "https://api.github.com/users/DaveCrown/events{/privacy}",
      "followers_url": "https://api.github.com/users/DaveCrown/followers",
      "following_url": "https://api.github.com/users/DaveCrown/following{/other_user}",
      "gists_url": "https://api.github.com/users/DaveCrown/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/DaveCrown",
      "id": 32312433,
      "login": "DaveCrown",
      "node_id": "MDQ6VXNlcjMyMzEyNDMz",
      "organizations_url": "https://api.github.com/users/DaveCrown/orgs",
      "received_events_url": "https://api.github.com/users/DaveCrown/received_events",
      "repos_url": "https://api.github.com/users/DaveCrown/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/DaveCrown/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DaveCrown/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/DaveCrown"
    }
  },
  {
    "author_association": "CONTRIBUTOR",
    "body": "`Import-Module`? Do you mean `Find-Module`, as in your original post?\r\n\r\nDo both Bash and zsh show the desired variables in the environment before you invoke `pwsh`(`echo $http_proxy`, for instance)?\r\n\r\nWhat does verbose output show when `Find-Module` hangs (`Find-Module -Verbose`)?\r\n\r\n",
    "created_at": "2018-10-16T02:26:12Z",
    "html_url": "https://github.com/PowerShell/PowerShell/issues/8036#issuecomment-430078528",
    "id": 430078528,
    "issue_url": "https://api.github.com/repos/PowerShell/PowerShell/issues/8036",
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDA3ODUyOA==",
    "performed_via_github_app": null,
    "reactions": {
      "+1": 0,
      "-1": 0,
      "confused": 0,
      "eyes": 0,
      "heart": 0,
      "hooray": 0,
      "laugh": 0,
      "rocket": 0,
      "total_count": 0,
      "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/430078528/reactions"
    },
    "updated_at": "2018-10-16T02:26:12Z",
    "url": "https://api.github.com/repos/PowerShell/PowerShell/issues/comments/430078528",
    "user": {
      "avatar_url": "https://avatars.githubusercontent.com/u/588825?v=4",
      "events_url": "https://api.github.com/users/mklement0/events{/privacy}",
      "followers_url": "https://api.github.com/users/mklement0/followers",
      "following_url": "https://api.github.com/users/mklement0/following{/other_user}",
      "gists_url": "https://api.github.com/users/mklement0/gists{/gist_id}",
      "gravatar_id": "",
      "html_url": "https://github.com/mklement0",
      "id": 588825,
      "login": "mklement0",
      "node_id": "MDQ6VXNlcjU4ODgyNQ==",
      "organizations_url": "https://api.github.com/users/mklement0/orgs",
      "received_events_url": "https://api.github.com/users/mklement0/received_events",
      "repos_url": "https://api.github.com/users/mklement0/repos",
      "site_admin": false,
      "starred_url": "https://api.github.com/users/mklement0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mklement0/subscriptions",
      "type": "User",
      "url": "https://api.github.com/users/mklement0"
    }
  }
]
