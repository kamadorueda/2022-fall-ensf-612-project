{
  "_url": "https://github.com/PowerShell/PowerShell/issues/1477",
  "author": "vors",
  "body": "<!-- PR checklist -->\n- [x] Resolves issue #1122.\n- [x] Code is up-to-date with `master`.\n- [ ] Add tests that fail without your changes.\n- [x] Update all relevant [documentation](../docs).\n\n<!-- Provide more details about the PR below -->\n- Replace src\\powershell top level project by two\n  new root-level projects:\n  - src\\powershell-unix\n  - src\\powershell-windows\n- Break src\\Modules into more granular structure:\n  - Shared\n  - Windows+Unix-Core\n  - Windows-Core\n  - Windows-Core+Full\n  - Windows-Full\n  - To be created: Unix-Core. We will do it as a separate PR\n- Fix #1122 : Platform-specific set of Modules (and assemblies)\n",
  "closed_at": "2016-07-23T00:11:30Z",
  "comments": [
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "Two minor comments:\n1. powershell-windows seems not clear enough to indicate that it's CoreCLR on windows\n2. the matrix of module folder names, would the following be better?\nShared-All\nShared-Core\nShared-Win\nWin-Core\nWin-Full\nUnix-Core\n",
      "created_at": "2016-07-22T22:32:16Z",
      "updated_at": "2016-07-22T22:32:16Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "LGTM except for two minor comments.\n",
      "created_at": "2016-07-22T22:34:53Z",
      "updated_at": "2016-07-22T22:34:53Z"
    },
    {
      "author": "vors",
      "author_association": "COLLABORATOR",
      "body": "I agree with the first one partially, but keeping carry around \"core\" is verbose.\nWe have a clear explanation in `docs\\building\\internals.md`  and `src\\powershell\\README.md` and without these verbose explanations I don't think anybody can understand what's going on with the build, just by looking at the folder names. :(\n\nFor the second, that's really a matter of preference \"how to represent matrix in a flat way\". I don't like `Shared-Core` and `Shared-Win` together, because they use different entities at the same places and it's confusing.\nI realize that current way is confusing too, but for long term, we have a better plan (with `$IsLinux`, `$IsCoreCLR` in the .psd1 files).\n\nSo I would probably keep these two things as is. Thank you for the thoughtful feedback!\n",
      "created_at": "2016-07-22T22:40:16Z",
      "updated_at": "2016-07-22T22:40:16Z"
    }
  ],
  "created_at": "2016-07-22T01:56:25Z",
  "number": 1477,
  "state": "closed",
  "title": "Create separate Top-level directory per platform",
  "updated_at": "2016-07-23T00:11:33Z"
}