{
  "_url": "https://github.com/PowerShell/PowerShell/issues/8534",
  "author": "SteveL-MSFT",
  "body": "## PR Summary\r\n\r\nLeverage new flag in `CreateSymbolicLink()` API to not require elevation if using Developer Mode.  Include check if using WIn10 >= build 14972 which supports the new flag.  Modified tests to check if developer mode is enabled.\r\n\r\nFix https://github.com/PowerShell/PowerShell/issues/2845\r\n\r\n## PR Checklist\r\n\r\n- [x] [PR has a meaningful title](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n    - Use the present tense and imperative mood when describing your changes\r\n- [x] [Summarized changes](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [x] [Change is not breaking](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#making-breaking-changes)\r\n- [x] [Make sure all `.h`, `.cpp`, `.cs`, `.ps1` and `.psm1` files have the correct copyright header](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [x] This PR is ready to merge and is not [Work in Progress](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---work-in-progress).\r\n    - If the PR is work in progress, please add the prefix `WIP:` to the beginning of the title and remove the prefix when the PR is ready.\r\n- **User-facing changes**\r\n    - [ ] Not Applicable\r\n    - **OR**\r\n    - [x] User-facing https://github.com/PowerShell/PowerShell-Docs/pull/3473(https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n        - [ ] Issue filed - Issue link:\r\n- **Testing - New and feature**\r\n    - [x] Not Applicable or can only be tested interactively\r\n    - **OR**\r\n    - [ ] [Make sure you've added a new test if existing tests do not effectively test the code changed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#before-submitting)\r\n        - [ ] [Add `[feature]` if the change is significant or affects feature tests](https://github.com/PowerShell/PowerShell/blob/master/docs/testing-guidelines/testing-guidelines.md#requesting-additional-tests-for-a-pr)\r\n",
  "closed_at": "2019-01-08T18:43:25Z",
  "comments": [
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "Related test failed (`Should error correctly when failing to create a symbolic link`).",
      "created_at": "2018-12-24T07:37:04Z",
      "updated_at": "2018-12-24T07:37:04Z"
    },
    {
      "author": "lzybkr",
      "author_association": "MEMBER",
      "body": "Do you need an OS version check or a check for developer mode?  Some APIs reject unknown/unsupported flags.\r\n\r\nOr to put it another way, did you test on Win7/Win8 and on Win10 w/ developer mode turned off?",
      "created_at": "2018-12-24T16:56:34Z",
      "updated_at": "2018-12-24T16:56:34Z"
    },
    {
      "author": "ExE-Boss",
      "author_association": "NONE",
      "body": "> Do you need an OS version check or a check for developer mode? Some APIs reject unknown/unsupported flags.\r\n\r\nIIRC, I\u2019m pretty sure that this is one such API (you need an&nbsp;OS&nbsp;version check, as&nbsp;the&nbsp;developer&nbsp;mode check is&nbsp;done by&nbsp;Windows&nbsp;10).",
      "created_at": "2018-12-25T00:05:35Z",
      "updated_at": "2018-12-25T00:06:17Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "Updated test to handle whether it's in Developer Mode or not.  Validated on Win10 that when Developer Mode is not enabled, it fails as previously without elevation.  Win7 still installing updates.",
      "created_at": "2018-12-25T00:58:36Z",
      "updated_at": "2018-12-25T00:58:36Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "Manually verified on Win7",
      "created_at": "2018-12-29T02:54:35Z",
      "updated_at": "2018-12-29T02:54:35Z"
    },
    {
      "author": "adityapatwardhan",
      "author_association": "MEMBER",
      "body": "@SteveL-MSFT I think this will be a breaking change. Do you agree?",
      "created_at": "2019-01-08T17:53:47Z",
      "updated_at": "2019-01-08T17:53:47Z"
    },
    {
      "author": "ExE-Boss",
      "author_association": "NONE",
      "body": "@adityapatwardhan I&nbsp;don\u2019t think so, given that previously it would be impossible to create symlinks without elevation, but with this, when developer mode is enabled, it\u2019s possible to create symlinks without requiring eleveation.",
      "created_at": "2019-01-08T18:08:24Z",
      "updated_at": "2019-01-08T18:08:48Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@adityapatwardhan I don't think it's a breaking change in the sense that it's impactful.  It would only affect tests that previously expected failure.",
      "created_at": "2019-01-08T18:33:41Z",
      "updated_at": "2019-01-08T18:33:41Z"
    }
  ],
  "created_at": "2018-12-24T06:43:42Z",
  "number": 8534,
  "state": "closed",
  "title": "Allow Windows users in developer mode to create symlinks without elevation",
  "updated_at": "2020-07-05T15:49:20Z"
}