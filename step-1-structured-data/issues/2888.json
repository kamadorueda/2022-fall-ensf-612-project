{
  "_url": "https://github.com/PowerShell/PowerShell/issues/2888",
  "author": "chunqingchen",
  "body": "<!--\r\n\r\nIf it is a bug report:\r\n- make sure you are able to repro it on the latest released version. \r\nYou can install the latest version from https://github.com/PowerShell/PowerShell/releases\r\n- Search the existing issues.\r\n- Refer to the [FAQ](../docs/FAQ.md).\r\n- Refer to the [known issues](../docs/KNOWNISSUES.md).\r\n- Fill out the following repro template\r\n\r\nIf it's not a bug, please remove the template and elaborate the issue in your own words.\r\n-->\r\n\r\nSteps to reproduce\r\n------------------\r\nNew-PSSessionConfigurationFile -Path .\\myJeaConfig.pssc -TranscriptDirectory 'C:\\temp\\transcripts' -SessionType RestrictedRemoteServer\r\nRegister-PSSessionConfiguration -Name JEA -Path .\\myJeaconfig.pssc\r\nEnter-PSSession -ComputerName Localhost -ConfigurationName JEA\r\n###\r\nexit\r\n\r\nExpected behavior\r\n-----------------\r\nPowerShell transcripts currently do not log the configuration name the user used to connect to and manage the machine. For JEA scenarios, this means an auditor trying to understand how someone was able to do a certain command will not know through which endpoint the user entered and was assigned those privileges.\r\n\r\n\r\nSuggestion is to add a new line to the transcript header similar to the following:\r\n\r\nConfigurationName: MyJEA\r\n\r\n[\u2026]\r\nRunAs User: WinRM Virtual Users\\WinRM VA_10_PRIV_priv.demo\r\nConfiguration Name: JEA\r\nMachine: DC (Microsoft Windows NT 10.0.14393.0)\r\n[\u2026]\r\n\r\nActual behavior\r\n---------------\r\n[\u2026]\r\nRunAs User: WinRM Virtual Users\\WinRM VA_10_PRIV_priv.demo\r\nMachine: DC (Microsoft Windows NT 10.0.14393.0)\r\n[\u2026]\r\n\r\nEnvironment data\r\n----------------\r\n\r\nName                           Value\r\n----                           -----\r\nPSVersion                      5.1.14993.1000\r\nPSEdition                      Desktop\r\nPSCompatibleVersions           {1.0, 2.0, 3.0, 4.0...}\r\nBuildVersion                   10.0.14993.1000\r\nCLRVersion                     4.0.30319.42000\r\nWSManStackVersion              3.0\r\nPSRemotingProtocolVersion      2.3\r\nSerializationVersion           1.1.0.1\r\n\r\n```powershell\r\n> $PSVersionTable\r\n\r\n```\r\n",
  "closed_at": "2016-12-15T03:45:44Z",
  "comments": [],
  "created_at": "2016-12-15T02:48:04Z",
  "labels": [],
  "number": 2888,
  "state": "closed",
  "title": "PowerShell transcripts should include the configuration name in the transcript header",
  "updated_at": "2016-12-15T03:45:44Z"
}