{
  "_url": "https://github.com/PowerShell/PowerShell/issues/12847",
  "author": "thlac",
  "body": "<!-- Anything that looks like this is a comment and can't be seen after the Pull Request is created. -->\r\n\r\n# PR Summary\r\n\r\nThis changes the default prompt to use `ProviderPath` instead of `CurrentLocation` when a given location does not have a PS Drive. The original discussion in #12544 was regarding UNC paths, but I felt it was appropriate to address it as a whole, instead of only for the `FileSystem` provider.\r\n\r\nI've added tests for the prompt, but so far it only covers the codepath in `InitialSessionState.cs`, and I could probably use some pointers on getting coverage of the remaining codepaths.\r\n\r\nI'm also unsure if this is considered a breaking change, it is clearly something the user can change at will, and I don't think applications or scripts can reasonably depend on them, on the other hand it can change the display of third party modules like `sqlps`.\r\n\r\nI can't find documentation specifically describing paths like `PS Microsoft.Powershell.Core\\FileSystem::\\\\share\\path>` currently so I think no new documentation is required, except for release notes of course.\r\n\r\n## PR Context\r\n\r\nThis implements the enhancement requested in #12544\r\n\r\n## PR Checklist\r\n\r\n- [X] [PR has a meaningful title](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [X] [Summarized changes](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [X] [Make sure all `.h`, `.cpp`, `.cs`, `.ps1` and `.psm1` files have the correct copyright header](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [ ] This PR is ready to merge and is not [Work in Progress](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---work-in-progress).\r\n    - If the PR is work in progress, please add the prefix `WIP:` or `[ WIP ]` to the beginning of the title (the `WIP` bot will keep its status check at `Pending` while the prefix is present) and remove the prefix when the PR is ready.\r\n- **[Breaking changes](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#making-breaking-changes)**\r\n    - [ ] None\r\n    - **OR**\r\n    - [ ] [Experimental feature(s) needed](https://github.com/MicrosoftDocs/PowerShell-Docs/blob/staging/reference/6/Microsoft.PowerShell.Core/About/about_Experimental_Features.md)\r\n        - [ ] Experimental feature name(s): <!-- Experimental feature name(s) here -->\r\n- **User-facing changes**\r\n    - [X] Not Applicable\r\n- **Testing - New and feature**\r\n    - [X] [Make sure you've added a new test if existing tests do not effectively test the code changed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#before-submitting)\r\n- **Tooling**\r\n    - [X] I have considered the user experience from a tooling perspective and don't believe tooling will be impacted.",
  "closed_at": null,
  "comments": [
    {
      "author": "msftbot[bot]",
      "author_association": "NONE",
      "body": "This pull request has been automatically marked as Review Needed because it has been there has not been any activity for **7 days**.\nMainainer, Please provide feedback and/or mark it as `Waiting on Author`",
      "created_at": "2020-06-07T02:00:13Z",
      "updated_at": "2020-06-07T02:00:13Z"
    },
    {
      "author": "thlac",
      "author_association": "CONTRIBUTOR",
      "body": "I forgot a skip tag on one of the tests so they ran on Linux/MacOS, I fixed that now.",
      "created_at": "2020-06-08T06:12:46Z",
      "updated_at": "2020-06-08T06:12:46Z"
    },
    {
      "author": "WSLUser",
      "author_association": "NONE",
      "body": "> User-facing changes: Not Applicable\r\n\r\nConsidering this changes the path display, I'd say it's very applicable.\r\n\r\nWill this display similar or exactly as I request in https://github.com/PowerShell/PowerShell/issues/12544",
      "created_at": "2020-06-10T15:43:25Z",
      "updated_at": "2020-06-10T15:43:25Z"
    },
    {
      "author": "thlac",
      "author_association": "CONTRIBUTOR",
      "body": "It is a user-facing change of course, but it's judged in the context of updating documentation, which I don't think is needed as I couldn't find documentation referencing it, but maybe I'm wrong.\r\n\r\nAnyway, it doesn't change the output based on the length of the path, so it will show the full path, exactly the same is you had a long path on your local drive (which, granted, on Windows is rare due to limits imposed by the file explorer).",
      "created_at": "2020-06-10T16:26:19Z",
      "updated_at": "2020-06-10T16:26:19Z"
    },
    {
      "author": "msftbot[bot]",
      "author_association": "NONE",
      "body": "This pull request has been automatically marked as Review Needed because it has been there has not been any activity for **7 days**.\nMaintainer, please provide feedback and/or mark it as `Waiting on Author`",
      "created_at": "2021-09-23T02:00:53Z",
      "updated_at": "2021-09-23T02:00:53Z"
    }
  ],
  "created_at": "2020-05-30T20:02:05Z",
  "number": 12847,
  "state": "open",
  "title": "WIP: Change default prompt to improve readability of UNC paths",
  "updated_at": "2021-11-11T22:00:53Z"
}