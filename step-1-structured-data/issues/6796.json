{
  "_url": "https://github.com/PowerShell/PowerShell/issues/6796",
  "author": "sethvs",
  "body": "## PR Summary\r\n\r\nNow, when you use `Export-Csv` with **-Append** parameter and new properties don't exist in existing file:\r\n- **-Force:$false**: error is thrown\r\n- **-Force:$true**: cmdlet silently skips adding new properties.\r\n\r\nShould we remove **-Force** check in **ReconcilePreexistingPropertyNames** method, so that error is thrown in both cases - when **-Force:$true** and **-Force:$false**.\r\n\r\nOr is it better to make cmdlet overwrite existing file with new data if **-Force:$true**?\r\n\r\n## PR Checklist\r\n\r\n- [x] [PR has a meaningful title](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n    - Use the present tense and imperative mood when describing your changes\r\n- [x] [Summarized changes](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [x] [Change is not breaking](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#making-breaking-changes)\r\n- [x] [Make sure all `.h`, `.cpp`, `.cs`, `.ps1` and `.psm1` files have the correct copyright header](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [x] This PR is ready to merge and is not [Work in Progress](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---work-in-progress).\r\n    - If the PR is work in progress, please add the prefix `WIP:` to the beginning of the title and remove the prefix when the PR is ready.\r\n- **User-facing changes**\r\n    - [x] Not Applicable\r\n    - **OR**\r\n    - [ ] User-facing [Documentation needed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n        - [ ] Issue filed - Issue link:\r\n- **Testing - New and feature**\r\n    - [ ] Not Applicable or can only be tested interactively\r\n    - **OR**\r\n    - [ ] [Make sure you've added a new test if existing tests do not effectively test the code changed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#before-submitting)\r\n        - [ ] [Add `[feature]` if the change is significant or affects feature tests](https://github.com/PowerShell/PowerShell/blob/master/docs/testing-guidelines/testing-guidelines.md#requesting-additional-tests-for-a-pr)\r\n",
  "closed_at": "2018-05-02T15:04:56Z",
  "comments": [
    {
      "author": "sethvs",
      "author_association": "CONTRIBUTOR",
      "body": "Can you please restart tests?",
      "created_at": "2018-05-02T09:30:53Z",
      "updated_at": "2018-05-02T09:31:12Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "I restarted CI Travis MacOs tests.",
      "created_at": "2018-05-02T13:41:01Z",
      "updated_at": "2018-05-02T13:41:01Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@mklement0 Could you please review the change too?",
      "created_at": "2018-05-02T13:42:16Z",
      "updated_at": "2018-05-02T13:42:16Z"
    },
    {
      "author": "mklement0",
      "author_association": "CONTRIBUTOR",
      "body": "My vote is for not making this change, which is certainly a breaking one:\r\n\r\nWhile the docs don't really say what `-Force` is for - which should definitely be added - _de facto_ it has served to force addition of objects even if they have ~~unrelated / additional~~ lack properties that map onto existing columns, which is a useful option to have _if_ applied intentionally (that's where the docs come in).  \r\n\r\nNote that the error message you currently get with ~~incompatible~~ missing properties clearly states that `-Force` can be used to force appending.\r\n\r\n@sethvs: \r\n\r\nPlease make it clearer up front when your changes will be breaking, and ideally create an _issue_ before starting a PR, ideally by identifying the [\"bucket\"](https://github.com/PowerShell/PowerShell/blob/master/docs/dev-process/breaking-change-contract.md) that the change falls into.\r\n\r\nAlso, sometimes there's an alternative to a _breaking_ change: in #6797 you tried to simply _rename_ a parameter, but the better course of action is to add an _alias_.\r\n\r\n",
      "created_at": "2018-05-02T14:29:55Z",
      "updated_at": "2018-05-02T14:42:40Z"
    },
    {
      "author": "mklement0",
      "author_association": "CONTRIBUTOR",
      "body": "I've opened a docs issue to request documentation of the current behavior: https://github.com/PowerShell/PowerShell-Docs/issues/2392\r\n\r\n",
      "created_at": "2018-05-02T14:41:43Z",
      "updated_at": "2018-05-02T14:41:52Z"
    },
    {
      "author": "sethvs",
      "author_association": "CONTRIBUTOR",
      "body": "@mklement0 Agree about -Force.\r\nThis is what discussion for.\r\nClosing.\r\n",
      "created_at": "2018-05-02T15:04:42Z",
      "updated_at": "2018-05-02T15:04:42Z"
    },
    {
      "author": "mklement0",
      "author_association": "CONTRIBUTOR",
      "body": "@sethvs: \r\n\r\nGlad to hear it.\r\n\r\nThe reason I was suggesting creating an issue before submitting a PR is that the issue allows a broader discussion as to _whether_ and _how_ to implement a change / feature _first_.\r\n\r\nI know that this PR was simple, but generally you run the risk of wasted effort without having consensus on what should be done first.",
      "created_at": "2018-05-02T17:05:52Z",
      "updated_at": "2018-05-02T17:05:52Z"
    }
  ],
  "created_at": "2018-05-02T08:38:55Z",
  "number": 6796,
  "state": "closed",
  "title": "Remove -Force check in ReconcilePreexistingPropertyNames method in Export-Csv.",
  "updated_at": "2018-05-03T09:45:46Z"
}