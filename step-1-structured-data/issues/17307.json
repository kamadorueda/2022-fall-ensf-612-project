{
  "_url": "https://github.com/PowerShell/PowerShell/issues/17307",
  "author": "MelodyZ654",
  "body": "### Prerequisites\n\n- [X] Write a descriptive title.\n- [X] Make sure you are able to repro it on the [latest released version](https://github.com/PowerShell/PowerShell/releases)\n- [X] Search the existing issues.\n- [X] Refer to the [FAQ](https://github.com/PowerShell/PowerShell/blob/master/docs/FAQ.md).\n- [X] Refer to [Differences between Windows PowerShell 5.1 and PowerShell](https://docs.microsoft.com/powershell/scripting/whats-new/differences-from-windows-powershell).\n\n### Steps to reproduce\n\nWe need to get a complete list of Azure AD users which contains the following details.\r\n\r\n1. Employee Name\r\n2. Email ID\r\n3. Job Title\r\n4. Location\r\n5. Division\r\n6. Department\r\n7. Reporting Manager Name\n\n### Expected behavior\n\n```console\nWe expect to get the full list of above attributes in the latest version of PowerShell and Az.Resources module, like using 'Get-AzureADUser' and 'Get-AzureADUserManager' in PS 5.\n```\n\n\n### Actual behavior\n\n```console\nThe value of the following attributes is missing. \r\n\r\nLocation\r\nDivision        \r\nDepartment     \r\nReporting Manager \r\n\r\nI tried to use the command below but got the following information, which I could get more information in Az.Resources 4.4.1. But in the MS public document, it does not show how to retrieve data from key. And no command is provided to get 'reporting manager'.\r\n\r\nhttps://docs.microsoft.com/en-us/powershell/module/az.resources/get-azaduser?view=azps-7.5.0\r\n\r\nPowerShell 7.2.3 with Az.Resources module 5.6.0\r\n================================================\r\nPS C:\\Program Files\\PowerShell\\7> (get-azaduser -ObjectId 00000000000000000000).AdditionalProperties | fl\r\n\r\nKey   : @odata.context\r\nValue : https://graph.microsoft.com/v1.0/$metadata#users/$entity\r\n===============================================\r\n\r\nPowerShell 7.2.3 with Az.Resources module 4.4.1\r\n===============================================\r\nPS C:\\Program Files\\PowerShell\\7> (get-azaduser -ObjectId 00000000000000000000).AdditionalProperties | fl\r\nWARNING: Upcoming breaking changes in the cmdlet 'Get-AzADUser' :\r\n- The output type is changing from the existing type :'Microsoft.Azure.Commands.ActiveDirectory.PSADUser' to the new type :'Microsoft.Azure.PowerShell.Cmdlets.Resources.MSGraph.Models.ApiV10.IMicrosoftGraphUser'\r\nNote : Go to https://aka.ms/azps-changewarnings for steps to suppress this breaking change warning, and other information on breaking changes in Azure PowerShell.\r\n\r\n...\r\nKey   : department\r\nValue : Finance\r\n...\n```\n\n\n### Error details\n\n```console\nPS C:\\Program Files\\PowerShell\\7> get-azaduser -ObjectId 000000000000000000000000000 | fl\r\n\r\nAccountEnabled                  :\r\nAgeGroup                        :\r\nApproximateLastSignInDateTime   :\r\nBusinessPhone                   : {}\r\nCity                            :\r\nCompanyName                     :\r\nComplianceExpirationDateTime    :\r\nConsentProvidedForMinor         :\r\nCountry                         :\r\nCreatedDateTime                 :\r\nCreationType                    :\r\nDeletedDateTime                 :\r\nDepartment                      :\r\nDeviceVersion                   :\r\nDisplayName                     : Test User\r\nEmployeeHireDate                :\r\nEmployeeId                      :\r\nEmployeeType                    :\r\nExternalUserState               :\r\nExternalUserStateChangeDateTime :\r\nFaxNumber                       :\r\nGivenName                       : Test\r\nId                              : 0000000000000000000000000000\r\nIdentity                        :\r\nImAddress                       :\r\nIsResourceAccount               :\r\nJobTitle                        : Accountant\r\nLastPasswordChangeDateTime      :\r\nLegalAgeGroupClassification     :\r\nMail                            : Testuser@contoso.com\r\nMailNickname                    :\r\nMobilePhone                     :\r\nOdataId                         :\r\nOdataType                       : #microsoft.graph.user\r\nOfficeLocation                  :\r\nOnPremisesImmutableId           :\r\nOnPremisesLastSyncDateTime      :\r\nOnPremisesSyncEnabled           :\r\nOperatingSystem                 :\r\nOperatingSystemVersion          :\r\nOtherMail                       :\r\nPasswordPolicy                  :\r\nPasswordProfile                 : {\r\n                                  }\r\nPhysicalId                      :\r\nPostalCode                      :\r\nPreferredLanguage               :\r\nProxyAddress                    :\r\nShowInAddressList               :\r\nSignInSessionsValidFromDateTime :\r\nState                           :\r\nStreetAddress                   :\r\nSurname                         : User\r\nTrustType                       :\r\nUsageLocation                   :\r\nUserPrincipalName               : Testuser@contoso.com\r\nUserType                        :\r\nAdditionalProperties            : {[@odata.context, https://graph.microsoft.com/v1.0/$metadata#users/$entity]}\r\n\r\nPS C:\\Program Files\\PowerShell\\7> (get-azaduser -ObjectId 00000000000000000000).AdditionalProperties | fl\r\n\r\nKey   : @odata.context\r\nValue : https://graph.microsoft.com/v1.0/$metadata#users/$entity\n```\n\n\n### Environment data\n\n```powershell\nPowerShell 7.2.3 with Az.Resources module 5.6.0.\n```\n\n\n### Visuals\n\n_No response_",
  "closed_at": "2022-05-13T07:00:45Z",
  "comments": [
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "@MelodyZ654 The reported issue is specific to the `Az.Resources` module, and we suggest you open issue in https://github.com/Azure/azure-powershell to get help. /cc @dingmeng-xue\n\n<blockquote><img src=\"https://opengraph.githubassets.com/5c0bfc60956e5dbbf460e7313cb019511b07152e6b44b36aff9b5b5266989c99/Azure/azure-powershell\" width=\"48\" align=\"right\"><div><img src=\"https://github.githubassets.com/favicons/favicon.svg\" height=\"14\"> GitHub</div><div><strong><a href=\"https://github.com/Azure/azure-powershell\">GitHub - Azure/azure-powershell: Microsoft Azure PowerShell</a></strong></div><div>Microsoft Azure PowerShell. Contribute to Azure/azure-powershell development by creating an account on GitHub.</div></blockquote>",
      "created_at": "2022-05-11T21:55:44Z",
      "updated_at": "2022-05-11T21:55:45Z"
    },
    {
      "author": "MelodyZ654",
      "author_association": "NONE",
      "body": "> @MelodyZ654 The reported issue is specific to the `Az.Resources` module, and we suggest you open issue in https://github.com/Azure/azure-powershell to get help. /cc @dingmeng-xue\r\n> \r\n> > <img alt=\"\" width=\"48\" src=\"https://camo.githubusercontent.com/1ff441b1df39a80f1c1f48948ded2469fc0d9e0faa895e575597a48890c0f907/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f356330626663363039353665356462626634363065373331336362303139353131623037313532653662343462333661666639623562353236363938396339392f417a7572652f617a7572652d706f7765727368656c6c\"><img alt=\"\" height=\"14\" src=\"https://camo.githubusercontent.com/b6a12909f1e31185a69a73d59208c507a992236d3230f9fc18e85058ae3d19e7/68747470733a2f2f6769746875622e6769746875626173736574732e636f6d2f66617669636f6e732f66617669636f6e2e737667\"> GitHub**[GitHub - Azure/azure-powershell: Microsoft Azure PowerShell](https://github.com/Azure/azure-powershell)**Microsoft Azure PowerShell. Contribute to Azure/azure-powershell development by creating an account on GitHub.\r\n\r\nThank you for your help. I will raise a request to the correct channel. \n\n<blockquote><img src=\"https://opengraph.githubassets.com/5c0bfc60956e5dbbf460e7313cb019511b07152e6b44b36aff9b5b5266989c99/Azure/azure-powershell\" width=\"48\" align=\"right\"><div><img src=\"https://github.githubassets.com/favicons/favicon.svg\" height=\"14\"> GitHub</div><div><strong><a href=\"https://github.com/Azure/azure-powershell\">GitHub - Azure/azure-powershell: Microsoft Azure PowerShell</a></strong></div><div>Microsoft Azure PowerShell. Contribute to Azure/azure-powershell development by creating an account on GitHub.</div></blockquote>",
      "created_at": "2022-05-12T05:30:14Z",
      "updated_at": "2022-05-12T05:30:16Z"
    },
    {
      "author": "msftbot[bot]",
      "author_association": "NONE",
      "body": "This issue has been marked as external and has not had any activity for **1 day**. It has been be closed for housekeeping purposes.",
      "created_at": "2022-05-13T07:00:42Z",
      "updated_at": "2022-05-13T07:00:42Z"
    }
  ],
  "created_at": "2022-05-11T07:05:57Z",
  "labels": [
    "Resolution-External",
    "Needs-Triage"
  ],
  "number": 17307,
  "state": "closed",
  "title": "Attribute values are missing in PowerShell 7.2.3 for AAD users using Get-AzADUser command ",
  "updated_at": "2022-05-13T07:00:45Z"
}