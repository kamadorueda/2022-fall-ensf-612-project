{
  "_url": "https://github.com/PowerShell/PowerShell/issues/4139",
  "author": "anmenaga",
  "body": "This PR is for 2 things:\r\n1) From WindowsPS to PSCore resource paths have changed like this example:\r\nWindowsPS: `FileSystemProviderStrings`\r\nPSCore: `System.Management.Automation.resources.FileSystemProviderStrings`\r\n... and some existing modules use 'WindowsPS' syntax in their \"format.ps1xml\" files; for example:\r\n`<Text AssemblyName=\"System.Management.Automation\" BaseName=\"FileSystemProviderStrings\" ResourceId=\"DirectoryDisplayGrouping\"/>`\r\nSo in these cases resource is not found and Import-Module/Update-FormatData returns error on PSCore.\r\nThe fix is to check for alternative resource path if original fails.\r\n\r\n2) when a resource is not found, currently error message has wrong assembly path which was tried for loading the resource; for example:\r\n`... resource NonExistingResource in assembly C:\\System.Management.Automation is not found.`\r\nThis is rather confusing, specifically because assembly, containing the resource, can be located anywhere in the filesystem. The fix makes error message accurate: `... resource NonExistingResource in assembly C:\\GitHub\\PowerShell\\src\\powershell-win-core\\bin\\Debug\\netcoreapp2.0\\win10-x64\\publish\\System.Management.Automation.dll is not found.`\r\n\r\nResults on PSCore after the fix:\r\n![afterfix](https://user-images.githubusercontent.com/11860095/27666463-d9a143e2-5c28-11e7-9056-a0fa3eb74d85.png)\r\n\r\nResults on PSCore before the fix:\r\n![beforefix](https://user-images.githubusercontent.com/11860095/27666464-d9a9deb2-5c28-11e7-8c91-e646d51f1d62.png)\r\n\r\nFix #3057 ",
  "closed_at": "2017-08-04T22:39:27Z",
  "comments": [
    {
      "author": "TravisEz13",
      "author_association": "MEMBER",
      "body": "@adityapatwardhan  Can you update your review?",
      "created_at": "2017-07-20T16:44:08Z",
      "updated_at": "2017-07-20T16:44:08Z"
    }
  ],
  "created_at": "2017-06-29T00:54:58Z",
  "number": 4139,
  "state": "closed",
  "title": "Make ResourceManagerCache check for alternative resource paths",
  "updated_at": "2018-10-31T21:20:03Z"
}