{
  "_url": "https://github.com/PowerShell/PowerShell/issues/3449",
  "author": "SteveL-MSFT",
  "body": "GitHub CDN requires `cache-control` = `no-cache` header to be present otherwise it (by design) will cache\r\n\r\naddresses https://github.com/PowerShell/PowerShell/issues/3150\r\n",
  "closed_at": "2017-03-29T05:15:53Z",
  "comments": [
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "> https://jimtru1979.blob.core.windows.net/badges/DailyBuildStatus.svg?dummy=unused\r\n\r\nMaybe we should remove the `?dummy=unused` part from the last fix attempt in README.md\r\n\r\nBTW, I found an issue named `The Cache-Control HTTP header is not enough to prevent GitHub\u2019s CDN caching` when searching Github CDN caching: https://github.com/badges/shields/issues/221, and the corresponding fix of that issue can be found [here](https://github.com/azu/voting-badge/commit/53ef68a0666276d06d5d73bd11997dba6e27f8b5#diff-48108967280cade3bbb7dad305dfd9f9R27)\r\n\r\nQuoted from it:\r\n> We're pretty confident that the image caching works. If you're having issues with something like a CI badge, make sure the image has the Cache-Control: no-cache header, and either Expires, Last-Modified or Etag.\r\n\r\nDo we need to specify `either Expires, Last-Modified or Etag`? That issue was from 2014, not sure if it's still necessary.",
      "created_at": "2017-03-28T23:33:31Z",
      "updated_at": "2017-03-28T23:33:57Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "> https://jimtru1979.blob.core.windows.net/badges/DailyBuildStatus.svg?dummy=unused\r\n\r\nThe **\"?dummy=unused\"** was added in PR #3297 as an attempt to fix the cached badge. Shall we remove it along in this PR?",
      "created_at": "2017-03-28T23:59:04Z",
      "updated_at": "2017-03-28T23:59:04Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "close and reopen the PR to restart the stuck Travis CI.",
      "created_at": "2017-03-29T04:56:27Z",
      "updated_at": "2017-03-29T04:56:27Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "I see CodeCover badge is cached too \ud83d\ude15 Can we fix it by the same way as the PR?",
      "created_at": "2017-03-30T06:15:15Z",
      "updated_at": "2017-03-30T06:15:15Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "It seems the badge issue is still not fixed. Full build failed today while CI builds passed, however, our Travis badge shows CI failed and full build passed.\r\nHere is the failed full build: https://travis-ci.org/PowerShell/PowerShell/jobs/216614572",
      "created_at": "2017-03-30T15:29:26Z",
      "updated_at": "2017-03-30T15:29:26Z"
    }
  ],
  "created_at": "2017-03-28T23:17:21Z",
  "number": 3449,
  "state": "closed",
  "title": "nightly badge being cached by GitHub",
  "updated_at": "2017-06-19T21:15:57Z"
}