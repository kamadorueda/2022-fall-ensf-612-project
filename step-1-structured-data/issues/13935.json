{
  "_url": "https://github.com/PowerShell/PowerShell/issues/13935",
  "author": "xtqqczze",
  "body": "Various files do not match the `file_header_template` in root EditorConfig:\r\n`Copyright (c) Microsoft Corporation.\\nLicensed under the MIT License.`\r\n\r\nFor example, `src\\System.Management.Automation\\engine\\interpreter\\InstructionList.cs` uses Apache License.\r\n\r\nThis PR sets the rule severity to `suggestion`.",
  "closed_at": "2020-11-01T18:26:27Z",
  "comments": [
    {
      "author": "xtqqczze",
      "author_association": "CONTRIBUTOR",
      "body": "@iSazonov Can you merge?",
      "created_at": "2020-10-29T22:53:53Z",
      "updated_at": "2020-10-29T22:53:53Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "No, we should inform users to use right header. We need to set \"suggestion\". Or we could suppress the rule for some files/folders.",
      "created_at": "2020-10-30T05:31:52Z",
      "updated_at": "2020-10-30T05:31:52Z"
    },
    {
      "author": "xtqqczze",
      "author_association": "CONTRIBUTOR",
      "body": "@iSazonov We cannot use directory based suppression, at least for `src\\System.Management.Automation\\engine\\interpreter\\` as there are files with different licenses present in the same directory.\r\n\r\nFor `suggestion` severity, I worry that it would be too easy for a contributor to accidentally accept a light bulb recommendation in an existing file, resulting in a change in the license header! If we were to set `suggestion`, I would want maintainer review of this change.\r\n\r\n",
      "created_at": "2020-10-30T14:49:23Z",
      "updated_at": "2020-10-30T14:49:23Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "> For suggestion severity, I worry that it would be too easy for a contributor to accidentally accept a light bulb recommendation in an existing file, resulting in a change in the license header!\r\n\r\nIt is not problem. We have some files from other repositories with different licenses and the files are frozen. We know about this. So \"suggestion\" is good compromise.",
      "created_at": "2020-10-30T16:59:34Z",
      "updated_at": "2020-10-30T16:59:34Z"
    },
    {
      "author": "xtqqczze",
      "author_association": "CONTRIBUTOR",
      "body": "> > For suggestion severity, I worry that it would be too easy for a contributor to accidentally accept a light bulb recommendation in an existing file, resulting in a change in the license header!\r\n> \r\n> It is not problem. We have some files from other repositories with different licenses and the files are frozen. We know about this. So \"suggestion\" is good compromise.\r\n\r\nOK",
      "created_at": "2020-10-30T17:13:27Z",
      "updated_at": "2020-10-30T17:13:27Z"
    },
    {
      "author": "xtqqczze",
      "author_association": "CONTRIBUTOR",
      "body": "@iSazonov Are there any options for suppression on a per file basis, other than the following?\r\n\r\n```csharp\r\n#pragma warning disable IDE0073 // The file header does not match the required text\r\n// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n#pragma warning restore IDE0073 // The file header does not match the required text\r\n```\r\n\r\nThe example above is for the file: `src\\System.Management.Automation\\engine\\ComInterop\\ArgBuilder.cs`.",
      "created_at": "2020-10-30T17:13:33Z",
      "updated_at": "2020-10-30T17:13:33Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@xtqqczze The case is so rare and not critical so we can use \"suggestion\" without any concerns - maintainer will review and ensure.",
      "created_at": "2020-10-30T17:51:47Z",
      "updated_at": "2020-10-30T17:51:47Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "Reopen the PR to restart all CIs.",
      "created_at": "2020-10-30T17:56:21Z",
      "updated_at": "2020-10-30T17:56:21Z"
    },
    {
      "author": "xtqqczze",
      "author_association": "CONTRIBUTOR",
      "body": "Build failures are due to PowerShell Gallery unavailability, see #13946.",
      "created_at": "2020-10-30T17:57:18Z",
      "updated_at": "2020-10-30T18:12:37Z"
    },
    {
      "author": "xtqqczze",
      "author_association": "CONTRIBUTOR",
      "body": "closing and reopening to restart tests\r\n",
      "created_at": "2020-10-31T03:25:29Z",
      "updated_at": "2020-10-31T03:25:29Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "I wonder before the change we have \"warning\" but build does not fail.",
      "created_at": "2020-10-31T12:39:19Z",
      "updated_at": "2020-10-31T12:39:19Z"
    },
    {
      "author": "xtqqczze",
      "author_association": "CONTRIBUTOR",
      "body": "It appears that IDE0073 is only triggering in live analysis, not in build. We need to set MSBuild property `EnforceCodeStyleInBuild`.",
      "created_at": "2020-10-31T16:33:09Z",
      "updated_at": "2020-10-31T16:33:09Z"
    },
    {
      "author": "xtqqczze",
      "author_association": "CONTRIBUTOR",
      "body": "Change was merged in #13957.",
      "created_at": "2020-11-01T18:26:26Z",
      "updated_at": "2020-11-01T18:26:26Z"
    }
  ],
  "created_at": "2020-10-29T22:38:51Z",
  "number": 13935,
  "state": "closed",
  "title": "Disable IDE0073: FileHeaderMismatch",
  "updated_at": "2020-11-01T18:26:41Z"
}