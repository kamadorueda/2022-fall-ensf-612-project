{
  "_url": "https://github.com/PowerShell/PowerShell/issues/18346",
  "author": "xtqqczze",
  "body": "Remove the following unsupported versions from `$PSVersionTable.PSCompatibleVersions`:\r\n\r\n| Version | End-of-support\r\n| -- | -- |\r\n| 5.0 | October 10, 2017* |\r\n| 6.0 | February 13, 2019 |\r\n| 6.1 | September 28, 2019 |\r\n| 6.2 | September 4, 2020 |\r\n| 7.1 | May 8, 2022 |\r\n\r\nThe following versions were **not** removed as they are apparently still supported by Microsoft:\r\n\r\n| Version | |\r\n| -- | -- |\r\n| 1.0  | Optional component of Windows Server 2008, which is supported under Extended Security Updates on Azure until January 9, 2024. |\r\n| 2.0 | Integrated in Windows Server 2008 R2, which is supported under Extended Security Updates on Azure until January 9, 2024. |\r\n\r\n*Installed by default on Windows 10 version 1511, which is out-of-support since October 10, 2017. See [Windows PowerShell System Requirements](https://learn.microsoft.com/en-us/powershell/scripting/windows-powershell/install/windows-powershell-system-requirements#windows-powershell-50). ",
  "closed_at": null,
  "comments": [
    {
      "author": "xtqqczze",
      "author_association": "CONTRIBUTOR",
      "body": "What is the actual purpose of `$PSVersionTable.PSCompatibleVersions`?\r\n\r\nDocumentation says: \"Versions of PowerShell that are compatible with the current version\"",
      "created_at": "2022-10-21T23:11:05Z",
      "updated_at": "2022-10-21T23:11:05Z"
    },
    {
      "author": "xtqqczze",
      "author_association": "CONTRIBUTOR",
      "body": "As PSv1 and PSv2 will be technically still supported, they will not be removed as part of this PR without confirmation from PowerShell committee.\r\n\r\ncc: @daxian-dbw\r\n",
      "created_at": "2022-10-22T19:50:28Z",
      "updated_at": "2022-10-22T20:13:43Z"
    },
    {
      "author": "xtqqczze",
      "author_association": "CONTRIBUTOR",
      "body": "restarting tests",
      "created_at": "2022-10-22T22:22:31Z",
      "updated_at": "2022-10-22T22:22:31Z"
    },
    {
      "author": "pull-request-quantifier[bot]",
      "author_association": "NONE",
      "body": "### ![](https://img.shields.io/static/v1?label=Quantified&message=Extra%20Small&color=green)\r\n\r\nThis PR has `9` quantified lines of changes. In general, a change size of upto `200` lines is ideal for the best PR experience!\r\n\r\n------\r\n\r\n<details >\r\n    <summary display=\"inline\"> <strong>Quantification details</strong></summary>\r\n    <p />\r\n\r\n```\r\nLabel      : Extra Small\r\nSize       : +2 -7\r\nPercentile : 3.6%\r\n\r\nTotal files changed: 2\r\n\r\nChange summary by file extension:\r\n.cs : +1 -6\r\n.ps1 : +1 -1\r\n```\r\n> Change counts above are quantified counts, based on the [PullRequestQuantifier customizations](https://github.com/microsoft/PullRequestQuantifier/blob/main/docs/prquantifier-yaml.md).\r\n    \r\n</details>\r\n\r\n\r\n<details>\r\n    <summary display=\"inline\"> <strong>Why proper sizing of changes matters</strong> </summary>\r\n    <p/>\r\n    <p/>\r\n\r\nOptimal pull request sizes drive a better predictable PR flow as they strike a\r\nbalance between between PR complexity and PR review overhead. PRs within the\r\noptimal size (typical small, or medium sized PRs) mean:\r\n\r\n- Fast and predictable releases to production:\r\n  - Optimal size changes are more likely to be reviewed faster with fewer\r\niterations.\r\n  - Similarity in low PR complexity drives similar review times.\r\n- Review quality is likely higher as complexity is lower:\r\n  - Bugs are more likely to be detected.\r\n  - Code inconsistencies are more likely to be detected.\r\n- Knowledge sharing is improved within the participants:\r\n  - Small portions can be assimilated better.\r\n- Better engineering practices are exercised:\r\n  - Solving big problems by dividing them in well contained, smaller problems.\r\n  - Exercising separation of concerns within the code changes.\r\n\r\n#### What can I do to optimize my changes\r\n\r\n- Use the PullRequestQuantifier to quantify your PR accurately\r\n  - Create a context profile for your repo using the [context generator](https://github.com/microsoft/PullRequestQuantifier/releases)\r\n  - Exclude files that are not necessary to be reviewed or do not increase the review complexity. Example: Autogenerated code, docs, project IDE setting files, binaries, etc. Check out the `Excluded` section from your `prquantifier.yaml` context profile. \r\n  - Understand your typical change complexity, drive towards the desired complexity by adjusting the label mapping in your `prquantifier.yaml` context profile.\r\n  - Only use the labels that matter to you, [see context specification](./docs/prquantifier-yaml.md) to customize your `prquantifier.yaml` context profile.\r\n- Change your engineering behaviors\r\n  - For PRs that fall outside of the desired spectrum, review the details and check if:\r\n    - Your PR could be split in smaller, self-contained PRs instead\r\n    - Your PR only solves one particular issue. (For example, don't refactor and code new features in the same PR).\r\n\r\n#### How to interpret the change counts in git diff output\r\n\r\n- One line was added: `+1 -0`\r\n- One line was deleted: `+0 -1`\r\n- One line was modified: `+1 -1` (git diff doesn't know about modified, it will\r\ninterpret that line like one addition plus one deletion)\r\n- Change percentiles: Change characteristics (addition, deletion, modification)\r\nof this PR in relation to all other PRs within the repository.\r\n\r\n</details>\r\n\r\n<p />\r\n\r\n------\r\n\r\nWas this comment helpful? <a href=\"https://pullrequestquantifierfeedback.azurewebsites.net/feedback?payload=eyJBdXRob3JOYW1lIjoieHRxcWN6emUiLCJSZXBvc2l0b3J5TGluayI6Imh0dHBzOi8vZ2l0aHViLmNvbS9Qb3dlclNoZWxsL1Bvd2VyU2hlbGwiLCJQdWxsUmVxdWVzdExpbmsiOiJodHRwczovL2dpdGh1Yi5jb20vUG93ZXJTaGVsbC9Qb3dlclNoZWxsL3B1bGwvMTgzNDYiLCJFdmVudFR5cGUiOiJUaHVtYnNVcCJ9&amp;anonymous=True\" target=\"_blank\" title=\"Thumbs up\"><strong>:thumbsup:</strong></a> <a href=\"https://pullrequestquantifierfeedback.azurewebsites.net/feedback?payload=eyJBdXRob3JOYW1lIjoieHRxcWN6emUiLCJSZXBvc2l0b3J5TGluayI6Imh0dHBzOi8vZ2l0aHViLmNvbS9Qb3dlclNoZWxsL1Bvd2VyU2hlbGwiLCJQdWxsUmVxdWVzdExpbmsiOiJodHRwczovL2dpdGh1Yi5jb20vUG93ZXJTaGVsbC9Qb3dlclNoZWxsL3B1bGwvMTgzNDYiLCJFdmVudFR5cGUiOiJOZXV0cmFsIn0=&amp;anonymous=True\" target=\"_blank\" title=\"Neutral\"><strong>&nbsp;:ok_hand:</strong></a> <a href=\"https://pullrequestquantifierfeedback.azurewebsites.net/feedback?payload=eyJBdXRob3JOYW1lIjoieHRxcWN6emUiLCJSZXBvc2l0b3J5TGluayI6Imh0dHBzOi8vZ2l0aHViLmNvbS9Qb3dlclNoZWxsL1Bvd2VyU2hlbGwiLCJQdWxsUmVxdWVzdExpbmsiOiJodHRwczovL2dpdGh1Yi5jb20vUG93ZXJTaGVsbC9Qb3dlclNoZWxsL3B1bGwvMTgzNDYiLCJFdmVudFR5cGUiOiJUaHVtYnNEb3duIn0=&amp;anonymous=True\" target=\"_blank\" title=\"Thumbs down\"><strong>&nbsp;:thumbsdown:</strong></a> (<a href=\"MAILTO:prquantifier@microsoft.com\" title=\"Mail to prquantifier@microsoft.com\">Email</a>)\r\n[Customize PullRequestQuantifier](https://github.com/PowerShell/PowerShell/blob/master/.github/prquantifier.yaml) for this repository.\r\n\r\n",
      "created_at": "2022-10-22T22:22:37Z",
      "updated_at": "2022-10-22T22:22:37Z"
    },
    {
      "author": "msftbot[bot]",
      "author_association": "NONE",
      "body": "This pull request has been automatically marked as Review Needed because it has been there has not been any activity for **7 days**.\nMaintainer, please provide feedback and/or mark it as `Waiting on Author`",
      "created_at": "2022-11-02T02:01:23Z",
      "updated_at": "2022-11-02T02:01:23Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "@PowerShell/powershell-committee Need the committee to review whether we want to make changes to the `PSCompatibleVersions` key of `$PSVersionTable`.",
      "created_at": "2022-11-07T18:18:38Z",
      "updated_at": "2022-11-07T18:18:38Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "PS-Committee will discuss this today",
      "created_at": "2022-11-09T16:47:30Z",
      "updated_at": "2022-11-09T16:47:30Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@PowerShell/powershell-committee discussed this.  This member advertises compatibility (language, not cmdlets) and not support, so we recommend not making any changes to this member despite some older versions of PowerShell are no longer supported, they are still compatible if you have older scripts.\r\n\r\nOur request is to update the table to include only this information:\r\n\r\n```console\r\nPS> $psversiontable.PSCompatibleVersions\r\n\r\nMajor  Minor  Build  Revision\r\n-----  -----  -----  --------\r\n1      0      -1     -1\r\n2      0      -1     -1\r\n3      0      -1     -1\r\n3      0      -1     -1\r\n4      0      -1     -1\r\n5      0      -1     -1\r\n5      1      10032  0\r\n6      0      -1     -1\r\n7      0      -1     -1\r\n```\r\n\r\nAnd I'll open a corresponding doc bug indicating that 6.0 and 7.0 means all minor versions are compatible (as [System.Version] requires a minor version element).\r\n\r\n\r\n\r\n",
      "created_at": "2022-11-09T22:49:50Z",
      "updated_at": "2022-11-09T22:49:50Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "\r\n![image](https://user-images.githubusercontent.com/127450/201178110-ae64e244-d75a-4467-b2f9-ea5ec2308fa0.png)\r\n\r\nLet's just use 5.1 without the build and patch values. The actual build and patch values keep changing with newer windows releases. For example, `$PSVersionTable` in Windows PowerShell on my Win11 machine looks like this:\r\n\r\n![image](https://user-images.githubusercontent.com/127450/201178477-747ca0b2-6393-4b7b-bfe9-b21f81952f26.png)\r\n",
      "created_at": "2022-11-10T18:35:34Z",
      "updated_at": "2022-11-10T18:35:34Z"
    },
    {
      "author": "kilasuit",
      "author_association": "COLLABORATOR",
      "body": "I disagree with this PR as the value is for `compatible` versions, not `supported` versions and to answer @xtqqczze question \r\n\r\n>What is the actual purpose of $PSVersionTable.PSCompatibleVersions?\r\n\r\nThis is **meant** to mean that code written for these prior versions of PowerShell is compatible with the current version of the PowerShell engine. _Note_ I state engine, not modules or cmdlets/functions here.\r\n\r\n>Documentation says: \"Versions of PowerShell that are compatible with the current version\"\r\n\r\nThis could be made clearer and should be raised as a documentation issue cc @sdwheeler / @michaeltlombardi ",
      "created_at": "2022-11-10T19:54:16Z",
      "updated_at": "2022-11-10T19:54:16Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "> This member advertises compatibility (language, not cmdlets) and not support\r\n\r\nWho and how uses the information in real world? Can anybody demonstrate a project/module where this is used?",
      "created_at": "2022-11-11T03:48:57Z",
      "updated_at": "2022-11-11T03:48:57Z"
    }
  ],
  "created_at": "2022-10-21T17:35:13Z",
  "number": 18346,
  "state": "open",
  "title": "Remove unsupported versions from `PSCompatibleVersions`",
  "updated_at": "2022-11-11T03:48:57Z"
}