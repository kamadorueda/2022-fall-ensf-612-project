{
  "_url": "https://github.com/PowerShell/PowerShell/issues/2090",
  "author": "lzybkr",
  "body": "The input loop reading from stdin did not handle multi-line input correctly\nbecause it was adding a newline character where none was expected.\n\nThe fix was to not include the final newline character to accept input,\njust like Console.ReadLine or PSReadline would.\n\nFixes #2068.\n",
  "closed_at": "2016-08-31T20:52:47Z",
  "comments": [
    {
      "author": "msftclas",
      "author_association": "NONE",
      "body": "Hi **@lzybkr**, I'm your friendly neighborhood Microsoft Pull Request Bot (You can call me MSBOT). Thanks for your contribution!\n    <p>\n        It looks like you're a Microsoft contributor (Jason Shirk (POWERSHELL)). If you're full-time, we DON'T require a Contribution License Agreement. If you are a vendor, please DO sign the electronic Contribution License Agreement. It will take 2 minutes and there's no faxing! https://cla.microsoft.com.\n    </p>\n\nTTYL, MSBOT;\n",
      "created_at": "2016-08-26T23:11:12Z",
      "updated_at": "2016-08-26T23:11:12Z"
    },
    {
      "author": "Iristyle",
      "author_association": "NONE",
      "body": "@lzybkr is this something that you would target for the anniversary update as well?\n",
      "created_at": "2016-08-29T17:05:03Z",
      "updated_at": "2016-08-29T17:05:03Z"
    },
    {
      "author": "andschwa",
      "author_association": "MEMBER",
      "body": "@Iristyle what's the anniversary update?\n",
      "created_at": "2016-08-29T21:47:50Z",
      "updated_at": "2016-08-29T21:47:50Z"
    },
    {
      "author": "andschwa",
      "author_association": "MEMBER",
      "body": "LGTM.\n",
      "created_at": "2016-08-29T21:48:52Z",
      "updated_at": "2016-08-29T21:48:52Z"
    },
    {
      "author": "lzybkr",
      "author_association": "MEMBER",
      "body": "@Iristyle - I believe it's too late for the Win10 Anniversary update.\n",
      "created_at": "2016-08-30T04:28:24Z",
      "updated_at": "2016-08-30T04:28:24Z"
    },
    {
      "author": "glennsarti",
      "author_association": "NONE",
      "body": "@andschwa The anniversary update refers to the powershell version deployed as part of the Windows 10 Anniversay Update (https://blogs.windows.com/windowsexperience/2016/08/02/how-to-get-the-windows-10-anniversary-update/#CMlK5gQR04gqMms6.97)\n\nThis PR is targetting Powershell 6.x, will this be back ported to 5.1.x ?\n",
      "created_at": "2016-08-30T16:34:56Z",
      "updated_at": "2016-08-30T16:34:56Z"
    },
    {
      "author": "Iristyle",
      "author_association": "NONE",
      "body": "@lzybkr just to clarify a bit on what @glennsarti has mentioned - since this fixes a regression in the  5.1.x anniversary builds, we're hoping this is something that will be released in a Windows update or similar patch vehicle, for anyone who is on PS 5.1, due to the severity of the problem.\n\nBetween this issue and #2071, the Puppet PowerShell and DSC modules are unfortunately broken on 5.1 builds of PowerShell (#2071 is the more serious issue)\n\nWe have a ticket on our side at https://tickets.puppetlabs.com/browse/MODULES-3690 tracking this.\n\nThanks again for the quick turnaround time on digging in on this!\n",
      "created_at": "2016-08-31T00:01:30Z",
      "updated_at": "2016-08-31T00:01:30Z"
    },
    {
      "author": "lzybkr",
      "author_association": "MEMBER",
      "body": "The PowerShell team doesn't have the final say regarding patches to GA, but we can certainly try to get it approved.\n",
      "created_at": "2016-08-31T01:15:58Z",
      "updated_at": "2016-08-31T01:15:58Z"
    },
    {
      "author": "glennsarti",
      "author_association": "NONE",
      "body": "@lzybkr So how do I raise an issue against the Powershell 5.1 product if _this_ Powershell team has no say in it?\n",
      "created_at": "2016-08-31T17:05:57Z",
      "updated_at": "2016-08-31T17:05:57Z"
    },
    {
      "author": "vors",
      "author_association": "COLLABORATOR",
      "body": ":shipit: \n",
      "created_at": "2016-08-31T18:42:40Z",
      "updated_at": "2016-08-31T18:42:40Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@glennsarti UserVoice is the way to influence changes in Windows: https://windowsserver.uservoice.com/forums/301869-powershell\n",
      "created_at": "2016-08-31T21:02:29Z",
      "updated_at": "2016-08-31T21:02:29Z"
    },
    {
      "author": "Iristyle",
      "author_association": "NONE",
      "body": "@SteveL-MSFT it looks like others have encountered this as well - see the UserVoice issue at https://windowsserver.uservoice.com/forums/301869-powershell/suggestions/15854689-powershell-exe-command-is-broken-on-windows-10\n",
      "created_at": "2016-08-31T21:10:21Z",
      "updated_at": "2016-08-31T21:10:21Z"
    },
    {
      "author": "lzybkr",
      "author_association": "MEMBER",
      "body": "@glennsarti - it's inaccurate to say the PowerShell team has no say, but there is a Windows servicing team that makes the ultimate decision on patches like this. I just need to make it clear that despite our best efforts, we can't promise anything.\n\n@SteveL-MSFT suggested uservoice - that can help, be sure to vote on the existing issue: https://windowsserver.uservoice.com/forums/301869-powershell/suggestions/15854689-powershell-exe-command-is-broken-on-windows-10\n\nI don't think we'll need more to get approval, but there are other options we can discuss if it comes to that.\n",
      "created_at": "2016-08-31T21:10:45Z",
      "updated_at": "2016-08-31T21:10:45Z"
    },
    {
      "author": "Iristyle",
      "author_association": "NONE",
      "body": "@Izybkr / @SteveL-MSFT - something that hasn't been mentioned, but that we're also concerned about is that we understand that PS 5.1 is the shipping PowerShell version on Server 2016.\n\nIf that's the case, that will be pretty impactful for our userbase, given our product is primarily used on server SKUs.\n",
      "created_at": "2016-08-31T21:17:35Z",
      "updated_at": "2016-08-31T21:17:35Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "To give an update on this, this fix should be showing up in WMF5.1 RTM as well as a servicing update for Win10/WS2016 by end of calendar year.\n",
      "created_at": "2016-10-27T17:30:35Z",
      "updated_at": "2016-10-27T17:30:35Z"
    },
    {
      "author": "ARBFL",
      "author_association": "NONE",
      "body": "@SteveL-MSFT \nAny news about a fix for Powershell 5.1 in Windows 10 1607 or Server 2016?\n",
      "created_at": "2016-11-15T14:51:51Z",
      "updated_at": "2016-11-15T14:51:51Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@arbfl this fix is included in WMF5.1 (I believe there will be a blog about when it's coming out) and part of Win10/WS2016 servicing (fix will probably be part of a Dec servicing pkg)\n",
      "created_at": "2016-11-15T18:23:00Z",
      "updated_at": "2016-11-15T18:23:00Z"
    }
  ],
  "created_at": "2016-08-26T23:11:08Z",
  "number": 2090,
  "state": "closed",
  "title": "Fix multi-line input w/ redirected stdin",
  "updated_at": "2016-11-15T18:23:00Z"
}