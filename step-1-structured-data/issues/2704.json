{
  "_url": "https://github.com/PowerShell/PowerShell/issues/2704",
  "author": "vors",
  "body": "We want to workaround CoreFX bug.\r\nhttps://github.com/dotnet/corefx/issues/5540\r\nThey are exporting the same public type from both assemblies.\r\n\r\nThere is a workaround: an internal Roslyn API that allows compiling such\r\ncases.\r\n\r\n~~This API will become public at some point, this work is tracked in\r\nhttps://github.com/dotnet/roslyn/issues/5855~~\r\n\r\nFix #1616",
  "closed_at": "2017-02-27T04:31:47Z",
  "comments": [
    {
      "author": "vors",
      "author_association": "COLLABORATOR",
      "body": "cc @tmat\n",
      "created_at": "2016-11-17T19:48:22Z",
      "updated_at": "2016-11-17T19:48:22Z"
    },
    {
      "author": "tmat",
      "author_association": "NONE",
      "body": "\ud83d\udc4d \n",
      "created_at": "2016-11-17T21:13:51Z",
      "updated_at": "2016-11-17T21:13:51Z"
    },
    {
      "author": "vors",
      "author_association": "COLLABORATOR",
      "body": "Marked it as \"Blocked\" for now.\r\n@PowerShell/powershell-committee can you, please, take a look?",
      "created_at": "2016-11-21T17:50:35Z",
      "updated_at": "2016-11-21T17:50:35Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@vors I don't think this is something @PowerShell/powershell-committee would normally review, seems more like a decision the @PowerShell/powershell-maintainers should make",
      "created_at": "2016-11-21T17:53:18Z",
      "updated_at": "2016-11-21T17:53:18Z"
    },
    {
      "author": "lzybkr",
      "author_association": "MEMBER",
      "body": "I would like a commitment from @tmat to make the api public before we take this PR.\r\n\r\nJustification - we break ourselves (mostly in tests) when we rely on reflection of internals. I'd hate to be broken by code we don't own.",
      "created_at": "2016-11-21T18:03:25Z",
      "updated_at": "2016-11-21T18:03:25Z"
    },
    {
      "author": "tmat",
      "author_association": "NONE",
      "body": "Since the original issue is in CoreFX and is feasible to fix there I don't think Roslyn should expose public API to work around it. Such public API would be obsolete once CoreFX fixes the issue. @jaredpar to confirm.",
      "created_at": "2016-11-21T18:10:47Z",
      "updated_at": "2016-11-21T18:11:12Z"
    },
    {
      "author": "tmat",
      "author_association": "NONE",
      "body": "Note that we established that the CoreFX can fix the issue during the discussion of this PR. The mentioned Roslyn work item dotnet/roslyn#5855 indeed depends on having the fix in CoreFX.",
      "created_at": "2016-11-21T18:14:21Z",
      "updated_at": "2016-11-21T18:14:21Z"
    },
    {
      "author": "vors",
      "author_association": "COLLABORATOR",
      "body": "Blocked on https://github.com/dotnet/corefx/issues/5540",
      "created_at": "2016-11-21T18:16:57Z",
      "updated_at": "2016-11-21T18:16:57Z"
    },
    {
      "author": "lzybkr",
      "author_association": "MEMBER",
      "body": "Closing - in theory https://github.com/dotnet/coreclr/pull/9269 will address this, and if not, we still need to work with the CLR to get the right solution.",
      "created_at": "2017-02-27T04:31:47Z",
      "updated_at": "2017-02-27T04:31:47Z"
    }
  ],
  "created_at": "2016-11-17T01:35:29Z",
  "number": 2704,
  "state": "closed",
  "title": "Add WithTopLevelBinderFlags call hack to Add-Type",
  "updated_at": "2017-03-27T05:51:33Z"
}