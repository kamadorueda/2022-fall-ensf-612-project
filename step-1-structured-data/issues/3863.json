{
  "_url": "https://github.com/PowerShell/PowerShell/issues/3863",
  "author": "IISResetMe",
  "body": "`Start-Trace` neglects qualifying arguments to the -o and -pf command line\r\nswitches, causing logman (and subsequently Start-Trace) to exit with error code\r\n`0x80070057` and return:\r\n\r\n```\r\nError:\r\nThe argument is incorrect.\r\n```\r\n\r\nThis is easy to reproduce on Windows:\r\n\r\n```\r\nPS> $dir = mkdir \"a foldername with spaces\" \r\nPS> $OutFile = Join-Path $dir trace.log\r\nPS> Start-Trace test -OutputFilePath $OutFile -ETS\r\nArgument 'foldername' is unknown.\r\nArgument 'with' is unknown.\r\nArgument 'spaces\\trace.log' is unknown.\r\nArgument 'pf' requires additional parameters.\r\n\r\nError:\r\nThe parameter is incorrect.\r\n```\r\n\r\nThis commit moves basic input validation for output file paths to the\r\nProviderFilePath and OutputFilePath parameter definitions, and adds text\r\nqualifiers (double-quotes) around input arguments\r\n\r\n<!--\r\n\r\nIf you are a PowerShell Team member, please make sure you choose the Reviewer(s) and Assignee for your PR.\r\nIf you are not from the PowerShell Team, you can leave the fields blank and the Maintainers will choose them for you. If you are familiar with the team, feel free to mention some Reviewers yourself.\r\n\r\nFor more information about the roles of Reviewer and Assignee, refer to CONTRIBUTING.md.\r\n\r\n-->\r\n",
  "closed_at": "2017-08-04T22:26:52Z",
  "comments": [
    {
      "author": "msftclas",
      "author_association": "NONE",
      "body": "\r\nThis seems like a small (but important) contribution, so no Contribution License Agreement is required at this point. We will now review your pull request.\n_Thanks,\nMicrosoft Pull Request Bot_",
      "created_at": "2017-05-25T17:27:45Z",
      "updated_at": "2017-05-25T17:27:45Z"
    },
    {
      "author": "TravisEz13",
      "author_association": "MEMBER",
      "body": "Will close if no response to review within a week.",
      "created_at": "2017-07-21T18:18:51Z",
      "updated_at": "2017-07-21T18:18:51Z"
    },
    {
      "author": "IISResetMe",
      "author_association": "COLLABORATOR",
      "body": "Apologies for the delay, but I'm unsure of how to structure the test. I can't find any precedent or existing examples for tests with dependencies on Windows-specific external executables. Any guidance would be much appreciated",
      "created_at": "2017-07-24T01:47:17Z",
      "updated_at": "2017-07-24T01:47:17Z"
    },
    {
      "author": "PaulHigin",
      "author_association": "COLLABORATOR",
      "body": "I think all you need to do is test Start-Trace with an output file path having spaces (per your repro steps).  You can use \"$IsWindows\" to limit the test to only run on Windows platforms.  Do a search for \"$IsWindows\" to see how other tests restrict to Windows only platforms.\r\n\r\n@JamesWTruher Do you have any other advice such as where the test should reside?",
      "created_at": "2017-07-24T18:22:29Z",
      "updated_at": "2017-07-24T18:22:29Z"
    },
    {
      "author": "TravisEz13",
      "author_association": "MEMBER",
      "body": "@IISResetMe Please try to write tests in the future.  I've filed an issue for the missing tests.  Thanks for the contribution.",
      "created_at": "2017-08-04T22:26:48Z",
      "updated_at": "2017-08-04T22:26:48Z"
    }
  ],
  "created_at": "2017-05-25T17:27:42Z",
  "number": 3863,
  "state": "closed",
  "title": "Bug: Start-Trace handles file paths incorrectly",
  "updated_at": "2017-08-04T22:26:52Z"
}