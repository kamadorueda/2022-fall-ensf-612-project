{
  "_url": "https://github.com/PowerShell/PowerShell/issues/16026",
  "author": "InTEGr8or",
  "body": "### Prerequisites\n\n- [X] Write a descriptive title.\n- [X] Make sure you are able to repro it on the [latest released version](https://github.com/PowerShell/PowerShell/releases)\n- [X] Search the existing issues.\n- [X] Refer to the [FAQ](https://github.com/PowerShell/PowerShell/blob/master/docs/FAQ.md).\n- [X] Refer to [Differences between Windows PowerShell 5.1 and PowerShell](https://docs.microsoft.com/powershell/scripting/whats-new/differences-from-windows-powershell).\n\n### Steps to reproduce\n\nWhen using AWS.Tools.Common Powershell notifies me that too many versions of AWS tools are installed.\r\n\r\nBut AWSPowerShell.NetCore is _SO_ uninstalled. I've uninstalled it dozens of times, and each time \"Successfully\".\r\n\r\n```\r\n\u276f uninstall-module -name AWSPowerShell.NetCore -AllVersions -Force -Verbose\r\nVERBOSE: Performing the operation \"Uninstall-Module\" on target \"Version '4.1.0.0' of module 'AWSPowerShell.NetCore'\".\r\nVERBOSE: Successfully uninstalled the module 'AWSPowerShell.NetCore' from module base 'D:\\Documents\\PowerShell\\Modules\\AWSPowerShell.NetCore\\4.1.0.0'.\r\nxgenx@DESKTOP-NU23FHO \ue0b0 ~ \ue0b0                                                                                    [11:41]\r\n\u276f uninstall-module -name AWSPowerShell.NetCore -AllVersions -Force -Verbose\r\nVERBOSE: Performing the operation \"Uninstall-Module\" on target \"Version '4.1.0.0' of module 'AWSPowerShell.NetCore'\".\r\nVERBOSE: Successfully uninstalled the module 'AWSPowerShell.NetCore' from module base 'D:\\Documents\\PowerShell\\Modules\\AWSPowerShell.NetCore\\4.1.0.0'.\r\nxgenx@DESKTOP-NU23FHO \ue0b0 ~ \ue0b0                                                                                    [11:41]\r\n\u276f Get-Module -Name AWSPowerShell,AWSPowerShell.NetCore,AWS.Tools.Common -ListAvailable\r\n\r\n    Directory: C:\\Users\\xgenx\\OneDrive\\Documents2\\PowerShell\\Modules\r\n\r\nModuleType Version    PreRelease Name                                PSEdition ExportedCommands\r\n---------- -------    ---------- ----                                --------- ----------------\r\nBinary     4.1.14.0              AWS.Tools.Common                    Core,Desk {Clear-AWSHistory, Set-AWSHistoryConfig\u2026\r\nBinary     4.1.0.0               AWS.Tools.Common                    Core,Desk {Clear-AWSHistory, Set-AWSHistoryConfig\u2026\r\nBinary     4.1.0.0               AWSPowerShell.NetCore               Desk\r\n```\n\n### Expected behavior\n\n```console\nThe Powershell notification tells me to run `Get-Module -Name AWSPowerShell,AWSPowerShell.NetCore,AWS.Tools.Common -ListAvailable` to find the multiple installation problem, so I think that means I should only have one item in the result. \r\n\r\n\r\n\u276f Get-AWSCmdletName -Service s3\r\nWARNING: Multiple variants of AWS Tools for PowerShell (AWSPowerShell, AWSPowerShell.NetCore or AWS.Tools) are currently installed. Please run 'Get-Module -Name AWSPowerShell,AWSPowerShell.NetCore,AWS.Tools.Common -ListAvailable' for details. To avoid problems with cmdlet auto-importing, it is suggested to only install one variant.\r\n```\r\n\r\nI would like to not get that notification, by fixing the problem it's notifying about\n```\n\n\n### Actual behavior\n\n```console\n\u276f Get-AWSCmdletName -Service s3\r\nWARNING: Multiple variants of AWS Tools for PowerShell (AWSPowerShell, AWSPowerShell.NetCore or AWS.Tools) are currently installed. Please run 'Get-Module -Name AWSPowerShell,AWSPowerShell.NetCore,AWS.Tools.Common -ListAvailable' for details. To avoid problems with cmdlet auto-importing, it is suggested to only install one variant.\r\n\u276f Get-Module -Name AWSPowerShell,AWSPowerShell.NetCore,AWS.Tools.Common -ListAvailable\r\n\r\n    Directory: C:\\Users\\xgenx\\OneDrive\\Documents2\\PowerShell\\Modules\r\n\r\nModuleType Version    PreRelease Name                                PSEdition ExportedCommands\r\n---------- -------    ---------- ----                                --------- ----------------\r\nBinary     4.1.14.0              AWS.Tools.Common                    Core,Desk {Clear-AWSHistory, Set-AWSHistoryConfig\u2026\r\nBinary     4.1.0.0               AWS.Tools.Common                    Core,Desk {Clear-AWSHistory, Set-AWSHistoryConfig\u2026\r\nBinary     4.1.0.0               AWSPowerShell.NetCore               Desk\r\n\u276f uninstall-module -name AWSPowerShell.NetCore -AllVersions -Force -Verbose\r\nVERBOSE: Performing the operation \"Uninstall-Module\" on target \"Version '4.1.0.0' of module 'AWSPowerShell.NetCore'\".\r\nVERBOSE: Successfully uninstalled the module 'AWSPowerShell.NetCore' from module base 'D:\\Documents\\PowerShell\\Modules\\AWSPowerShell.NetCore\\4.1.0.0'.\r\nxgenx@DESKTOP-NU23FHO \ue0b0 ~ \ue0b0                                                                                    [11:41]\r\n\u276f Get-Module -Name AWSPowerShell,AWSPowerShell.NetCore,AWS.Tools.Common -ListAvailable\r\n\r\n    Directory: C:\\Users\\xgenx\\OneDrive\\Documents2\\PowerShell\\Modules\r\n\r\nModuleType Version    PreRelease Name                                PSEdition ExportedCommands\r\n---------- -------    ---------- ----                                --------- ----------------\r\nBinary     4.1.14.0              AWS.Tools.Common                    Core,Desk {Clear-AWSHistory, Set-AWSHistoryConfig\u2026\r\nBinary     4.1.0.0               AWS.Tools.Common                    Core,Desk {Clear-AWSHistory, Set-AWSHistoryConfig\u2026\r\nBinary     4.1.0.0               AWSPowerShell.NetCore               Desk\r\n\u276f Get-AWSCmdletName -Service s3\r\nWARNING: Multiple variants of AWS Tools for PowerShell (AWSPowerShell, AWSPowerShell.NetCore or AWS.Tools) are currently installed. Please run 'Get-Module -Name AWSPowerShell,AWSPowerShell.NetCore,AWS.Tools.Common -ListAvailable' for details. To avoid problems with cmdlet auto-importing, it is suggested to only install one variant.\n```\n\n\n### Error details\n\n_No response_\n\n### Environment data\n\n```powershell\n\u276f $PSVersionTable\r\n\r\nName                           Value\r\n----                           -----\r\nPSVersion                      7.1.4\r\nPSEdition                      Core\r\nGitCommitId                    7.1.4\r\nOS                             Microsoft Windows 10.0.19042\r\nPlatform                       Win32NT\r\nPSCompatibleVersions           {1.0, 2.0, 3.0, 4.0\u2026}\r\nPSRemotingProtocolVersion      2.3\r\nSerializationVersion           1.1.0.1\r\nWSManStackVersion              3.0\n```\n\n\n### Visuals\n\n_No response_",
  "closed_at": null,
  "comments": [],
  "created_at": "2021-08-31T19:00:50Z",
  "labels": [
    "Issue-Question",
    "Area-PowerShellGet",
    "Needs-Triage"
  ],
  "number": 16026,
  "state": "open",
  "title": "Uninstall-Module fails while reporting success",
  "updated_at": "2021-09-01T03:46:13Z"
}