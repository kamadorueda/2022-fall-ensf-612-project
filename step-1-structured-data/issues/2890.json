{
  "_url": "https://github.com/PowerShell/PowerShell/issues/2890",
  "author": "chunqingchen",
  "body": "Steps to reproduce\r\n```powershell\r\nNew-PSSessionConfigurationFile -Path .\\myJeaConfig.pssc -TranscriptDirectory 'C:\\temp\\transcripts' -SessionType RestrictedRemoteServer\r\nRegister-PSSessionConfiguration -Name JEA -Path .\\myJeaconfig.pssc\r\nEnter-PSSession -ComputerName Localhost -ConfigurationName JEA\r\n\r\nexit\r\n```\r\nExpected behavior\r\n\r\nPowerShell transcripts currently do not log the configuration name the user used to connect to and manage the machine. For JEA scenarios, this means an auditor trying to understand how someone was able to do a certain command will not know through which endpoint the user entered and was assigned those privileges.\r\n\r\nSuggestion is to add a new line to the transcript header similar to the following:\r\n\r\nConfigurationName: MyJEA\r\n\r\n[\u2026]\r\nRunAs User: WinRM Virtual Users\\WinRM VA_10_PRIV_priv.demo\r\nConfiguration Name: JEA\r\nMachine: DC (Microsoft Windows NT 10.0.14393.0)\r\n[\u2026]\r\n\r\nActual behavior\r\n\r\n[\u2026]\r\nRunAs User: WinRM Virtual Users\\WinRM VA_10_PRIV_priv.demo\r\nMachine: DC (Microsoft Windows NT 10.0.14393.0)\r\n[\u2026]\r\n\r\nEnvironment data\r\n```\r\nName Value\r\n\r\nPSVersion 5.1.14993.1000\r\nPSEdition Desktop\r\nPSCompatibleVersions {1.0, 2.0, 3.0, 4.0...}\r\nBuildVersion 10.0.14993.1000\r\nCLRVersion 4.0.30319.42000\r\nWSManStackVersion 3.0\r\nPSRemotingProtocolVersion 2.3\r\nSerializationVersion 1.1.0.1\r\n```",
  "closed_at": "2017-03-16T05:06:08Z",
  "comments": [
    {
      "author": "chunqingchen",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks @lzybkr, @PaulHigin  ! I have incorporated the suggested change. #Resolved",
      "created_at": "2016-12-17T05:01:31Z",
      "updated_at": "2017-01-03T18:38:31Z"
    },
    {
      "author": "chunqingchen",
      "author_association": "CONTRIBUTOR",
      "body": "@PaulHigin the request has been addressed.",
      "created_at": "2017-01-11T01:25:33Z",
      "updated_at": "2017-01-11T01:25:33Z"
    },
    {
      "author": "mirichmo",
      "author_association": "MEMBER",
      "body": "@chunqingchen Please include tests in this PR",
      "created_at": "2017-01-11T16:40:33Z",
      "updated_at": "2017-01-11T16:40:33Z"
    },
    {
      "author": "mirichmo",
      "author_association": "MEMBER",
      "body": "@chunqingchen You need to add yourself to Microsoft on GitHub",
      "created_at": "2017-02-17T00:21:16Z",
      "updated_at": "2017-02-17T00:21:16Z"
    },
    {
      "author": "joeyaiello",
      "author_association": "CONTRIBUTOR",
      "body": "@chunqingchen I suspect you're already in the orgs, you just need to do this (for both PowerShell and Microsoft, though doing Microsoft is what will fix the CLA bot): https://help.github.com/articles/publicizing-or-hiding-organization-membership/",
      "created_at": "2017-02-17T01:39:41Z",
      "updated_at": "2017-02-17T01:39:41Z"
    },
    {
      "author": "TravisEz13",
      "author_association": "MEMBER",
      "body": "There are open comments that still need to be addressed.  See: https://github.com/PowerShell/PowerShell/pull/2890#issuecomment-271920381",
      "created_at": "2017-02-23T20:21:55Z",
      "updated_at": "2017-02-23T20:21:55Z"
    },
    {
      "author": "TravisEz13",
      "author_association": "MEMBER",
      "body": "We have been waiting on author response to PR comments for over a week.\r\n> There are open comments that still need to be addressed. See: https://github.com/PowerShell/PowerShell/pull/2890#issuecomment-271920381",
      "created_at": "2017-03-06T21:59:29Z",
      "updated_at": "2017-03-06T22:00:35Z"
    },
    {
      "author": "chunqingchen",
      "author_association": "CONTRIBUTOR",
      "body": "working on the test now",
      "created_at": "2017-03-07T23:10:00Z",
      "updated_at": "2017-03-07T23:10:00Z"
    },
    {
      "author": "TravisEz13",
      "author_association": "MEMBER",
      "body": "@chunqingchen Please don't dismiss (delete) other people reviews.  If you believe someone review is bad enough to be dismissed, please talk to a maintainer.",
      "created_at": "2017-03-13T22:05:59Z",
      "updated_at": "2017-03-13T22:05:59Z"
    },
    {
      "author": "chunqingchen",
      "author_association": "CONTRIBUTOR",
      "body": "@TravisEz13 I meant the reviews are resolved. So dismiss is not the way to say it has been resolved. Got it.",
      "created_at": "2017-03-13T23:37:16Z",
      "updated_at": "2017-03-13T23:37:16Z"
    },
    {
      "author": "chunqingchen",
      "author_association": "CONTRIBUTOR",
      "body": "@PaulHigin Hi Paul, I talked with Travis and he agrees to merge the commit if you are fine. do you have any more comment about this change?",
      "created_at": "2017-03-15T01:02:18Z",
      "updated_at": "2017-03-15T01:02:18Z"
    },
    {
      "author": "PaulHigin",
      "author_association": "COLLABORATOR",
      "body": "I agree with @iSazonov comments.  Otherwise LGTM.",
      "created_at": "2017-03-15T15:21:39Z",
      "updated_at": "2017-03-15T15:21:39Z"
    },
    {
      "author": "chunqingchen",
      "author_association": "CONTRIBUTOR",
      "body": "@iSazonov @TravisEz13 comments are all resolved",
      "created_at": "2017-03-15T23:08:42Z",
      "updated_at": "2017-03-15T23:08:42Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "Thanks!\r\nTests LGTM.",
      "created_at": "2017-03-16T03:04:00Z",
      "updated_at": "2017-03-16T03:04:00Z"
    },
    {
      "author": "jpsnover",
      "author_association": "CONTRIBUTOR",
      "body": "Great change!",
      "created_at": "2017-04-09T01:41:46Z",
      "updated_at": "2017-04-09T01:41:46Z"
    }
  ],
  "created_at": "2016-12-15T03:39:18Z",
  "number": 2890,
  "state": "closed",
  "title": "PowerShell transcripts should include the configuration name in the transcript header",
  "updated_at": "2017-04-09T01:41:46Z"
}