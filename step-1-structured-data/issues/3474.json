{
  "_url": "https://github.com/PowerShell/PowerShell/issues/3474",
  "author": "TheFlyingCorpse",
  "body": "<!--\r\n\r\nIf you are a PowerShell Team member, please make sure you choose the Reviewer(s) and Assignee for your PR.\r\nIf you are not from the PowerShell Team, you can leave the fields blank and the Maintainers will choose them for you. If you are familiar with the team, feel free to mention some Reviewers yourself.\r\n\r\nFor more information about the roles of Reviewer and Assignee, refer to CONTRIBUTING.md.\r\n\r\n-->\r\nFirst of all, I am sorry that the tests didn't work after the merge to master.\r\n\r\nTo fix the behavior I propose these changes as attached in this PR.\r\n\r\nTwo changes:\r\n- Removed the `-TimeoutSec` option and modified the expected Error to be consistent across platforms.\r\n  - On Windows, the error message was as expected (as in the original test), meanwhile Linux gave a response error instead of the thread cancel as Windows had reported. Changed behavior by removing the timeout so it will properly test against the same Error on both Linux and Windows.\r\n- Changed the port of the phony proxy it looks for from port 8080 to 38080.\r\n  - Under Linux, if you run Tomcat or another service on port 8080 on the build machine, the tests will not work if they hit a responding port.\r\n  - In ideal circumstances you have a clean build machine, sadly not always. This change is to accommodate that scenario.",
  "closed_at": "2017-04-03T00:31:23Z",
  "comments": [],
  "created_at": "2017-04-01T22:25:01Z",
  "number": 3474,
  "state": "closed",
  "title": "Fix tests for WebCmdlets after -NoProxy addition",
  "updated_at": "2017-04-03T00:31:23Z"
}