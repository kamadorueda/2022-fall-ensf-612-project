{
  "_url": "https://github.com/PowerShell/PowerShell/issues/2679",
  "author": "mwrock",
  "body": "This is certainly an edge case but I am working in a docker container that has no `/` mount point:\r\n```\r\n[181][default:/src:0]# cat /proc/mounts\r\ntmpfs /dev tmpfs rw,nosuid,mode=755 0 0\r\ndevpts /dev/pts devpts rw,relatime,gid=5,mode=620,ptmxmode=000 0 0\r\nproc /proc proc rw,relatime 0 0\r\nsysfs /sys sysfs rw,relatime 0 0\r\ntmpfs /run tmpfs rw,relatime 0 0\r\ntmpfs /var/run/docker.sock tmpfs rw,nodev,relatime,size=201160k,mode=755 0 0\r\n//10.0.75.1/C /src cifs rw,relatime,vers=3.02,sec=ntlmssp,cache=strict,username=matt,domain=ULTRAWROCK,uid=0,noforceuid,gid=0,noforcegid,addr=10.0.75.1,file_mode=0755,dir_mode=0755,iocharset=utf8,nounix,serverino,mapposix,nobrl,mfsymlinks,noperm,rsize=1048576,wsize=1048576,actimeo=1 0 0\r\n```\r\nThis results in an \"automounted\" PS Drive named `/` but with a `Root` of `/dev` which causes `Get-Location`, `$pwd` and auto module loading to fail.\r\n\r\nThis ensures that a `/` dirive is added during the file system provider drive initialization and rooted to `/`.\r\n",
  "closed_at": "2016-11-15T18:27:13Z",
  "comments": [
    {
      "author": "mwrock",
      "author_association": "CONTRIBUTOR",
      "body": "To further clarify this, without this change, a PSDrive is still created for `/` but that happens later in [`AutoMountFileSystemDrive`](https://github.com/PowerShell/PowerShell/blob/master/src/System.Management.Automation/engine/SessionStateDriveAPIs.cs#L684). However the `root` is not adjusted so in the above case it points to `/dev` but in any case it would point to the first mount in `proc/mounts` and on *nix, `VolumeSeparatedByColon` is not set to `false` which results in malformed path resolution and a `Get-Location` looking like `/:/`.\n",
      "created_at": "2016-11-14T17:53:47Z",
      "updated_at": "2016-11-14T17:53:47Z"
    },
    {
      "author": "mwrock",
      "author_association": "CONTRIBUTOR",
      "body": "Sure thing @vors. Done!\n",
      "created_at": "2016-11-14T22:12:29Z",
      "updated_at": "2016-11-14T22:12:29Z"
    },
    {
      "author": "andschwa",
      "author_association": "MEMBER",
      "body": "Looks like the Travis CI queue filled up. I canceled some irrelevant jobs, this should run soon.\n",
      "created_at": "2016-11-14T23:56:41Z",
      "updated_at": "2016-11-14T23:56:41Z"
    }
  ],
  "created_at": "2016-11-14T11:13:39Z",
  "number": 2679,
  "state": "closed",
  "title": "ensure *nix platforms add an initial / rooted drive",
  "updated_at": "2016-11-15T18:27:13Z"
}