{
  "_url": "https://github.com/PowerShell/PowerShell/issues/15914",
  "author": "satya-rajesh",
  "body": "### Prerequisites\r\n\r\n- [X] Write a descriptive title.\r\n- [X] Make sure you are able to repro it on the [latest released version](https://github.com/PowerShell/PowerShell/releases)\r\n- [X] Search the existing issues.\r\n- [X] Refer to the [FAQ](https://github.com/PowerShell/PowerShell/blob/master/docs/FAQ.md).\r\n- [X] Refer to [Differences between Windows PowerShell 5.1 and PowerShell](https://docs.microsoft.com/powershell/scripting/whats-new/differences-from-windows-powershell).\r\n\r\n### Steps to reproduce\r\n\r\nThe issue is related to the build which supports openssl 3.0.0.\r\n\r\nAs per dotnet team, .Net 6.0 preview 7 is having the openssl 3.0.0 support.\r\n\r\nCompiled Powershell from https://github.com/PowerShell/PowerShell/releases/tag/v7.2.0-preview.8 with .Net 6.0 preview 7.\r\nThe expected result is supposed to build successful.\r\n\r\nThere are couple of issues observed:\r\n1) LangVersion is expected to be 10.0 instead of 9.0 - Updated it to 10.0 in powershell code.\r\n2) The following errors are observed next:\r\n```\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/FormatAndOutput/common/BaseCommand.cs(47,34): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/engine/Modules/ModuleCmdletBase.cs(3685,47): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/engine/Modules/ModuleSpecification.cs(262,57): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/engine/hostifaces/History.cs(169,26): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/engine/Modules/ModuleCmdletBase.cs(3756,57): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/engine/Modules/ModuleCmdletBase.cs(3933,58): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/engine/Modules/ModuleCmdletBase.cs(4678,71): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/engine/Modules/ModuleCmdletBase.cs(4737,65): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/engine/Modules/ModuleCmdletBase.cs(4774,87): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/engine/Modules/ModuleCmdletBase.cs(6153,77): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/engine/Modules/ModuleCmdletBase.cs(6888,54): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/engine/Modules/ModuleCmdletBase.cs(7387,54): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/FormatAndOutput/common/OutputManager.cs(196,57): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/FormatAndOutput/common/OutputManager.cs(206,50): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/FormatAndOutput/common/OutputManager.cs(244,45): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/FormatAndOutput/common/BaseCommand.cs(139,17): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/help/UpdatableHelpCommandBase.cs(218,69): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/help/UpdatableHelpCommandBase.cs(277,91): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n```\r\n\r\nRequest to provide a Powershell preview release which supports .dot 6.0 preview 7 (which has the support for openssl 3.0.0)\r\n\r\n### Expected behavior\r\n\r\n```console\r\nPowershell Build success\r\n```\r\n\r\n\r\n### Actual behavior\r\n\r\n```console\r\nPowershell Build Failed\r\n```\r\n\r\n\r\n### Error details\r\n\r\n```console\r\nThere are couple of issues observed:\r\n1) LangVersion is expected to be 10.0 instead of 9.0 - Updated it to 10.0 in powershell code.\r\n2) The following errors are observed next:\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/FormatAndOutput/common/BaseCommand.cs(47,34): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/engine/Modules/ModuleCmdletBase.cs(3685,47): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/engine/Modules/ModuleSpecification.cs(262,57): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/engine/hostifaces/History.cs(169,26): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/engine/Modules/ModuleCmdletBase.cs(3756,57): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/engine/Modules/ModuleCmdletBase.cs(3933,58): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/engine/Modules/ModuleCmdletBase.cs(4678,71): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/engine/Modules/ModuleCmdletBase.cs(4737,65): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/engine/Modules/ModuleCmdletBase.cs(4774,87): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/engine/Modules/ModuleCmdletBase.cs(6153,77): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/engine/Modules/ModuleCmdletBase.cs(6888,54): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/engine/Modules/ModuleCmdletBase.cs(7387,54): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/FormatAndOutput/common/OutputManager.cs(196,57): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/FormatAndOutput/common/OutputManager.cs(206,50): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/FormatAndOutput/common/OutputManager.cs(244,45): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/FormatAndOutput/common/BaseCommand.cs(139,17): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/help/UpdatableHelpCommandBase.cs(218,69): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/help/UpdatableHelpCommandBase.cs(277,91): error CS0104: 'ExecutionContext' is an ambiguous reference between 'System.Management.Automation.ExecutionContext' and 'System.Threading.ExecutionContext' [/usr/src/photon/BUILD/PowerShell-7.2.0/src/System.Management.Automation/System.Management.Automation.csproj]\r\n```\r\n\r\n\r\n### Environment data\r\n\r\n```powershell\r\nIssue with Build.\r\n```\r\n\r\n\r\n### Visuals\r\n\r\n_No response_",
  "closed_at": "2021-08-12T15:34:40Z",
  "comments": [
    {
      "author": "rjmholt",
      "author_association": "COLLABORATOR",
      "body": "> LangVersion is expected to be 10.0 instead of 9.0\r\n\r\nSee https://github.com/PowerShell/PowerShell/pull/15886.\r\n\r\n> Request to provide a Powershell preview release which supports .dot 6.0 preview 7\r\n\r\nSee https://github.com/PowerShell/PowerShell/pull/15896.\r\n\r\nWe discovered a number of issues trying to update to .NET 6 preview 7 and are working to fix them.\r\n\r\nI'll close this issue, since we are planning to release as new previews are integrated (and generally do that as soon as we possibly can).\r\n",
      "created_at": "2021-08-12T15:34:40Z",
      "updated_at": "2021-08-12T15:34:40Z"
    }
  ],
  "created_at": "2021-08-12T15:26:29Z",
  "number": 15914,
  "state": "closed",
  "title": "Request for Powershell preview release with .Net 6.0 Preview 7",
  "updated_at": "2021-08-12T15:34:42Z"
}