{
  "_url": "https://github.com/PowerShell/PowerShell/issues/7832",
  "author": "felixfbecker",
  "body": "## PR Summary\r\n\r\nAs proposed in #7749.\r\n\r\nThese can be used for autocompletion and validation in editors like VS Code. It makes writing Format and Types files ***so*** much more pleasant to write.\r\n\r\n![autocompletion](https://user-images.githubusercontent.com/10532611/45297479-cdfa5880-b505-11e8-88d4-20cf464532f8.png)\r\n\r\nThe schemas were taken from #7749 but extended with documentation parsed from the reference docs markdown [with a script](https://github.com/felixfbecker/PowerShellXSD).\r\n\r\nQuestion: Should this be hosted on http://schemas.microsoft.com/ like the MAML schemas? How do the MAML schemas get published there?\r\n\r\ncc @lzybkr @SteveL-MSFT\r\n\r\n## PR Checklist\r\n\r\n- [x] [PR has a meaningful title](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n    - Use the present tense and imperative mood when describing your changes\r\n- [x] [Summarized changes](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [x] [Change is not breaking](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#making-breaking-changes)\r\n- [x] [Make sure all `.h`, `.cpp`, `.cs`, `.ps1` and `.psm1` files have the correct copyright header](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [x] This PR is ready to merge and is not [Work in Progress](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---work-in-progress).\r\n    - If the PR is work in progress, please add the prefix `WIP:` to the beginning of the title and remove the prefix when the PR is ready.\r\n- **User-facing changes**\r\n    - [x] Not Applicable\r\n    - **OR**\r\n    - User-facing [Documentation needed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n        - Issue filed - Issue link:\r\n- **Testing - New and feature**\r\n    - [x] Not Applicable or can only be tested interactively\r\n    - **OR**\r\n    - Make sure you've added a new test if existing tests do not effectively test the code changed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#before-submitting)\r\n        - [Add `[feature]` if the change is significant or affects feature tests](https://github.com/PowerShell/PowerShell/blob/master/docs/testing-guidelines/testing-guidelines.md#requesting-additional-tests-for-a-pr)\r\n",
  "closed_at": "2018-10-02T23:13:46Z",
  "comments": [
    {
      "author": "felixfbecker",
      "author_association": "CONTRIBUTOR",
      "body": "@SteveL-MSFT as mentioned, all documentation is 1:1 unmodified from the Format XML schema reference: https://docs.microsoft.com/en-us/powershell/developer/format/format-schema-xml-reference\r\n\r\nI can easily update these schemas with new documentation by running the script again, but I don't think it makes sense to apply fixes to the documentation only to the schema? Most people will probably read the docs online. We should decide which one is the source of truth",
      "created_at": "2018-09-20T22:12:38Z",
      "updated_at": "2018-09-20T22:12:38Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@felixfbecker I submitted https://github.com/PowerShell/PowerShell-Docs/pull/2943 to fix the online documentation.  I'm ok leaving the second comment until we add more to the schema.  You can wait for that to be merged and rerun your script.",
      "created_at": "2018-09-20T23:29:17Z",
      "updated_at": "2018-09-20T23:29:33Z"
    },
    {
      "author": "lzybkr",
      "author_association": "MEMBER",
      "body": "I like the idea of a single source of truth. Maybe we should include your script in this PR so anyone can update the schemas from the docs.",
      "created_at": "2018-09-20T23:40:08Z",
      "updated_at": "2018-09-20T23:40:08Z"
    },
    {
      "author": "felixfbecker",
      "author_association": "CONTRIBUTOR",
      "body": "In an ideal world the docs would rather be generated from the schema (there are probably tools out there that do this). Parsing markdown with regexes is really hacky so I'm not sure if we want to rely on that. The current docs are not very well-structured in general so generating them differently would likely do them good. \r\n\r\n@SteveL-MSFT your change actually didn't affect my script because it only updated the table of contents, I sent a follow-up PR: https://github.com/PowerShell/PowerShell-Docs/pull/2944",
      "created_at": "2018-09-21T10:03:41Z",
      "updated_at": "2018-09-21T10:12:04Z"
    },
    {
      "author": "felixfbecker",
      "author_association": "CONTRIBUTOR",
      "body": "My script also detected many cases in the docs where the schema you gave me @lzybkr \tdirectly contradicted the reference docs, e.g. an explicit `minOccurs=\"0\"` in the schema, but an explicit \"This element is required\" in the docs. I tried out a few cases by omitting the element, loading the file into PowerShell and checking if it errors, and found that in all cases the docs were wrong. So the docs are a bad single source of truth.",
      "created_at": "2018-09-21T10:14:28Z",
      "updated_at": "2018-09-21T10:14:28Z"
    },
    {
      "author": "lzybkr",
      "author_association": "MEMBER",
      "body": "Generating the markdown does sound easier. It doesn't need to be in this PR, but I do like that idea.\r\n\r\nAnd I don't see ever truly having a single source of truth without generating PowerShell's parser from the xsd - but having done that once before, we'd want the generated code to be much better than what I saw a few years ago.",
      "created_at": "2018-09-21T18:01:44Z",
      "updated_at": "2018-09-24T17:48:53Z"
    },
    {
      "author": "felixfbecker",
      "author_association": "CONTRIBUTOR",
      "body": "@lzybkr @SteveL-MSFT updated schemas with latest docs, should be good to merge now.",
      "created_at": "2018-09-24T17:14:24Z",
      "updated_at": "2018-09-24T17:14:24Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@felixfbecker please rebase off master to pick up fixes causing the CI failures",
      "created_at": "2018-09-24T17:35:23Z",
      "updated_at": "2018-09-24T17:35:23Z"
    },
    {
      "author": "felixfbecker",
      "author_association": "CONTRIBUTOR",
      "body": "@SteveL-MSFT all green \u2705 ",
      "created_at": "2018-09-25T10:46:23Z",
      "updated_at": "2018-09-25T10:46:23Z"
    },
    {
      "author": "felixfbecker",
      "author_association": "CONTRIBUTOR",
      "body": "@adityapatwardhan?",
      "created_at": "2018-10-02T21:39:27Z",
      "updated_at": "2018-10-02T21:39:27Z"
    },
    {
      "author": "adityapatwardhan",
      "author_association": "MEMBER",
      "body": "@felixfbecker Sorry for the delay. I will review this today.",
      "created_at": "2018-10-02T22:16:06Z",
      "updated_at": "2018-10-02T22:16:06Z"
    },
    {
      "author": "adityapatwardhan",
      "author_association": "MEMBER",
      "body": "@felixfbecker Thanks for your contribution!",
      "created_at": "2018-10-02T23:14:03Z",
      "updated_at": "2018-10-02T23:14:03Z"
    }
  ],
  "created_at": "2018-09-20T18:13:26Z",
  "number": 7832,
  "state": "closed",
  "title": "Add XSDs for Format and Types.ps1xml files",
  "updated_at": "2019-04-06T19:49:55Z"
}