{
  "_url": "https://github.com/PowerShell/PowerShell/issues/11429",
  "author": "rkitover",
  "body": "Add Gentoo to list of supported distributions and add a\r\ntools/installpsh-gentoo.sh script which installs the Ubuntu 18.04\r\npowershell or powershell-preview .deb using the Gentoo dpkg port.\r\n\r\nIf -includeide is specified, also installs Visual Studio Code via\r\nflatpak, installing flatpak-overlay and flatpak if necessary.\r\n\r\nThis should work for most Gentoo users with a relatively recent system.\r\n\r\nAlso fix sudo check and pwsh-preview test in tools/installpsh-debian.sh.\r\n\r\nSigned-off-by: Rafael Kitover <rkitover@gmail.com>\r\n\r\n- [x] [PR has a meaningful title](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n    - Use the present tense and imperative mood when describing your changes\r\n- [x] [Summarized changes](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [ ] [Make sure all `.h`, `.cpp`, `.cs`, `.ps1` and `.psm1` files have the correct copyright header](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [x] This PR is ready to merge and is not [Work in Progress](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---work-in-progress).\r\n    - If the PR is work in progress, please add the prefix `WIP:` or `[ WIP ]` to the beginning of the title (the `WIP` bot will keep its status check at `Pending` while the prefix is present) and remove the prefix when the PR is ready.\r\n- **[Breaking changes](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#making-breaking-changes)**\r\n    - [x] None\r\n    - **OR**\r\n    - [ ] [Experimental feature(s) needed](https://github.com/MicrosoftDocs/PowerShell-Docs/blob/staging/reference/6/Microsoft.PowerShell.Core/About/about_Experimental_Features.md)\r\n        - [ ] Experimental feature name(s): <!-- Experimental feature name(s) here -->\r\n- **User-facing changes**\r\n    - [x] Not Applicable\r\n    - **OR**\r\n    - [ ] [Documentation needed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n        - [ ] Issue filed: <!-- Number/link of that issue here -->\r\n- **Testing - New and feature**\r\n    - [x] N/A or can only be tested interactively\r\n    - **OR**\r\n    - [ ] [Make sure you've added a new test if existing tests do not effectively test the code changed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#before-submitting)\r\n- **Tooling**\r\n    - [x] I have considered the user experience from a tooling perspective and don't believe tooling will be impacted.\r\n    - **OR**\r\n    - [ ] I have considered the user experience from a tooling perspective and enumerated concerns in the summary. This may include:\r\n        - Impact on [PowerShell Editor Services](https://github.com/PowerShell/PowerShellEditorServices) which is used in the [PowerShell extension](https://github.com/PowerShell/vscode-powershell) for VSCode (which runs in a different PS Host).\r\n        - Impact on Completions (both in the console and in editors) - one of PowerShell's most powerful features.\r\n        - Impact on [PSScriptAnalyzer](https://github.com/PowerShell/PSScriptAnalyzer) (which provides linting & formatting in the editor extensions).\r\n        - Impact on [EditorSyntax](https://github.com/PowerShell/EditorSyntax) (which provides syntax highlighting with in VSCode, GitHub, and many other editors).\r\n",
  "closed_at": "2020-04-15T19:42:11Z",
  "comments": [
    {
      "author": "msftclas",
      "author_association": "NONE",
      "body": "[![CLA assistant check](https://cla.opensource.microsoft.com/pull/badge/signed)](https://cla.opensource.microsoft.com/PowerShell/PowerShell?pullRequest=11429) <br/>All CLA requirements met.",
      "created_at": "2019-12-24T13:18:09Z",
      "updated_at": "2020-10-14T03:10:34Z"
    },
    {
      "author": "rkitover",
      "author_association": "CONTRIBUTOR",
      "body": "Fixed removing the temp directory and made the output nicer.",
      "created_at": "2019-12-24T23:31:38Z",
      "updated_at": "2019-12-24T23:31:38Z"
    },
    {
      "author": "rkitover",
      "author_association": "CONTRIBUTOR",
      "body": "Added support for `-includeide` via flatpak.",
      "created_at": "2019-12-28T15:23:20Z",
      "updated_at": "2019-12-28T15:23:20Z"
    },
    {
      "author": "rkitover",
      "author_association": "CONTRIBUTOR",
      "body": "Made more improvements, it now finds the latest ubuntu dist automatically and doesn't use `/tmp`.",
      "created_at": "2020-01-01T21:17:55Z",
      "updated_at": "2020-01-01T21:17:55Z"
    },
    {
      "author": "rkitover",
      "author_association": "CONTRIBUTOR",
      "body": "I am pretty much done with this. I know it's the holidays and everything, but can someone take a look please? I can work on other stuff separately.",
      "created_at": "2020-01-02T01:00:55Z",
      "updated_at": "2020-01-02T01:00:55Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "@anmenaga Could you please review this PR? Thanks!",
      "created_at": "2020-01-24T19:28:09Z",
      "updated_at": "2020-01-24T19:28:09Z"
    },
    {
      "author": "rkitover",
      "author_association": "CONTRIBUTOR",
      "body": "@daxian-dbw I realize I made some opinionated decisions here, but horrible hacks are often the best solution on gentoo. I might work on a proper ebuild in the main gentoo repository for this, but I think this solution is not terrible for the time being and will work for most gentoo users.\r\n\r\nAlso this code does not affect the other installers much, so there is little potential for breakage.\r\n\r\nI am also happy to contribute to these scripts in the future.\r\n\r\nLet me know if you need anything else.",
      "created_at": "2020-02-16T15:55:54Z",
      "updated_at": "2020-02-16T15:55:54Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "@rkitover My apology for the delay. I will drive the review process on our side. Thank you for your patience!",
      "created_at": "2020-02-18T19:10:17Z",
      "updated_at": "2020-02-18T19:10:17Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "@anmenaga @TravisEz13 Can you please review this PR after the 7.0.0-rc.3 release? Thank you!",
      "created_at": "2020-02-20T01:00:40Z",
      "updated_at": "2020-02-20T01:00:40Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "@anmenaga @TravisEz13 A gentle ping :) Please take a look at this PR, thanks!",
      "created_at": "2020-03-12T23:52:50Z",
      "updated_at": "2020-03-12T23:52:50Z"
    },
    {
      "author": "rkitover",
      "author_association": "CONTRIBUTOR",
      "body": "Thank you very much for looking at this, it's not very important of course, but I might do more work on these scripts too.\r\n\r\nJust a note that the DarwinJS URL is taken straight from the debian script for the vscode extension.",
      "created_at": "2020-03-14T01:53:48Z",
      "updated_at": "2020-03-14T01:53:48Z"
    },
    {
      "author": "rkitover",
      "author_association": "CONTRIBUTOR",
      "body": "@daxian-dbw ping,\r\n\r\nI have one review.\r\n\r\nExplanation of URLs:\r\n\r\n| **URL**                                                           | **Description**                                                            |\r\n|-------------------------------------------------|-----------------------------------------------------------|\r\n| https://github.com/fosero/flatpak-overlay.git | This is a third party repository for gentoo, it has the flatpak ebuild which is not in core gentoo. |\r\n| https://raw.githubusercontent.com/DarwinJS/CloudyWindowsAutomationCode/master/pshcoredevenv/testpowershell.ps1 | This is taken straight from `installpsh-debian.sh`, it's a script to test the Visual Studio Code PowerShell plugin installation. |\r\n\r\nI'd like to get more involved in this project, I have been waiting on this PR.\r\n\r\nThank you!\n\n<blockquote><img src=\"https://avatars1.githubusercontent.com/u/11244224?s=400&v=4\" width=\"48\" align=\"right\"><div><img src=\"https://github.githubassets.com/favicons/favicon.svg\" height=\"14\"> GitHub</div><div><strong><a href=\"https://github.com/fosero/flatpak-overlay\">fosero/flatpak-overlay</a></strong></div><div>A Gentoo ebuild overlay for flatpak. Contribute to fosero/flatpak-overlay development by creating an account on GitHub.</div></blockquote>\n<blockquote></blockquote>",
      "created_at": "2020-04-14T19:11:48Z",
      "updated_at": "2020-04-14T19:11:50Z"
    },
    {
      "author": "msftbot[bot]",
      "author_association": "NONE",
      "body": ":tada:`v7.1.0-preview.2` has been released which incorporates this pull request.:tada:\n\nHandy links:\n* [Release Notes](https://github.com/PowerShell/PowerShell/releases/tag/v7.1.0-preview.2)\n",
      "created_at": "2020-04-23T18:01:29Z",
      "updated_at": "2020-04-23T18:01:29Z"
    }
  ],
  "created_at": "2019-12-24T13:17:55Z",
  "number": 11429,
  "state": "closed",
  "title": "Linux: Initial support for Gentoo installations.",
  "updated_at": "2020-10-14T03:10:34Z"
}