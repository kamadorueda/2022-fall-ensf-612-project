{
  "_url": "https://github.com/PowerShell/PowerShell/issues/8016",
  "author": "slide",
  "body": "## PR Summary\r\n\r\nThis adds an additional flag to allow building for linux-arm64.\r\n\r\n## PR Checklist\r\n\r\n- [X] [PR has a meaningful title]\r\n- [X] [Summarized changes]\r\n- [X] [Change is not breaking]\r\n- [X] [Make sure all `.h`, `.cpp`, `.cs`, `.ps1` and `.psm1` files have the correct copyright header]\r\n- [X] This PR is ready to merge and is not [Work in Progress]\r\n- **User-facing changes**\r\n    - [X] Not Applicable\r\n- **Testing - New and feature**\r\n    - [X] Not Applicable or can only be tested interactively",
  "closed_at": "2018-12-05T18:55:10Z",
  "comments": [
    {
      "author": "slide",
      "author_association": "CONTRIBUTOR",
      "body": "Related to https://github.com/PowerShell/PowerShell/issues/7330",
      "created_at": "2018-10-12T23:20:43Z",
      "updated_at": "2018-10-12T23:20:43Z"
    },
    {
      "author": "TravisEz13",
      "author_association": "MEMBER",
      "body": "@slide  Did you do any testing of the build?",
      "created_at": "2018-10-12T23:34:08Z",
      "updated_at": "2018-10-12T23:34:08Z"
    },
    {
      "author": "TravisEz13",
      "author_association": "MEMBER",
      "body": "Is ARM64 also Raspbian?  Should we update this doc to say both architectures of Raspbian? \r\nhttps://docs.microsoft.com/en-us/powershell/scripting/powershell-core-support?view=powershell-6\r\n",
      "created_at": "2018-10-12T23:36:22Z",
      "updated_at": "2018-10-12T23:36:22Z"
    },
    {
      "author": "TravisEz13",
      "author_association": "MEMBER",
      "body": "You also need to do some work if you want us to release a package (you could just file an issue for this, if that wasn't your intent.)\r\n\r\nThe packaging module needs to be updated to be able to package TarArm64\r\nhttps://github.com/PowerShell/PowerShell/blob/81b67c924a6f54cc1f6b94fb7b133fec784d8509/tools/packaging/packaging.psm1#L68\r\n\r\nhttps://github.com/PowerShell/PowerShell/blob/81b67c924a6f54cc1f6b94fb7b133fec784d8509/tools/releaseBuild/Images/GenericLinuxFiles/PowerShellPackage.ps1#L57\r\nNeeds to be updated with a TarArm64 option\r\n\r\nAnd it needs to be called here:\r\nhttps://github.com/PowerShell/PowerShell/blob/81b67c924a6f54cc1f6b94fb7b133fec784d8509/tools/releaseBuild/build.json#L264",
      "created_at": "2018-10-12T23:39:38Z",
      "updated_at": "2018-10-12T23:41:30Z"
    },
    {
      "author": "slide",
      "author_association": "CONTRIBUTOR",
      "body": "Yes, I tested on my RockPro64 board. I was using it to build ironpython on that board. I will also update the packaging, I was looking for that and didn't know where it was.",
      "created_at": "2018-10-13T00:02:30Z",
      "updated_at": "2018-10-13T00:02:30Z"
    },
    {
      "author": "slide",
      "author_association": "CONTRIBUTOR",
      "body": "My board is running Ubuntu 18.04 Bionic, not Raspian.",
      "created_at": "2018-10-13T00:04:26Z",
      "updated_at": "2018-10-13T00:04:26Z"
    },
    {
      "author": "slide",
      "author_association": "CONTRIBUTOR",
      "body": "How do I run the packaging stuff locally to test it out?",
      "created_at": "2018-10-13T04:04:01Z",
      "updated_at": "2018-10-13T04:04:01Z"
    },
    {
      "author": "TravisEz13",
      "author_association": "MEMBER",
      "body": "run `start-psbuild -configuration 'release' -crossgen -psmodulerestore`\r\nthen import the packaging module `Import-module .\\tools\\packaging -force`\r\nthen run packaging `start-pspackaging -Type tar-arm64`\r\n\r\nI did this from memory and start-pspackaging might tell you, that you need to skip release checks... It's fine to do that for development.\r\n\r\nIf you only change the packaging code, you can just re-import the packaging module, and rerun the packaging step (this is why I separated the modules.)",
      "created_at": "2018-10-13T22:44:34Z",
      "updated_at": "2018-10-13T22:47:49Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@slide  What is status of the PR? Do you want to continue?",
      "created_at": "2018-11-01T07:01:06Z",
      "updated_at": "2018-11-01T07:01:06Z"
    },
    {
      "author": "slide",
      "author_association": "CONTRIBUTOR",
      "body": "Yes, I do, I just need to get back to it again. I'll try and do it this next week.",
      "created_at": "2018-11-01T12:09:42Z",
      "updated_at": "2018-11-01T12:09:42Z"
    },
    {
      "author": "TravisEz13",
      "author_association": "MEMBER",
      "body": "restarted linux CI due to a connectivity issue",
      "created_at": "2018-11-13T20:49:39Z",
      "updated_at": "2018-11-13T20:49:39Z"
    },
    {
      "author": "slide",
      "author_association": "CONTRIBUTOR",
      "body": "I do still plan on getting back to this, if it needs to be closed for now for some reason, I can reopen at a later date if desired.",
      "created_at": "2018-11-13T21:01:00Z",
      "updated_at": "2018-11-13T21:01:00Z"
    },
    {
      "author": "slide",
      "author_association": "CONTRIBUTOR",
      "body": "I will not have time to get back to this for some time. Trying to get a local build of the package stuff has not been easy.",
      "created_at": "2018-12-03T19:54:34Z",
      "updated_at": "2018-12-03T19:54:34Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@slide Thanks for starting this, I'll submit a new PR with the packaging work along with the changes you've made for the build",
      "created_at": "2018-12-04T00:12:12Z",
      "updated_at": "2018-12-04T00:12:12Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "I'll just re-use this PR",
      "created_at": "2018-12-04T04:13:17Z",
      "updated_at": "2018-12-04T04:13:17Z"
    },
    {
      "author": "adityapatwardhan",
      "author_association": "MEMBER",
      "body": "@SteveL-MSFT - You need to add items suggest by comment https://github.com/PowerShell/PowerShell/pull/8016#issuecomment-429490316",
      "created_at": "2018-12-04T20:51:00Z",
      "updated_at": "2018-12-04T20:51:00Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@adityapatwardhan latest commit should address the rest of @TravisEz13 's feedback",
      "created_at": "2018-12-04T22:04:58Z",
      "updated_at": "2018-12-04T22:04:58Z"
    },
    {
      "author": "adityapatwardhan",
      "author_association": "MEMBER",
      "body": "@slide Thank you for your contribution!",
      "created_at": "2018-12-05T18:55:29Z",
      "updated_at": "2018-12-05T18:55:29Z"
    }
  ],
  "created_at": "2018-10-12T23:12:56Z",
  "number": 8016,
  "state": "closed",
  "title": "Add Linux ARM64 build support",
  "updated_at": "2018-12-05T18:55:30Z"
}