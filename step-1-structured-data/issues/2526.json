{
  "_url": "https://github.com/PowerShell/PowerShell/issues/2526",
  "author": "LirazRom",
  "body": "I have installed powershell v6.0.0-alpha.11 on mac os x\nand installed Install-Module AzureRM and Install-Module Azure \nwhen i try to run any Azure command i get error the the module isnt imported\nand when i try to import it  I get\n\nImport-Module Azure.Storage\nImport-Module : The given assembly name or codebase was invalid. (Exception from HRESULT: 0x80131047)\nAt line:1 char:1\n- Import-Module Azure.Storage\n- ~~~~~~~~~~~~~~~~~~~~~~~~~~~\n  - CategoryInfo          : NotSpecified: (:) [Import-Module], FileLoadException\n  - FullyQualifiedErrorId : System.IO.FileLoadException,Microsoft.PowerShell.Commands.ImportModuleCommand\n\nGet-Module \u2013ListAvailable\n\n```\nDirectory: /usr/local/microsoft/powershell/6.0.0-alpha.11/Modules\n```\n\nModuleType Version    Name                                ExportedCommands\n\n---\n\nScript     3.0.0      Azure                               {Get-AzureAutomationCertificate, Get-AzureAutomationConnection, New-AzureAutomationConnection, Remove-AzureAutomationCo...\nScript     2.2.0      Azure.Storage                       {Get-AzureStorageBlob, Get-AzureStorageBlobContent, Get-AzureStorageBlobCopyState, Get-AzureStorageContainer...}\nScript     3.0.0      AzureRM\nScript     3.0.0      AzureRM.ApiManagement               {Add-AzureRmApiManagementRegion, Get-AzureRmApiManagementSsoToken, New-AzureRmApiManagementHostnameConfiguration, New-A...\nScript     2.2.0      AzureRM.Automation                  {Get-AzureRMAutomationHybridWorkerGroup, Get-AzureRmAutomationJobOutputRecord, Import-AzureRmAutomationDscNodeConfigura...\nScript     2.2.0      AzureRM.Backup                      {Backup-AzureRmBackupItem, Enable-AzureRmBackupContainerReregistration, Get-AzureRmBackupContainer, Register-AzureRmBac...\nScript     2.2.0      AzureRM.Batch                       {Remove-AzureRmBatchAccount, Get-AzureRmBatchAccount, Get-AzureRmBatchAccountKeys, New-AzureRmBatchAccount...}\nScript     2.2.0      AzureRM.Cdn                         {Get-AzureRmCdnCustomDomain, New-AzureRmCdnCustomDomain, Remove-AzureRmCdnCustomDomain, Get-AzureRmCdnEndpointNameAvail...\nScript     0.4.0      AzureRM.CognitiveServices           {Get-AzureRmCognitiveServicesAccount, Get-AzureRmCognitiveServicesAccountKey, Get-AzureRmCognitiveServicesAccountSkus, ...\nScript     2.2.0      AzureRM.Compute                     {Remove-AzureRmAvailabilitySet, Get-AzureRmAvailabilitySet, New-AzureRmAvailabilitySet, Get-AzureRmVMExtensionImageType...\nScript     2.2.0      AzureRM.DataFactories               {Remove-AzureRmDataFactory, Get-AzureRmDataFactoryRun, Get-AzureRmDataFactorySlice, Save-AzureRmDataFactoryLog...}\nScript     2.2.0      AzureRM.DataLakeAnalytics           {Get-AzureRmDataLakeAnalyticsDataSource, Remove-AzureRmDataLakeAnalyticsCatalogSecret, Set-AzureRmDataLakeAnalyticsCata...\nScript     3.0.0      AzureRM.DataLakeStore               {Add-AzureRmDataLakeStoreItemContent, Export-AzureRmDataLakeStoreItem, Get-AzureRmDataLakeStoreChildItem, Get-AzureRmDa...\nScript     2.2.0      AzureRM.DevTestLabs                 {Get-AzureRmDtlAllowedVMSizesPolicy, Get-AzureRmDtlAutoShutdownPolicy, Get-AzureRmDtlAutoStartPolicy, Get-AzureRmDtlVMs...\nScript     2.2.0      AzureRM.Dns                         {Get-AzureRmDnsRecordSet, New-AzureRmDnsRecordConfig, Remove-AzureRmDnsRecordSet, Set-AzureRmDnsRecordSet...}\nScript     2.2.0      AzureRM.HDInsight                   {Get-AzureRmHDInsightJob, New-AzureRmHDInsightSqoopJobDefinition, Wait-AzureRmHDInsightJob, New-AzureRmHDInsightStreami...\nScript     2.2.0      AzureRM.Insights                    {Add-AzureRmMetricAlertRule, Add-AzureRmLogAlertRule, Add-AzureRmWebtestAlertRule, Get-AzureRmAlertHistory...}\nScript     2.2.0      AzureRM.KeyVault                    {Add-AzureKeyVaultCertificate, Set-AzureKeyVaultCertificateAttribute, Stop-AzureKeyVaultCertificateOperation, Get-Azure...\nScript     2.2.0      AzureRM.LogicApp                    {Get-AzureRmIntegrationAccountAgreement, Get-AzureRmIntegrationAccountCallbackUrl, Get-AzureRmIntegrationAccountCertifi...\nScript     0.11.0     AzureRM.MachineLearning             {Export-AzureRmMlWebService, Get-AzureRmMlWebServiceKeys, Import-AzureRmMlWebService, Remove-AzureRmMlWebService...}\nScript     0.3.0      AzureRM.Media                       {Get-AzureRmMediaServiceNameAvailability, New-AzureRmMediaServiceStorageConfig, Remove-AzureRmMediaService, New-AzureRm...\nScript     3.0.0      AzureRM.Network                     {Add-AzureRmApplicationGatewayAuthenticationCertificate, Get-AzureRmApplicationGatewayAuthenticationCertificate, New-Az...\nScript     2.2.0      AzureRM.NotificationHubs            {Get-AzureRmNotificationHubsNamespaceAuthorizationRules, Get-AzureRmNotificationHubsNamespaceListKeys, New-AzureRmNotif...\nScript     2.2.0      AzureRM.OperationalInsights         {New-AzureRmOperationalInsightsCustomLogDataSource, Disable-AzureRmOperationalInsightsLinuxCustomLogCollection, Disable...\nScript     2.2.0      AzureRM.PowerBIEmbedded             {Remove-AzureRmPowerBIWorkspaceCollection, Get-AzureRmPowerBIWorkspaceCollection, Get-AzureRmPowerBIWorkspaceCollection...\nScript     2.2.0      AzureRM.profile                     {Enable-AzureRmDataCollection, Disable-AzureRmDataCollection, Remove-AzureRmEnvironment, Get-AzureRmEnvironment...}\nScript     2.2.0      AzureRM.RecoveryServices            {Get-AzureRmRecoveryServicesBackupProperties, Get-AzureRmRecoveryServicesVault, Get-AzureRmRecoveryServicesVaultSetting...\nScript     2.2.0      AzureRM.RecoveryServices.Backup     {Backup-AzureRmRecoveryServicesBackupItem, Get-AzureRmRecoveryServicesBackupManagementServer, Get-AzureRmRecoveryServic...\nScript     2.2.0      AzureRM.RedisCache                  {Remove-AzureRmRedisCachePatchSchedule, New-AzureRmRedisCacheScheduleEntry, Get-AzureRmRedisCachePatchSchedule, New-Azu...\nScript     3.2.0      AzureRM.Resources                   {Get-AzureRmADAppCredential, Get-AzureRmADApplication, Get-AzureRmADGroupMember, Get-AzureRmADGroup...}\nScript     0.11.0     AzureRM.Scheduler                   {Disable-AzureRmSchedulerJobCollection, Enable-AzureRmSchedulerJobCollection, Get-AzureRmSchedulerJobCollection, Get-Az...\nScript     2.2.0      AzureRM.ServerManagement            {Install-AzureRmServerManagementGatewayProfile, Reset-AzureRmServerManagementGatewayProfile, Save-AzureRmServerManageme...\nScript     3.1.0      AzureRM.SiteRecovery                {Get-AzureRmSiteRecoveryFabric, New-AzureRmSiteRecoveryFabric, Remove-AzureRmSiteRecoveryFabric, Stop-AzureRmSiteRecove...\nScript     2.2.0      AzureRM.Sql                         {Get-AzureRmSqlDatabaseRecommendedAction, Get-AzureRmSqlElasticPoolRecommendedAction, Get-AzureRmSqlServerRecommendedAc...\nScript     2.2.0      AzureRM.Storage                     {Get-AzureRmStorageAccount, Get-AzureRmStorageAccountKey, Get-AzureRmStorageAccountNameAvailability, Get-AzureRmStorage...\nScript     2.2.0      AzureRM.StreamAnalytics             {Get-AzureRmStreamAnalyticsFunction, Get-AzureRmStreamAnalyticsDefaultFunctionDefinition, New-AzureRmStreamAnalyticsFun...\nScript     2.2.0      AzureRM.Tags                        {Remove-AzureRmTag, Get-AzureRmTag, New-AzureRmTag}\nScript     2.2.0      AzureRM.TrafficManager              {Disable-AzureRmTrafficManagerEndpoint, Enable-AzureRmTrafficManagerEndpoint, Set-AzureRmTrafficManagerEndpoint, Get-Az...\nScript     2.2.0      AzureRM.UsageAggregates             Get-UsageAggregates\nScript     2.2.0      AzureRM.Websites                    {Get-AzureRmAppServicePlanMetrics, New-AzureRmWebAppDatabaseBackupSetting, Restore-AzureRmWebAppBackup, Get-AzureRmWebA...\nManifest   1.0.1.0    Microsoft.PowerShell.Archive        {Compress-Archive, Expand-Archive}\nManifest   3.0.0.0    Microsoft.PowerShell.Host           {Start-Transcript, Stop-Transcript}\nManifest   3.1.0.0    Microsoft.PowerShell.Management     {Add-Content, Clear-Content, Clear-ItemProperty, Join-Path...}\nManifest   3.0.0.0    Microsoft.PowerShell.Security       {Get-Credential, Get-ExecutionPolicy, Set-ExecutionPolicy, ConvertFrom-SecureString...}\nManifest   3.1.0.0    Microsoft.PowerShell.Utility        {Format-List, Format-Custom, Format-Table, Format-Wide...}\nBinary     1.0.0.1    PackageManagement                   {Find-Package, Get-Package, Get-PackageProvider, Get-PackageSource...}\nScript     3.3.9      Pester                              {Describe, Context, It, Should...}\nScript     1.1.0.0    PowerShellGet                       {Install-Module, Find-Module, Save-Module, Update-Module...}\nScript     0.0        PSDesiredStateConfiguration         {StrongConnect, IsHiddenResource, Write-MetaConfigFile, Get-InnerMostErrorRecord...}\nScript     1.2        PSReadLine                          {Get-PSReadlineKeyHandler, Set-PSReadlineKeyHandler, Remove-PSReadlineKeyHandler, Get-PSReadlineOption...}\n",
  "closed_at": "2016-10-25T16:22:29Z",
  "comments": [
    {
      "author": "kilasuit",
      "author_association": "COLLABORATOR",
      "body": "This is because the AzureRM modules are not supported on PowerShell Core - you need to use the NetCore versions as detailed in https://github.com/PowerShell/PowerShell/blob/289e6958eff97a31be996b65a215d7f8f7be2628/demos/Azure/README.md\n\nAlso this is a repost of issues #1874 #1693 as the issue is the same as listed in those issues\n",
      "created_at": "2016-10-23T17:41:52Z",
      "updated_at": "2016-10-23T17:41:52Z"
    },
    {
      "author": "mirichmo",
      "author_association": "MEMBER",
      "body": "I am closing this issue because it is a duplicate of a known external issue.\n",
      "created_at": "2016-10-25T16:22:29Z",
      "updated_at": "2016-10-25T16:22:29Z"
    },
    {
      "author": "ericgol",
      "author_association": "NONE",
      "body": "See https://blogs.technet.microsoft.com/jessicadeen/azure/getting-started-with-powershell-core-and-azurerm-modules-on-ubuntu-and-os-x/ also.",
      "created_at": "2016-12-07T08:56:25Z",
      "updated_at": "2016-12-07T08:56:25Z"
    }
  ],
  "created_at": "2016-10-23T10:44:48Z",
  "number": 2526,
  "state": "closed",
  "title": "Cannot use Azure command with powershell on mac os x",
  "updated_at": "2016-12-07T08:56:25Z"
}