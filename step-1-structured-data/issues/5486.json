{
  "_url": "https://github.com/PowerShell/PowerShell/issues/5486",
  "author": "JamesWTruher",
  "body": "RC testing observed the following failures only on CentOS 7 (Core) and RedHat 7.2 (Maipo)\r\n\r\n```\r\n   Description: Invoke-RestMethod tests\r\n\r\nContext  : Invoke-RestMethod -SslProtocol Test\r\nTestName : Verifies Invoke-RestMethod -SslProtocol Tls, Tls11 fails on a Tls12 only connection\r\nError    : Expected string length 83 but was 89. Strings differ at index 9.\r\n           Expected: {WebCmdletWebResponseException,Microsoft.PowerShell.Commands.InvokeRestMethodCommand}\r\n           But was:  {WebCmdletIEDomNotSupportedException,Microsoft.PowerShell.Commands.InvokeRestMethodCommand}\r\n           --------------------^\r\n\r\nContext  : Invoke-RestMethod -SslProtocol Test\r\nTestName : Verifies Invoke-RestMethod -SslProtocol Tls, Tls11 works on Tls\r\nError    : The requested security protocol is not supported.\r\n\r\nContext  : Invoke-RestMethod -SslProtocol Test\r\nTestName : Verifies Invoke-RestMethod -SslProtocol Tls, Tls11 works on Tls11\r\nError    : The requested security protocol is not supported.\r\n\r\nContext  : Invoke-RestMethod -SslProtocol Test\r\nTestName : Verifies Invoke-RestMethod -SslProtocol Tls, Tls12 fails on a Tls11 only connection\r\nError    : Expected string length 83 but was 89. Strings differ at index 9.\r\n           Expected: {WebCmdletWebResponseException,Microsoft.PowerShell.Commands.InvokeRestMethodCommand}\r\n           But was:  {WebCmdletIEDomNotSupportedException,Microsoft.PowerShell.Commands.InvokeRestMethodCommand}\r\n           --------------------^\r\n\r\nContext  : Invoke-RestMethod -SslProtocol Test\r\nTestName : Verifies Invoke-RestMethod -SslProtocol Tls, Tls12 works on Tls\r\nError    : The requested security protocol is not supported.\r\n\r\nContext  : Invoke-RestMethod -SslProtocol Test\r\nTestName : Verifies Invoke-RestMethod -SslProtocol Tls11, Tls12 fails on a Tls only connection\r\nError    : Expected string length 83 but was 89. Strings differ at index 9.\r\n           Expected: {WebCmdletWebResponseException,Microsoft.PowerShell.Commands.InvokeRestMethodCommand}\r\n           But was:  {WebCmdletIEDomNotSupportedException,Microsoft.PowerShell.Commands.InvokeRestMethodCommand}\r\n           --------------------^\r\n\r\nContext  : Invoke-RestMethod -SslProtocol Test\r\nTestName : Verifies Invoke-RestMethod -SslProtocol Tls11, Tls12 works on Tls11\r\nError    : The requested security protocol is not supported.\r\n\r\nContext  : Invoke-RestMethod -SslProtocol Test\r\nTestName : Verifies Invoke-RestMethod -SslProtocol Tls11, Tls12 works on Tls12\r\nError    : The requested security protocol is not supported.\r\n\r\n   Description: Invoke-WebRequest tests\r\n\r\nContext  : Invoke-WebRequest -SslProtocol Test\r\nTestName : Verifies Invoke-WebRequest -SslProtocol -SslProtocol Tls, Tls11 fails on a Tls12 only connection\r\nError    : Expected string length 83 but was 89. Strings differ at index 9.\r\n           Expected: {WebCmdletWebResponseException,Microsoft.PowerShell.Commands.InvokeWebRequestCommand}\r\n           But was:  {WebCmdletIEDomNotSupportedException,Microsoft.PowerShell.Commands.InvokeWebRequestCommand}\r\n           --------------------^\r\n\r\nContext  : Invoke-WebRequest -SslProtocol Test\r\nTestName : Verifies Invoke-WebRequest -SslProtocol -SslProtocol Tls, Tls12 fails on a Tls11 only connection\r\nError    : Expected string length 83 but was 89. Strings differ at index 9.\r\n           Expected: {WebCmdletWebResponseException,Microsoft.PowerShell.Commands.InvokeWebRequestCommand}\r\n           But was:  {WebCmdletIEDomNotSupportedException,Microsoft.PowerShell.Commands.InvokeWebRequestCommand}\r\n           --------------------^\r\n\r\nContext  : Invoke-WebRequest -SslProtocol Test\r\nTestName : Verifies Invoke-WebRequest -SslProtocol -SslProtocol Tls11, Tls12 fails on a Tls only connection\r\nError    : Expected string length 83 but was 89. Strings differ at index 9.\r\n           Expected: {WebCmdletWebResponseException,Microsoft.PowerShell.Commands.InvokeWebRequestCommand}\r\n           But was:  {WebCmdletIEDomNotSupportedException,Microsoft.PowerShell.Commands.InvokeWebRequestCommand}\r\n           --------------------^\r\n\r\nContext  : Invoke-WebRequest -SslProtocol Test\r\nTestName : Verifies Invoke-WebRequest -SslProtocol Tls, Tls11 works on Tls\r\nError    : The requested security protocol is not supported.\r\n\r\nContext  : Invoke-WebRequest -SslProtocol Test\r\nTestName : Verifies Invoke-WebRequest -SslProtocol Tls, Tls11 works on Tls11\r\nError    : The requested security protocol is not supported.\r\n\r\nContext  : Invoke-WebRequest -SslProtocol Test\r\nTestName : Verifies Invoke-WebRequest -SslProtocol Tls, Tls12 works on Tls\r\nError    : The requested security protocol is not supported.\r\n\r\nContext  : Invoke-WebRequest -SslProtocol Test\r\nTestName : Verifies Invoke-WebRequest -SslProtocol Tls11, Tls12 works on Tls11\r\nError    : The requested security protocol is not supported.\r\n\r\nContext  : Invoke-WebRequest -SslProtocol Test\r\nTestName : Verifies Invoke-WebRequest -SslProtocol Tls11, Tls12 works on Tls12\r\nError    : The requested security protocol is not supported.\r\n```",
  "closed_at": "2018-05-09T11:35:54Z",
  "comments": [
    {
      "author": "markekraus",
      "author_association": "CONTRIBUTOR",
      "body": "This is somewhat expected. It's the same as the `-Certificate` tests an due to the difference in `libcurl` implementation.",
      "created_at": "2017-11-17T09:20:42Z",
      "updated_at": "2017-11-17T09:20:42Z"
    },
    {
      "author": "markekraus",
      "author_association": "CONTRIBUTOR",
      "body": "https://github.com/PowerShell/PowerShell/issues/5492#issuecomment-356632711",
      "created_at": "2018-01-10T15:36:09Z",
      "updated_at": "2018-01-10T15:36:09Z"
    }
  ],
  "created_at": "2017-11-17T01:25:28Z",
  "number": 5486,
  "state": "closed",
  "title": "webrequest tests fail on CentOS and RedHat on RC",
  "updated_at": "2018-05-09T11:35:54Z"
}