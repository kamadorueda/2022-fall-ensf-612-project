{
  "_url": "https://github.com/PowerShell/PowerShell/issues/6142",
  "author": "ether42",
  "body": "Hi there,\r\n\r\nI'm new to PowerShell and wanted to try it out but it quickly failed when I tried to use `Get-Help`.\r\nI think this is related to #798 but I actually don't have any clue on how to fix so please bear with me (well, it looks like `| pwsh -c \"$env:PAGER\"` could work but that seems too awful to be the proper solution) :)\r\n\r\nSteps to reproduce\r\n------------------\r\n\r\n```powershell\r\n> $env:PAGER\r\nless -r\r\n```\r\n\r\nExpected behavior\r\n-----------------\r\n\r\nI would have expected the behavior could conform to http://pubs.opengroup.org/onlinepubs/9699919799/utilities/man.html:\r\n```\r\nENVIRONMENT VARIABLES\r\n  PAGER\r\n    Determine an output filtering command for writing the output to a terminal.\r\n    Any string acceptable as a command_string operand to the sh -c command shall be valid.\r\n    When standard output is a terminal device, the reference page output shall be piped through the command.\r\n    If the PAGER variable is null or not set, the command shall be either more or another paginator utility documented in the system documentation.\r\n```\r\n\r\nActual behavior\r\n---------------\r\n\r\n```powershell\r\n> help help\r\nGet-Command : The term 'less -r' is not recognized as the name of a cmdlet, function, script file, or operable program.\r\nCheck the spelling of the name, or if a path was included, verify that the path is correct and try again.\r\nAt line:12 char:21\r\n+ ... oreCommand = (Get-Command -CommandType Application $env:PAGER | Selec ...\r\n+                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n+ CategoryInfo          : ObjectNotFound: (less -r:String) [Get-Command], CommandNotFoundException\r\n+ FullyQualifiedErrorId : CommandNotFoundException,Microsoft.PowerShell.Commands.GetCommandCommand\r\n\r\nThe expression after '&' in a pipeline element produced an object that was not valid. It must result in a command name, a script block, or a CommandInfo object.\r\nAt line:23 char:21\r\n+ } else { $input | & $moreCommand }\r\n+                     ~~~~~~~~~~~~\r\n+ CategoryInfo          : InvalidOperation: (:) [], RuntimeException\r\n+ FullyQualifiedErrorId : BadExpression\r\n```\r\n\r\nEnvironment data\r\n----------------\r\n\r\n```powershell\r\n> $PSVersionTable\r\n\r\nName                           Value\r\n----                           -----\r\nPSVersion                      6.0.1\r\nPSEdition                      Core\r\nGitCommitId                    v6.0.1\r\nOS                             Linux 4.14.0-3-amd64 #1 SMP Debian 4.14.12-2 (2018-01-06)\r\nPlatform                       Unix\r\nPSCompatibleVersions           {1.0, 2.0, 3.0, 4.0...}\r\nPSRemotingProtocolVersion      2.3\r\nSerializationVersion           1.1.0.1\r\nWSManStackVersion              3.0\r\n```\r\n\r\nRegards.\r\n",
  "closed_at": "2018-02-15T04:11:46Z",
  "comments": [],
  "created_at": "2018-02-09T22:23:44Z",
  "labels": [
    "Issue-Bug",
    "Resolution-Fixed"
  ],
  "number": 6142,
  "state": "closed",
  "title": "Invalid handling of the PAGER environment variable",
  "updated_at": "2018-03-24T18:02:54Z"
}