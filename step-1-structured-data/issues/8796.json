{
  "_url": "https://github.com/PowerShell/PowerShell/issues/8796",
  "author": "PaulHigin",
  "body": "<!-- Anything that looks like this is a comment and can't be seen after the Pull Request is created. -->  \r\n\r\n## PR Summary\r\n\r\nXUnit parallel runspace tests are failing with obscure errors.  This appears to be due to parallelism and the tests appear to pass when run serially.  This change is to convert the RunspaceTests to Sequential operation  \r\n\r\n## PR Context  \r\n\r\nThese tests have been failing fairly consistently if randomly in our daily builds, and appear to be due to running them in parallel.\r\n\r\n## PR Checklist\r\n\r\n- [x] [PR has a meaningful title](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n    - Use the present tense and imperative mood when describing your changes\r\n- [x] [Summarized changes](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [x] [Change is not breaking](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#making-breaking-changes)\r\n- [x] [Make sure all `.h`, `.cpp`, `.cs`, `.ps1` and `.psm1` files have the correct copyright header](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [x] This PR is ready to merge and is not [Work in Progress](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---work-in-progress).\r\n    - If the PR is work in progress, please add the prefix `WIP:` or `[ WIP ]` to the beginning of the title (the `WIP` bot will keep its status check at `Pending` while the prefix is present) and remove the prefix when the PR is ready.  \r\n- **User-facing changes**\r\n    - [x] Not Applicable\r\n    - **OR**  \r\n    - [ ] [Documentation needed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n        - [ ] Issue filed: <!-- Number/link of that issue here -->\r\n- **Testing - New and feature**\r\n    - [x] N/A or can only be tested interactively\r\n    - **OR**\r\n    - [ ] [Make sure you've added a new test if existing tests do not effectively test the code changed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#before-submitting)\r\n        - [ ] [Add `[feature]` to your commit messages if the change is significant or affects feature tests](https://github.com/PowerShell/PowerShell/blob/master/docs/testing-guidelines/testing-guidelines.md#requesting-additional-tests-for-a-pr)\r\n",
  "closed_at": "2019-01-30T22:12:27Z",
  "comments": [
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "If we turn off this test we will never fix the race condition which is very bad for real world scenarios. I suggest to review and merge #8779 that will eliminate inter-thread race conditions. Then we could think more about inter-process race conditions. I already look this and couldl push a PR.",
      "created_at": "2019-01-30T17:55:14Z",
      "updated_at": "2019-01-30T17:55:14Z"
    },
    {
      "author": "adityapatwardhan",
      "author_association": "MEMBER",
      "body": "@PaulHigin Could you look at the xUnit failure? \r\nAlso put a description and context in the PR description",
      "created_at": "2019-01-30T17:59:02Z",
      "updated_at": "2019-01-30T17:59:02Z"
    },
    {
      "author": "PaulHigin",
      "author_association": "COLLABORATOR",
      "body": "@adityapatwardhan  @iSazonov  The tests are still failing (but in a different test), and in the same way (malformed file path).  So I will re-enable the test and try running as sequential instead of parallel, to verify this is indeed a race condition.\r\n",
      "created_at": "2019-01-30T18:31:26Z",
      "updated_at": "2019-01-30T18:31:26Z"
    },
    {
      "author": "adityapatwardhan",
      "author_association": "MEMBER",
      "body": "Not waiting the recommended 24 hours since this is blocking PRs.",
      "created_at": "2019-01-30T22:12:09Z",
      "updated_at": "2019-01-30T22:12:09Z"
    }
  ],
  "created_at": "2019-01-30T17:24:19Z",
  "number": 8796,
  "state": "closed",
  "title": "Change xUnit RunspaceTests to run sequentially",
  "updated_at": "2019-01-30T23:00:22Z"
}