{
  "_url": "https://github.com/PowerShell/PowerShell/issues/4855",
  "author": "SteveL-MSFT",
  "body": "added `-terse` switch to Start-PSPester to reduce output and suppress progress\r\nupdate CI scripts to use new switch\r\n\r\nexample output:\r\n```none\r\nDescribing Adapter Tests\r\n+++++++++\r\nDescribing Adapter XML Tests\r\n   Context Can set XML node property to non-string object\r\n++++++++++\r\nDescribing DataRow and DataRowView Adapter tests\r\n   Context DataRow Adapter tests\r\n++\r\n   Context DataRowView Adapter tests\r\n++\r\nDescribing CIM Objects are adapted properly\r\n+++++++++++++++\r\nDescribing Online help tests for PowerShell Core Cmdlets\r\n!+++!+!+!+++++!++++++++++++!+++++!++++++++!++++++++++++++!+++++!++++++!++++++++++++++!+++!+++++!+++++++++++++!++!!++++++!+!!!!!!++++++++++!++!++!++!++++++++!!+!+++++++!+!+++!+++!+++++++++++++++++++++!++!++++++!++++++++!+++++!+++!+!++++++!+++++++!!+++!!+!!!!!+!!!+!++!!+!!!!+!++!!!++!+!!!!!!!+++!++!!++++++++!!+++!!!+!!!!!!!!!!!!!!!++++++\r\n```\r\n\r\nRuntime (on my laptop) went from 201.22s to 144.89s\r\n<!--\r\n\r\nIf you are a PowerShell Team member, please make sure you choose the Reviewer(s) and Assignee for your PR.\r\nIf you are not from the PowerShell Team, you can leave the fields blank and the Maintainers will choose them for you. If you are familiar with the team, feel free to mention some Reviewers yourself.\r\n\r\nFor more information about the roles of Reviewer and Assignee, refer to [CONTRIBUTING.md](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md).\r\n\r\n-->\r\n",
  "closed_at": "2017-09-19T21:56:32Z",
  "comments": [
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@TravisEz13 it seems like Travis-CI is using a cached version of build.psm1 so it's not picking up my changes?",
      "created_at": "2017-09-17T18:48:45Z",
      "updated_at": "2017-09-17T18:48:45Z"
    },
    {
      "author": "markekraus",
      "author_association": "CONTRIBUTOR",
      "body": "@SteveL-MSFT Travis-CI is using the `PassThru` switch which calls the `Start-NativeExecution` on line 1021 of your build.psm1. There is no logic there to run `Write-Terse` if `-Terse` is present.  Travis CI has to do `PassThru` in order to evaluate for test fails. \r\n\r\nAt least that's my theory on why it failed to show up on Travis CI as opposed to a cached `build.psm1`.",
      "created_at": "2017-09-17T22:39:20Z",
      "updated_at": "2017-09-17T22:42:01Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@markekraus thanks for the tip!",
      "created_at": "2017-09-18T01:53:03Z",
      "updated_at": "2017-09-18T01:53:03Z"
    },
    {
      "author": "TravisEz13",
      "author_association": "MEMBER",
      "body": "Perhaps we should tee the full output to a file and upload it as an artifact (this only really has a meaning on AppVeyor)",
      "created_at": "2017-09-18T16:17:10Z",
      "updated_at": "2017-09-18T16:17:10Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@TravisEz13 you would still get all the test cases on AppVeyor",
      "created_at": "2017-09-18T17:46:39Z",
      "updated_at": "2017-09-18T17:46:39Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@TravisEz13 I would suggest having it tee to a log be a separate PR if you really think it's needed",
      "created_at": "2017-09-19T19:58:45Z",
      "updated_at": "2017-09-19T19:58:45Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "I wonder how to check failed tests with the terse output? Sometimes it's useful to know the tests running before and after the failed tests.",
      "created_at": "2017-09-19T20:05:18Z",
      "updated_at": "2017-09-19T20:05:18Z"
    },
    {
      "author": "TravisEz13",
      "author_association": "MEMBER",
      "body": "@daxian-dbw The describes and contexts are always printed but this is something having the full output somewhere would be useful to resolve, but I agree with Steve that we can make adjustments after we merge this change.",
      "created_at": "2017-09-19T20:55:53Z",
      "updated_at": "2017-09-19T20:55:53Z"
    },
    {
      "author": "markekraus",
      "author_association": "CONTRIBUTOR",
      "body": "@daxian-dbw @TravisEz13 Aren't the test fails printed in full in `Write-Terse`? It looks like it prints the full test name and the fail output in red and it's only \"tersing\" pass, skip, and pending tests.",
      "created_at": "2017-09-19T21:01:38Z",
      "updated_at": "2017-09-19T21:01:38Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "@markekraus Thanks for pointing it out. I didn't look into the changes when asking the question.\r\nHaving a full log would be useful and can be done in a separate PR.",
      "created_at": "2017-09-19T21:14:01Z",
      "updated_at": "2017-09-19T21:14:01Z"
    }
  ],
  "created_at": "2017-09-17T17:26:54Z",
  "number": 4855,
  "state": "closed",
  "title": "reduce output of pester for CI",
  "updated_at": "2017-09-20T00:08:12Z"
}