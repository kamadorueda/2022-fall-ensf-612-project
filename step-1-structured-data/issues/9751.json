{
  "_url": "https://github.com/PowerShell/PowerShell/issues/9751",
  "author": "rkeithhill",
  "body": "<!-- Anything that looks like this is a comment and can't be seen after the Pull Request is created. -->\r\n\r\n# PR Summary\r\n\r\nFixes #9518\r\n\r\nDisplays the Duration information anytime a `HistoryInfo` object is displayed e.g. as the output of `Get-History`.  The output avoids extraneous 0 placeholder digits:\r\n```\r\n  Id     Duration CommandLine\r\n  --     -------- -----------\r\n   1        0.538 ipconfig\r\n   2        0.140 git --version\r\n   3        3.524 dir\r\n   4        0.128 ghy\r\n   5       11.033 start-sleep 11\r\n   6        0.061 ghy\r\n   7     1:05.020 Start-Sleep 65\r\n   8        0.036 ghy\r\n   9    10:23.014 Start-Sleep 623\r\n  10        0.046 ghy\r\n  11  1:01:55.033 Start-Sleep 3715\r\n```\r\nThe formatting as implemented will handle up to 4 days, 3hrs, 59min, 59secs, 999 msecs.  It does this by displaying total hours greater than 24.  Consequently, the max value that can be displayed non-truncated is:\r\n```\r\n  Id     Duration CommandLine\r\n  --     -------- -----------\r\n  12 99:59:59.999 .\\reallyReallyReallySlowScript.ps1\r\n```\r\nThis should handle the **vast** majority of interactice command durations.  \r\n## PR Context\r\n\r\n`Duration` was added as a convenience property to `HistoryInfo` objects however the majority of users will never know this exists unless it is displayed by default.  Given the narrow width required for the extra column (13 extra chars in width) and the fact that it is useful information for users to be able to see, I believe it is worth it to display this property by default.\r\n\r\n## PR Checklist\r\n\r\n- [x] [PR has a meaningful title](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n    - Use the present tense and imperative mood when describing your changes\r\n- [x] [Summarized changes](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [ ] [Make sure all `.h`, `.cpp`, `.cs`, `.ps1` and `.psm1` files have the correct copyright header](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [x] This PR is ready to merge and is not [Work in Progress](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---work-in-progress).\r\n    - If the PR is work in progress, please add the prefix `WIP:` or `[ WIP ]` to the beginning of the title (the `WIP` bot will keep its status check at `Pending` while the prefix is present) and remove the prefix when the PR is ready.\r\n- **[Breaking changes](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#making-breaking-changes)**\r\n    - [x] None\r\n    - **OR**\r\n    - [ ] [Experimental feature(s) needed](https://github.com/MicrosoftDocs/PowerShell-Docs/blob/staging/reference/6/Microsoft.PowerShell.Core/About/about_Experimental_Features.md)\r\n        - [ ] Experimental feature name(s): <!-- Experimental feature name(s) here -->\r\n- **User-facing changes**\r\n    - [ ] Not Applicable\r\n    - **OR**\r\n    - [ ] [Documentation needed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n        - [ ] Issue filed: <!-- Number/link of that issue here -->\r\n- **Testing - New and feature**\r\n    - [x] N/A or can only be tested interactively\r\n    - **OR**\r\n    - [ ] [Make sure you've added a new test if existing tests do not effectively test the code changed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#before-submitting)\r\n\r\nI did not see any tests for the formatted display of `HistoryInfo` objects.",
  "closed_at": "2019-06-20T20:39:42Z",
  "comments": [
    {
      "author": "adityapatwardhan",
      "author_association": "MEMBER",
      "body": "@rkeithhill Thank you for your contribution!",
      "created_at": "2019-06-20T20:40:01Z",
      "updated_at": "2019-06-20T20:40:01Z"
    },
    {
      "author": "msftbot[bot]",
      "author_association": "NONE",
      "body": ":tada:`v7.0.0-preview.2` has been released which incorporates this pull request.:tada:\n\nHandy links:\n* [Release Notes](https://github.com/PowerShell/PowerShell/releases/tag/v7.0.0-preview.2)\n",
      "created_at": "2019-07-17T20:55:58Z",
      "updated_at": "2019-07-17T20:55:58Z"
    }
  ],
  "created_at": "2019-05-29T01:45:46Z",
  "number": 9751,
  "state": "closed",
  "title": "Display Duration when displaying `HistoryInfo`",
  "updated_at": "2019-09-23T14:52:30Z"
}