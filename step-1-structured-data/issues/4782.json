{
  "_url": "https://github.com/PowerShell/PowerShell/issues/4782",
  "author": "markekraus",
  "body": "Summary\r\n----------\r\nPartially implements  #2112\r\n\r\n- Adds `System.Net.Http.MultipartFormDataContent` as a possible type for `-Body`\r\n- Adds `/Multipart/` test to WebListener \r\n\r\nThis allows for the user to create their own `Http.MultipartFormDataContent` object and submit it. Since `multipart/form-data` submissions are highly flexible, adding direct support for it to the CmdLets may over-complicate the command parameters and a limited implementation would not address the broad scope of use cases. This at least allows the user to submit multipart forms using the Web Cmdlets and not have to manage their own `HttpClient`. Once this is introduced, limited multipart implementations can be expanded to use the code in this PR.\r\n\r\nDocumentation Needed\r\n--------------------------\r\nNote that documentation will probably need to make clear that `-ContentType` will be ignored when a `MultipartFormDataContent` object is supplied to `-Body`. Similarly, content headers specified by `-Headers` and `-WebSession` will be ignored too.\r\n\r\n`ContentType` must be set by the `MultipartFormDataContent` object as it controls the `boundary` in the `Content-Type` header used to distinguish between the various fields supplied. It doesn't make sense to use any other `Content-Type` header when doing `multipart/form-data` anyway.  If this isn't done here, the Foreach on line 421 throws. when `Content` is set with a `MultipartFormDataContent` it overwrites all the content headers, so trying to add content headers again causes an exception about `ContentType` already exists.",
  "closed_at": "2017-09-12T16:41:36Z",
  "comments": [
    {
      "author": "msftclas",
      "author_association": "NONE",
      "body": "\r\n@markekraus,\nThanks for having already signed the Contribution License Agreement. Your agreement was validated by Microsoft. We will now review your pull request.\n_Thanks,\nMicrosoft Pull Request Bot_",
      "created_at": "2017-09-08T11:00:20Z",
      "updated_at": "2017-09-08T11:00:20Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "@markekraus Thanks again for the good work!",
      "created_at": "2017-09-12T16:43:01Z",
      "updated_at": "2017-09-12T16:43:01Z"
    },
    {
      "author": "markekraus",
      "author_association": "CONTRIBUTOR",
      "body": "@daxian-dbw For documentation, when is that handled? Should I submit a PR/Issue to PowerShell-Docs now or does it need to wait for the next beta release?",
      "created_at": "2017-09-12T16:55:47Z",
      "updated_at": "2017-09-12T16:55:47Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "Yes, you are welcome to submit a PR to [PowerShell-Docs](https://github.com/PowerShell/PowerShell-Docs) now :)\r\nHere is the guideline for maintainers about PRs that require doc changes (see [CONTRIBUTING.md](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)):\r\n> If your change warrants an update to user-facing documentation, a Maintainer will add the Documentation Needed label to your PR and add an issue to the PowerShell-Docs repository, so that we make sure to update the official documentation to reflect your contribution. As an example, this requirement includes any changes to cmdlets (including cmdlet parameters) and features which have associated about_* topics. While not required, we appreciate any contributors who add this label and create the issue themselves. Even better, all contributors are free to contribute the documentation themselves. (See Contributing to documentation related to PowerShell for more info.)\r\n\r\nPlease see https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#contributing-to-documentation for more details",
      "created_at": "2017-09-12T19:11:38Z",
      "updated_at": "2017-09-12T19:11:38Z"
    }
  ],
  "created_at": "2017-09-08T11:00:15Z",
  "number": 4782,
  "state": "closed",
  "title": "Add Multipart Support to Web Cmdlets",
  "updated_at": "2017-10-20T11:42:03Z"
}