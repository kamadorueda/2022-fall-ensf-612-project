{
  "_url": "https://github.com/PowerShell/PowerShell/issues/7407",
  "author": "kwkam",
  "body": "## PR Summary\r\n\r\n_*System.Management.Automation/engine/CommandCompletion/CompletionCompleters:_\r\nUse WildcardPattern::Escape to escape completion text of filename.\r\n\r\n_*System.Management.Automation/engine/regex:_\r\nWildcardPattern::Escape should also escape ```\"`\"``` since\r\nWildcardPattern::Unescape would unescape it,\r\nand the matcher parse it as escape character.\r\n\r\n_*System.Management.Automation/namespaces/LocationGlobber:_\r\nDo not pass regex escaped string to WildcardPattern::Get. This fails\r\ntab completion when doing ```\"./path/to/`[f\"<TAB>```.\r\n\r\n## PR Checklist\r\n\r\n- [x] [PR has a meaningful title](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n    - Use the present tense and imperative mood when describing your changes\r\n- [x] [Summarized changes](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [ ] [Change is not breaking](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#making-breaking-changes)\r\n- [x] [Make sure all `.h`, `.cpp`, `.cs`, `.ps1` and `.psm1` files have the correct copyright header](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [x] This PR is ready to merge and is not [Work in Progress](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---work-in-progress).\r\n    - If the PR is work in progress, please add the prefix `WIP:` to the beginning of the title and remove the prefix when the PR is ready.\r\n- **User-facing changes**\r\n    - [ ] Not Applicable\r\n    - **OR**\r\n    - [ ] User-facing [Documentation needed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n        - [ ] Issue filed - Issue link:\r\n- **Testing - New and feature**\r\n    - [ ] Not Applicable or can only be tested interactively\r\n    - **OR**\r\n    - [x] [Make sure you've added a new test if existing tests do not effectively test the code changed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#before-submitting)\r\n        - [x] [Add `[feature]` if the change is significant or affects feature tests](https://github.com/PowerShell/PowerShell/blob/master/docs/testing-guidelines/testing-guidelines.md#requesting-additional-tests-for-a-pr)\r\n",
  "closed_at": "2020-11-22T06:00:06Z",
  "comments": [
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@kwkam Please remove \"[Feature]\" from title in your PRs. We need this prefix only in _commit header_ to force run feature tests. ",
      "created_at": "2018-07-31T04:34:28Z",
      "updated_at": "2018-07-31T04:50:59Z"
    },
    {
      "author": "stale[bot]",
      "author_association": "NONE",
      "body": "This PR has been automatically marked as stale because it has not had activity in the last 30 days. It will be closed if no further activity occurs within 10 days.\nThank you for your contributions.\nCommunity members are welcome to grab these works.\n",
      "created_at": "2018-08-30T11:58:23Z",
      "updated_at": "2018-08-30T11:58:23Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@kwkam Sorry for delay - it is very sensetive aria and we should very careful.",
      "created_at": "2018-08-30T14:10:59Z",
      "updated_at": "2018-08-30T14:10:59Z"
    },
    {
      "author": "kwkam",
      "author_association": "CONTRIBUTOR",
      "body": "@iSazonov Yes, that's why this PR was placed behind the cmdlet ones. Please let me know if something is not correct/not working.",
      "created_at": "2018-08-31T21:40:41Z",
      "updated_at": "2018-08-31T21:40:41Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "cc @BrucePay to follow-up",
      "created_at": "2018-09-05T22:49:19Z",
      "updated_at": "2018-09-05T22:49:19Z"
    },
    {
      "author": "stale[bot]",
      "author_association": "NONE",
      "body": "This PR has been automatically marked as stale because it has not had activity in the last 30 days. It will be closed if no further activity occurs within 10 days.\nThank you for your contributions.\nCommunity members are welcome to grab these works.\n",
      "created_at": "2018-10-24T15:09:25Z",
      "updated_at": "2018-10-24T15:09:25Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@SteveL-MSFT We have too many frozen PRs. How we can resolve the problem?",
      "created_at": "2018-10-25T09:54:45Z",
      "updated_at": "2018-10-25T09:54:45Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@BrucePay will follow-up on this specific PR",
      "created_at": "2018-10-26T17:34:44Z",
      "updated_at": "2018-10-26T17:34:44Z"
    },
    {
      "author": "stale[bot]",
      "author_association": "NONE",
      "body": "This PR has been automatically marked as stale because it has not had activity in the last 30 days. It will be closed if no further activity occurs within 10 days.\nThank you for your contributions.\nCommunity members are welcome to grab these works.\n",
      "created_at": "2018-11-25T18:31:59Z",
      "updated_at": "2018-11-25T18:31:59Z"
    },
    {
      "author": "stale[bot]",
      "author_association": "NONE",
      "body": "This PR has been automatically marked as stale because it has not had activity in the last 30 days. It will be closed if no further activity occurs within 10 days.\nThank you for your contributions.\nCommunity members are welcome to grab these works.\n",
      "created_at": "2019-01-04T03:19:24Z",
      "updated_at": "2019-01-04T03:19:24Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@SteveL-MSFT @BrucePay Could you please make a conclusion about the PR? ",
      "created_at": "2019-01-06T12:06:24Z",
      "updated_at": "2019-01-06T12:06:24Z"
    },
    {
      "author": "BrucePay",
      "author_association": "COLLABORATOR",
      "body": "@kwkam @PowerShell/powershell-committee I've spent quite a while looking at this. While I agree that the behaviour with quoting is wrong, I don't think we can afford to take a breaking change here. Quoting behaviour is subtle and the risk of impacting existing scripts is significant. In fact the `-literalpath` parameter was added specifically to work around these issues because of the difficulty of getting quote processing right.",
      "created_at": "2019-01-15T05:47:16Z",
      "updated_at": "2019-01-15T05:47:16Z"
    },
    {
      "author": "kwkam",
      "author_association": "CONTRIBUTOR",
      "body": "@BrucePay Erm, I am not sure how should I react, this is not about the quoting behaviour. You could see the conversation here:\r\nhttps://github.com/PowerShell/PowerShell/pull/7407/files/931f073c743ace3f39e6d17cd116030a5db1eb15#diff-c1b737e0eb21f0203a20baae71a1c372\r\nand here:\r\nhttps://github.com/PowerShell/PowerShell/pull/7407/files/931f073c743ace3f39e6d17cd116030a5db1eb15#diff-4b52c367ceb4e4ce73e2616e9cc98b22",
      "created_at": "2019-01-16T12:31:17Z",
      "updated_at": "2019-01-16T12:31:17Z"
    },
    {
      "author": "BrucePay",
      "author_association": "COLLABORATOR",
      "body": "@kwkam Escape (backquote) processing is part of the larger area of quoting. This is an area that is fragile (not specific to PowerShell - quote processing is always tricky). You're making changes to one of the core APIs for handling backticks and that is almost certainly going to break people in strange ways. I sympathize with what you're trying to do - I've never been terribly happy with our quote processing - but we have millions of people using PowerShell today and some significant portion of these users may be broken by these changes. Weighing the cost of breaking current users against the somewhat marginal value this PR brings leads me to recommend that we should not take this change.",
      "created_at": "2019-01-23T06:25:32Z",
      "updated_at": "2019-01-23T06:25:32Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@PowerShell/powershell-committee reviewed this, we agree that this is a fragile area to change, however, would accept putting this behind an `ExperimentalFeature` flag to validate potential for regression and collect community feedback.",
      "created_at": "2019-01-23T23:58:01Z",
      "updated_at": "2019-01-23T23:58:01Z"
    },
    {
      "author": "stale[bot]",
      "author_association": "NONE",
      "body": "This PR has been automatically marked as stale because it has not had activity in the last 30 days. It will be closed if no further activity occurs within 10 days.\nThank you for your contributions.\nCommunity members are welcome to grab these works.\n",
      "created_at": "2019-02-23T00:50:46Z",
      "updated_at": "2019-02-23T00:50:46Z"
    },
    {
      "author": "kwkam",
      "author_association": "CONTRIBUTOR",
      "body": "@SteveL-MSFT I have no idea how this should be done, is there any example/reference for the `ExperimentalFeature` implementation?",
      "created_at": "2019-03-04T14:19:07Z",
      "updated_at": "2019-03-04T14:19:07Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@kwkam Please see #8696 and comment https://github.com/PowerShell/PowerShell/pull/8995#issuecomment-469053815",
      "created_at": "2019-03-04T15:02:08Z",
      "updated_at": "2019-03-04T15:02:08Z"
    },
    {
      "author": "kwkam",
      "author_association": "CONTRIBUTOR",
      "body": "@iSazonov Thanks for the reference. I checked the test output, the linux one looks ok but the windows one is not showing the ExperimentalFeature-Enabled checking result, did I do something wrong?",
      "created_at": "2019-03-07T11:42:58Z",
      "updated_at": "2019-03-07T11:42:58Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@kwkam I found the results under Artefacts -> testResults\r\nSo no problem.",
      "created_at": "2019-03-07T14:01:51Z",
      "updated_at": "2019-03-07T14:01:51Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@SteveL-MSFT What is the fate of experimental features? I'd suggest to create an tracking issue (with label \"Area-Experimental\"+\"Issue-Discussion\") for every one to collect feedback and discuss. I believe this help us to move an experimental feature to common code or reject.",
      "created_at": "2019-03-07T14:07:15Z",
      "updated_at": "2019-03-07T14:07:15Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@iSazonov if the question is about how does an experimental feature become non-experimental, then my current thinking is to have it as part of the `Send-PSFeedback` cmdlet proposed in https://github.com/PowerShell/PowerShell-RFC/pull/158.  For now, we can certainly create a discussion issue in this repo to get feedback, but it limits feedback to GitHub users (although they are the ones most likely to use Experimental Features...)",
      "created_at": "2019-03-28T00:55:46Z",
      "updated_at": "2019-03-28T00:55:46Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "> (although they are the ones most likely to use Experimental Features...)\r\n\r\nIf we want get more feedback we could add first-experience feature to inform users:\r\n- write to console a message at first start of preview\r\n- write the same with `help -FirstExperience`",
      "created_at": "2019-03-28T03:27:38Z",
      "updated_at": "2019-03-28T03:27:38Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@iSazonov An about_whatsnew.md might be a good idea.  This is more intended for experienced users moving to a newer version.  If you're intent for \"first experience\" is for beginners, I think that's something else that would be equally interesting, but different.",
      "created_at": "2019-03-29T01:27:24Z",
      "updated_at": "2019-03-29T01:27:24Z"
    },
    {
      "author": "stale[bot]",
      "author_association": "NONE",
      "body": "This PR has been automatically marked as stale because it has not had activity in the last 30 days. It will be closed if no further activity occurs within 10 days.\nThank you for your contributions.\nCommunity members are welcome to grab these works.\n",
      "created_at": "2019-04-28T02:10:44Z",
      "updated_at": "2019-04-28T02:10:44Z"
    },
    {
      "author": "stale[bot]",
      "author_association": "NONE",
      "body": "This PR has been automatically closed because it is stale. If you wish to continue working on the PR, please first update the PR, then reopen it.\nThanks again for your contribution.\nCommunity members are welcome to grab these works.\n",
      "created_at": "2019-05-08T02:56:16Z",
      "updated_at": "2019-05-08T02:56:16Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@SteveL-MSFT Should we re-open and re-assigned the PR?",
      "created_at": "2019-05-08T03:46:12Z",
      "updated_at": "2019-05-08T03:46:12Z"
    },
    {
      "author": "msftrncs",
      "author_association": "CONTRIBUTOR",
      "body": "I tested a variation of this PR, while testing the PR I am preparing to fix all argument completion patterns along with variable and member completions, #10226.\r\n\r\nPreviously, I could not use Get-Content to read the content of a file named ``` `[hello`].txt ```, the file would NOT be read, but there would also be no error.\r\n\r\nI did not modify the WildCardPattern.Escape() method, but instead added ```.Replace(\"`\", \"``\")``` to the passed value of every single instance in the PowerShell code base of the Escape() method.\r\n\r\nNow Get-Content reads the content of that file.\r\n\r\nEven if changes to WildCardPattern.Escape() are considered too breaking, at least manually escape the backticks, in each call.\r\n\r\nUnfortunately this doesn't fix the issue with redirection, which accepts a wildcard path, but then sends it to out-file as a literal.",
      "created_at": "2019-07-28T07:46:29Z",
      "updated_at": "2019-07-28T07:48:28Z"
    },
    {
      "author": "kwkam",
      "author_association": "CONTRIBUTOR",
      "body": "> Unfortunately this doesn't fix the issue with redirection, which accepts a wildcard path, but then sends it to out-file as a literal.\r\n\r\n@msftrncs It was in another PR #9258\r\n",
      "created_at": "2019-12-07T12:34:57Z",
      "updated_at": "2019-12-07T12:34:57Z"
    },
    {
      "author": "msftbot[bot]",
      "author_association": "NONE",
      "body": "This pull request has been automatically marked as Review Needed because it has been there has not been any activity for **7 days**.\nMainainer, Please provide feedback and/or mark it as `Waiting on Author`",
      "created_at": "2020-05-27T02:04:14Z",
      "updated_at": "2020-05-27T02:04:14Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@kwkam Please resolve merge conflicts and address comments.",
      "created_at": "2020-05-27T17:35:45Z",
      "updated_at": "2020-05-27T17:35:45Z"
    },
    {
      "author": "msftbot[bot]",
      "author_association": "NONE",
      "body": "This pull request has been automatically marked as Review Needed because it has been there has not been any activity for **7 days**.\nMainainer, Please provide feedback and/or mark it as `Waiting on Author`",
      "created_at": "2020-06-13T02:00:20Z",
      "updated_at": "2020-06-13T02:00:20Z"
    },
    {
      "author": "TravisEz13",
      "author_association": "MEMBER",
      "body": "@daxian-dbw Can you review this?",
      "created_at": "2020-10-27T17:54:27Z",
      "updated_at": "2020-10-27T17:54:27Z"
    },
    {
      "author": "msftbot[bot]",
      "author_association": "NONE",
      "body": "This pull request has been automatically marked as stale because it has been marked as requiring author feedback but has not had any activity for **15 days**. It will be closed if no further activity occurs **within 10 days of this comment**.",
      "created_at": "2020-11-11T20:00:06Z",
      "updated_at": "2020-11-11T20:00:06Z"
    },
    {
      "author": "floh96",
      "author_association": "NONE",
      "body": "@iSazonov could this pr be reopened?\r\nIf I'm seeing this correctly, it was closed because of a copyright header change....",
      "created_at": "2021-06-10T10:03:58Z",
      "updated_at": "2021-06-10T10:03:58Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@floh96 It makes no sense to reopen. The work could be continue if anybody grabbed the work and MSFT team agreed to review. Now you could open new issue to discuss and vote.",
      "created_at": "2021-06-10T12:35:59Z",
      "updated_at": "2021-06-10T12:35:59Z"
    }
  ],
  "created_at": "2018-07-30T13:10:53Z",
  "number": 7407,
  "state": "closed",
  "title": "Fix tab completion for filename contains literal wildcard character",
  "updated_at": "2021-06-10T12:35:59Z"
}