{
  "_url": "https://github.com/PowerShell/PowerShell/issues/540",
  "author": "vors",
  "body": "-  Add majority of missed files\n-  Add guards\n-  Add a local nuget feed for Microsoft.WSMan.Management and Microsoft.mshtml references\n",
  "closed_at": "2016-02-12T18:50:46Z",
  "comments": [
    {
      "author": "vors",
      "author_association": "COLLABORATOR",
      "body": "Failures on Linux due to the path casing mismatch in project.json files\n",
      "created_at": "2016-02-12T05:50:08Z",
      "updated_at": "2016-02-12T05:50:08Z"
    },
    {
      "author": "vors",
      "author_association": "COLLABORATOR",
      "body": "Two PRs in the corresponding repos\nhttps://github.com/PowerShell/psl-monad/pull/18\nhttps://github.com/PowerShell/psl-windows-build/pull/4\n",
      "created_at": "2016-02-12T09:29:16Z",
      "updated_at": "2016-02-12T09:29:16Z"
    },
    {
      "author": "andschwa",
      "author_association": "MEMBER",
      "body": "This is awesome :+1: \n",
      "created_at": "2016-02-12T18:30:03Z",
      "updated_at": "2016-02-12T18:30:03Z"
    },
    {
      "author": "andschwa",
      "author_association": "MEMBER",
      "body": "Got a thing I want to fix though, to prevent:\n\n```\n/home/travis/build/PowerShell/PowerShell/src/Microsoft.PowerShell.Commands.Management/project.lock.json(1,0): warning NU1006: Dependencies in project.json were modified. Please run \"dotnet restore\" to generate a new lock file.\n```\n\nand\n\n```\nC:\\projects\\powershell-linux\\src\\Microsoft.PowerShell.Commands.Management\\project.lock.json(1,0): warning NU1006: Dependencies in project.json were modified. Please run \"dotnet restore\" to generate a new lock file.\n```\n",
      "created_at": "2016-02-12T18:30:54Z",
      "updated_at": "2016-02-12T18:30:54Z"
    },
    {
      "author": "vors",
      "author_association": "COLLABORATOR",
      "body": "@andschwa ah cool. You want want to check other project.json files as well\n",
      "created_at": "2016-02-12T18:35:16Z",
      "updated_at": "2016-02-12T18:35:16Z"
    },
    {
      "author": "andschwa",
      "author_association": "MEMBER",
      "body": "That was it, I double-checked and indeed the builds no longer complain about wanting to be restored again.\n\nI'm good to merge, will --ff it.\n",
      "created_at": "2016-02-12T18:50:16Z",
      "updated_at": "2016-02-12T18:50:16Z"
    },
    {
      "author": "masaeedu",
      "author_association": "NONE",
      "body": "I'm struggling to get started with the Powershell SDK in a project targeting NET461. I found this issue due to your note: \"add a local nuget feed for Microsoft.WSMan.Management and Microsoft.mshtml references\" note you added. \n\nWhile there is a nuget package for `Microsoft.mshtml` available in [your feed](https://powershell.myget.org/gallery/powershell-core), I don't know where to look for `Microsoft.WSMan.Management`. My project.json currently looks like this:\n\n```\n{\n  \"version\": \"1.0.0-*\",\n\n  \"dependencies\": {\n    \"Microsoft.PowerShell.SDK\": \"1.0.0-alpha9\"\n  },\n\n  \"frameworks\": {\n    \"net461\": {\n      \"imports\": \"dnxcore50\",\n      \"frameworkAssemblies\": {\n      }\n    }\n  }\n}\n```\n\nThere is an package restore error:\n\n```\nError   NU1001  The dependency Microsoft.WSMan.Management >= 1.0.0-alpha9 could not be resolved.    ... D:\\...\\project.json 12  \n```\n\nAre there any official docs on using the Powershell SDK in full framework projects?\n",
      "created_at": "2016-08-25T16:30:48Z",
      "updated_at": "2016-08-25T16:36:03Z"
    },
    {
      "author": "andschwa",
      "author_association": "MEMBER",
      "body": "@masaeedu Just because I have to say: we're not supporting FullCLR builds whatsoever. The open-source PowerShell project is for PowerShell on CoreCLR.\n\nAnyway, let's see what we can do. While I know we had a Microsoft.WSMan.Management package in our previous (private) feed, I'm not seeing it in our new (public) [powershell-core MyGet feed](https://powershell.myget.org/gallery/powershell-core/). @daxian-dbw do you konw what happened to Microsoft.WSMan.Management?\n\n@masaeedu I'm also not seeing a direct dependency on Microsoft.WSMan.Management from Microsoft.PowerShell.SDK. Can you post your `project.lock.json` file?\n",
      "created_at": "2016-08-25T16:41:49Z",
      "updated_at": "2016-08-25T16:41:49Z"
    },
    {
      "author": "masaeedu",
      "author_association": "NONE",
      "body": "> Just because I have to say: we're not supporting FullCLR builds whatsoever. The open-source PowerShell project is for PowerShell on CoreCLR.\n\nI appreciate you going above and beyond :). Unfortunately we haven't managed to port everything to `netstandard` just yet, so some mixed projects have to use `net461`.\n\n> I'm also not seeing a direct dependency on Microsoft.WSMan.Management from Microsoft.PowerShell.SDK. Can you post your project.lock.json file?\n\nIt isn't a direct dependency, the dependency is Microsoft.PowerShell.SDK -> Microsoft.PowerShell.Commands.Management -> Microsoft.WSMan.Management. Here's my lock json: https://gist.github.com/masaeedu/e52b21c580d2125b16751384da5d44c2\n",
      "created_at": "2016-08-25T16:48:19Z",
      "updated_at": "2016-08-25T16:49:06Z"
    },
    {
      "author": "andschwa",
      "author_association": "MEMBER",
      "body": "Ah, I think I know what happened. We quit depending on Microsoft.WSMan.Management as a package and instead build it from source as a project in `src/Microsoft.WSMan.Management`.\n\n@daxian-dbw we'll probably need to build and publish Microsoft.WSMan.Management as a package.\n\n@masaeedu what you can do in the meantime is build the package yourself; a `dotnet pack --version-suffix alpha9` in that directory _ought_ to create the package (with the correct version). Then there's the matter of getting `dotnet restore` to find it, which should just amount to adding a new feed in your `nuget.config` that points to a local folder and sticking the package there.\n",
      "created_at": "2016-08-25T16:58:46Z",
      "updated_at": "2016-08-25T16:58:46Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "Indeed. Microsoft.PowerShell.Commands.Management for net451 depends on Microsoft.WSMan.Management, but the latter is not published. Issue #2065 was opened to track the fix.\n",
      "created_at": "2016-08-25T18:30:04Z",
      "updated_at": "2016-08-25T18:30:04Z"
    }
  ],
  "created_at": "2016-02-12T05:40:34Z",
  "number": 540,
  "state": "closed",
  "title": "One step closer to build a fully-functional FullCLR PS",
  "updated_at": "2016-08-25T18:30:04Z"
}