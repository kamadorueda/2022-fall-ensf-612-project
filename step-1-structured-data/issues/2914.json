{
  "_url": "https://github.com/PowerShell/PowerShell/issues/2914",
  "author": "iSazonov",
  "body": "Errors in Travis CI log is `Get-ItemProperty : Cannot find a provider with the name 'Registry'.`\r\n(Get-Counter, Import-Counter and Export-Counter is only Windows cmdlets.)\r\n",
  "closed_at": "2017-01-06T11:25:51Z",
  "comments": [
    {
      "author": "lzybkr",
      "author_association": "MEMBER",
      "body": "The changes look fine.\r\n\r\nI thought I would make more general comments on these tests (I think @Francisco-Gamino is the original author).\r\n\r\nI think the tests would be a bit cleaner if the test used `BeforeAll` and set the default parameter for `It -Skip` in `BeforeAll`. The test for skipping can be simpler as well, in most cases, it's just `!$IsWindows` which is much faster than calling a function.\r\n\r\nThe last thing I noticed - the ValidateParameters function shouldn't exist, the `-TestsCases` parameter to `It` should be used instead. This will also be faster to skip on non-Windows platforms as `It` will be called once instead of once per testcase.",
      "created_at": "2016-12-21T18:26:32Z",
      "updated_at": "2016-12-21T18:26:32Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@lzybkr Thanks for comments.\r\nI made some performance optimizations (using `$isWindows` and set `-MaxSamples 2`). The savings amounted to about 4 seconds.\r\nWith regard to the \"ValidateParameters function shouldn't exist\" I believe that this is not acceptable because there is a request from @JamesWTruher #2887 - we must explicitly skip every test to retain the correct stats.",
      "created_at": "2016-12-22T06:02:52Z",
      "updated_at": "2016-12-22T06:02:52Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "I close the PR since others (#2958 and #2952) have already addressed these changes.",
      "created_at": "2017-01-06T11:25:51Z",
      "updated_at": "2017-01-06T11:25:51Z"
    }
  ],
  "created_at": "2016-12-21T10:18:38Z",
  "number": 2914,
  "state": "closed",
  "title": "Remove errors in counter tests on non-Windows",
  "updated_at": "2017-03-30T06:52:05Z"
}