{
  "_url": "https://github.com/PowerShell/PowerShell/issues/7419",
  "author": "daxian-dbw",
  "body": "## PR Summary\r\n\r\n- Add the file `test/tools/TestMetadata.json` for declaring tests for experimental features.\r\n   - Key is the experimental feature name;\r\n   - Value is an array of paths for the folder or files that Pester should run when the feature is turned on. If the value is an empty array, then all tests will be executed for the feature.\r\n- Add `-ExperimentalFeatureName` to `Start-PSPester` to support running tests with the specified feature turned on.\r\n- Update `AppVeyor.psm1` and `travis.ps1` to read `TestMetadata.json` and run tests for each declared features.\r\n\r\n## PR Checklist\r\n\r\n- [x] [PR has a meaningful title](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n    - Use the present tense and imperative mood when describing your changes\r\n- [x] [Summarized changes](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [x] [Change is not breaking](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#making-breaking-changes)\r\n- [ ] [Make sure all `.h`, `.cpp`, `.cs`, `.ps1` and `.psm1` files have the correct copyright header](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [x] This PR is ready to merge and is not [Work in Progress](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---work-in-progress).\r\n    - If the PR is work in progress, please add the prefix `WIP:` to the beginning of the title and remove the prefix when the PR is ready.\r\n- **User-facing changes**\r\n    - [x] Not Applicable\r\n    - **OR**\r\n    - [ ] User-facing [Documentation needed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n        - [ ] Issue filed - Issue link:\r\n- **Testing - New and feature**\r\n    - [ ] Not Applicable or can only be tested interactively\r\n    - **OR**\r\n    - [ ] [Make sure you've added a new test if existing tests do not effectively test the code changed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#before-submitting)\r\n        - [x] [Add `[feature]` if the change is significant or affects feature tests](https://github.com/PowerShell/PowerShell/blob/master/docs/testing-guidelines/testing-guidelines.md#requesting-additional-tests-for-a-pr)\r\n",
  "closed_at": "2018-08-03T18:20:15Z",
  "comments": [
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "@TravisEz13 @adityapatwardhan @anmenaga Can you please review this update to our CI scripts?",
      "created_at": "2018-08-02T18:59:36Z",
      "updated_at": "2018-08-02T18:59:36Z"
    },
    {
      "author": "anmenaga",
      "author_association": "CONTRIBUTOR",
      "body": "To ensure that this change to test infra works as expected it would be good to actually have an experimental feature with corresponding tests checked in as part of this.  Having a dummy experimental feature in the product for the sake of testing is probably not worth it. Do we have a candidate for an actually useful experimental feature?",
      "created_at": "2018-08-02T20:46:48Z",
      "updated_at": "2018-08-02T20:46:48Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "@anmenaga There are tests for a dummy experimental feature -- they are part of my initial check-in for the experimental feature work. They are in this folder https://github.com/PowerShell/PowerShell/tree/master/test/powershell/engine/ExperimentalFeature\r\nAlso, please see `TestMetadata.json` in this change, I declared the dummy experimental feature and the testes to run for it. This CI update will enable to run those tests in CI.",
      "created_at": "2018-08-02T21:27:41Z",
      "updated_at": "2018-08-02T21:27:41Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "@anmenaga and @adityapatwardhan Your comments have been addressed. Please take another look when you can. Thanks!",
      "created_at": "2018-08-02T23:11:15Z",
      "updated_at": "2018-08-02T23:11:15Z"
    }
  ],
  "created_at": "2018-08-01T00:22:04Z",
  "number": 7419,
  "state": "closed",
  "title": "Update CI scripts to support running tests for experimental features",
  "updated_at": "2018-08-03T18:20:18Z"
}