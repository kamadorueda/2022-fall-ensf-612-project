{
  "_url": "https://github.com/PowerShell/PowerShell/issues/4335",
  "author": "daxian-dbw",
  "body": "Fix #3014\r\n\r\nThere are following major changes:\r\n1. `Start-PSBootstrap -BuildWindowsNative` installs the native dependencies required for building PSRP binary. Without `-BuildWindowsNative`, it only installs the dotnet-SDK on Windows platform.\r\n2. `Start-PSBuild` doesn't build Windows PSRP binary. Instead, `Start-BuildNativeWindowsBinaries` is added to build it. After the build, 3 files (`'pwrshplugin.dll'`, `'pwrshplugin.pdb'`, `'Install-PowerShellRemoting.ps1'`) will be bin-placed at `src\\powershell-win-core` like before.\r\n3. The NuGet package `'psrp.windows'` is added to `powershell-core` feed, and we reference it in `powershell-win-core.csproj` to get the Windows PSRP related files. The NuGet package is [here](https://powershell.myget.org/feed/powershell-core/package/nuget/psrp.windows), and the content of the package is as follows: (.dll and .pdb files are from the beta.4 release build)\r\n\r\n![image](https://user-images.githubusercontent.com/127450/28548980-194ec3ee-708c-11e7-8061-492e7561e3d9.png)\r\n",
  "closed_at": "2017-07-25T23:50:28Z",
  "comments": [
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "I think it should be OK to remove `New-AppxPackage`, so add `-BuildWindowsNative` to `Start-PSBootstrap` to indicate installing dependencies for building PSRP. It's more clear to review from CodeFlow.",
      "created_at": "2017-07-25T04:15:16Z",
      "updated_at": "2017-07-25T04:15:16Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "@SteveL-MSFT could you please take another look?",
      "created_at": "2017-07-25T18:22:25Z",
      "updated_at": "2017-07-25T18:22:25Z"
    }
  ],
  "created_at": "2017-07-24T22:45:16Z",
  "number": 4335,
  "state": "closed",
  "title": "Separate Windows PSRP binary build out of Start-PSBuild",
  "updated_at": "2017-07-25T23:51:01Z"
}