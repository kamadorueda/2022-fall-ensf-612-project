{
  "_url": "https://github.com/PowerShell/PowerShell/issues/17901",
  "author": "iRon7",
  "body": "### Prerequisites\r\n\r\n- [X] Write a descriptive title.\r\n- [X] Make sure you are able to repro it on the [latest released version](https://github.com/PowerShell/PowerShell/releases)\r\n- [X] Search the existing issues.\r\n- [X] Refer to the [FAQ](https://github.com/PowerShell/PowerShell/blob/master/docs/FAQ.md).\r\n- [X] Refer to [Differences between Windows PowerShell 5.1 and PowerShell](https://docs.microsoft.com/powershell/scripting/whats-new/differences-from-windows-powershell).\r\n\r\n### Steps to reproduce\r\n\r\n```PowerShell\r\nGet-Help Get-Help\r\n```\r\n```Console\r\n...\r\nRELATED LINKS\r\n    Online Version: https://docs.microsoft.com/powershell/module/microsoft.powershell.core/get-help?view=powershell-7.2&WT.mc_id=ps-gethelp\r\n    about_Command_Syntax\r\n    about_Comment_Based_Help\r\n    Get-Command\r\n    Supporting Updatable Help\r\n    Update-Help\r\n    Writing Comment-Based Help Topics\r\n    Writing Help for PowerShell Cmdlets\r\n...\r\n```\r\n```PowerShell\r\n(Get-Help Get-Help).relatedLinks.navigationLink.foreach{ $_ }\r\n```\r\n```Console\r\nuri                                                                                                                     linkText\r\n---                                                                                                                     --------\r\nhttps://docs.microsoft.com/powershell/module/microsoft.powershell.core/get-help?view=powershell-7.2&WT.mc_id=ps-gethelp Online Version:\r\n                                                                                                                        about_Command_Syntax\r\n                                                                                                                        about_Comment_Based_Help\r\n                                                                                                                        Get-Command\r\n                                                                                                                        Supporting Updatable Help\r\n                                                                                                                        Update-Help\r\n                                                                                                                        Writing Comment-Based Help Topics\r\n                                                                                                                        Writing Help for PowerShell Cmdlets\r\n```\r\n\r\n### Expected behavior\r\n\r\nA `uri` listed for each `navigationLink`\r\n\r\n\r\n### Actual behavior\r\n\r\nOnly the `uri` of the first `navigationLink` is listed\r\n\r\n### Error details\r\n\r\n_No response_\r\n\r\n### Environment data\r\n\r\n```powershell\r\nName                           Value\r\n----                           -----\r\nPSVersion                      7.2.6\r\nPSEdition                      Core\r\nGitCommitId                    7.2.6\r\nOS                             Microsoft Windows 10.0.22000\r\nPlatform                       Win32NT\r\nPSCompatibleVersions           {1.0, 2.0, 3.0, 4.0\u2026}\r\nPSRemotingProtocolVersion      2.3\r\nSerializationVersion           1.1.0.1\r\nWSManStackVersion              3.0\r\n```\r\n\r\n\r\n### Visuals\r\n\r\n_No response_",
  "closed_at": "2022-08-19T01:01:16Z",
  "comments": [
    {
      "author": "jhoneill",
      "author_association": "NONE",
      "body": "This looks like a problem with the Tools which build the MAML xml, rather than with the `Get-Help` cmdlet. \r\n\r\nFor `Get-Help` itself the maml is in ` System.Management.Automation.dll-Help.xml` \r\n\r\nOn my system this is in <profile dir>\\help\\en-us    if I search for `<command:name>Get-Help</command:name>` and then the next set of `relatedlinks` I find this \r\n\r\n```xml\r\n    <command:relatedLinks>\r\n      <maml:navigationLink>\r\n        <maml:linkText>Online Version:</maml:linkText>\r\n        <maml:uri>https://docs.microsoft.com/powershell/module/microsoft.powershell.core/get-help?view=powershell-7.2&amp;WT.mc_id=ps-gethelp</maml:uri>\r\n      </maml:navigationLink>\r\n      <maml:navigationLink>\r\n        <maml:linkText>about_Command_Syntax</maml:linkText>\r\n        <maml:uri></maml:uri>\r\n      </maml:navigationLink>\r\n      <maml:navigationLink>\r\n        <maml:linkText>about_Comment_Based_Help</maml:linkText>\r\n        <maml:uri></maml:uri>\r\n      </maml:navigationLink>\r\n      <maml:navigationLink>\r\n        <maml:linkText>Get-Command</maml:linkText>\r\n        <maml:uri></maml:uri>\r\n      </maml:navigationLink>\r\n      <maml:navigationLink>\r\n        <maml:linkText>Supporting Updatable Help</maml:linkText>\r\n        <maml:uri></maml:uri>\r\n      </maml:navigationLink>\r\n      <maml:navigationLink>\r\n        <maml:linkText>Update-Help</maml:linkText>\r\n        <maml:uri></maml:uri>\r\n      </maml:navigationLink>\r\n      <maml:navigationLink>\r\n        <maml:linkText>Writing Comment-Based Help Topics</maml:linkText>\r\n        <maml:uri></maml:uri>\r\n      </maml:navigationLink>\r\n      <maml:navigationLink>\r\n        <maml:linkText>Writing Help for PowerShell Cmdlets</maml:linkText>\r\n        <maml:uri></maml:uri>\r\n      </maml:navigationLink>\r\n    </command:relatedLinks>\r\n```\r\n\r\nSo `Get-Help` is correctly showing the links as empty, and  when I hand hacked the last link `Get-Help` showed it correctly.  \r\n\r\nThe  markdown help at https://github.com/MicrosoftDocs/PowerShell-Docs/tree/main/reference/7.2/Microsoft.PowerShell.Core has this \r\n```Markdown\r\n## RELATED LINKS\r\n\r\n[about_Command_Syntax](About/about_Command_Syntax.md)\r\n\r\n[about_Comment_Based_Help](./About/about_Comment_Based_Help.md)\r\n\r\n[Get-Command](Get-Command.md)\r\n\r\n[Supporting Updatable Help](/powershell/scripting/developer/module/supporting-updatable-help)\r\n\r\n[Update-Help](Update-Help.md)\r\n\r\n[Writing Comment-Based Help Topics](/powershell/scripting/developer/help/writing-comment-based-help-topics)\r\n\r\n[Writing Help for PowerShell Cmdlets](/powershell/scripting/developer/help/writing-help-for-windows-powershell-cmdlets)\r\n```\r\n\r\n**So the links which are specified in the markdown help don't make it to the maml file**\r\n\r\nNote that \r\n1.  The `Online Version` link isn't in the `links` part of the markdown but the preamble at the top of the file. \r\n2. When the HTML is built to appear at https://docs.microsoft.com/powershell/module/microsoft.powershell.core/get-help it needs to process relative paths and transform links to a .MD file to links to a help topic  \r\n3.  There is no \"PowerShell help\" url type (AFAIK) so creating links from MAML help to another local help topic is problematic, and the user needs to request help again, but the process could create a link to on-line help quite easily. \r\n4. The MAML help builder does not recognise things like \"/powershell/scripting/developer/module/supporting-updatable-help\" as links which should be built relative to the on-line help link\r\n\r\nFor my own modules markdown is transformed to MAML with PlatyPS but I don't know what the process is for PowerShell's own help (platyPS alone, platyPS plus something extra or using totally different code) . But **I would say there is definitely a bug somewhere in the MD to MAML Process**  There is no point in including the names of links which are _not_ help topics without their corresponding URI, so either links which do not end .MD should be filtered out, or the correct URI should be built at least for those. \r\n\r\nAdditionally \r\n1.  the mark down has this \r\n```Markdown \r\n>[!NOTE]\r\n> In PowerShell 3.0 and PowerShell 4.0, `Get-Help` can't find **About** articles in modules unless\r\n> the module is imported into the current session. This is a known issue. To get **About** articles\r\n> in a module, import the module, either by using the `Import-Module` cmdlet or by running a cmdlet\r\n> that's included in the module.\r\n``` \r\nWhich translates to a call out block on the HTML page but becomes a continuous run of literal text in the maml\r\n```\r\n    >[!NOTE] > In PowerShell 3.0 and PowerShell 4.0, `Get-Help` can't find About articles in modules unless > the module is\r\n    imported into the current session. This is a known issue. To get About articles > in a module, import the module, either by\r\n    using the `Import-Module` cmdlet or by running a cmdlet > that's included in the module.\r\n```\r\n\r\n2. Where the markdown specifies bullet points, continuation lines need to be indented and when the maml is built the lines are joined without removing the spaces aren't e.g.\r\n```Markdown\r\n        - Named indicates that the parameter name is required, but that the parameter can appear   anywhere in the command.\r\n                                                                                               ~~~~~~~\r\n```\r\n\r\n3.  The markdown has many places where code formatting is marked but Get-Help's output does not replace apply formatting for `code` and the builder doesn't strip the single back ticks out (it does for multiple tick blocks)\r\nso we get this \r\n```\r\n\r\nDESCRIPTION\r\n    The `Get-Help` cmdlet displays\r\n        ~~~~~~~~~~\r\n``` \r\n\r\nNot sure if there is an existing issue for MD -> MAML bugs so I'm just putting the ones I've notice in one place  ",
      "created_at": "2022-08-16T09:34:46Z",
      "updated_at": "2022-08-16T10:15:10Z"
    },
    {
      "author": "jhoneill",
      "author_association": "NONE",
      "body": "I've opened bugs for these at https://github.com/PowerShell/platyPS/issues/584  (and 580, 581, 582, and 583) ",
      "created_at": "2022-08-16T12:42:01Z",
      "updated_at": "2022-08-16T12:42:01Z"
    },
    {
      "author": "iRon7",
      "author_association": "NONE",
      "body": "@jhoneill, Thank you for your investigation and passing this on.",
      "created_at": "2022-08-16T12:46:06Z",
      "updated_at": "2022-08-16T13:07:01Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "@jhoneill Thanks for the detailed investigation!",
      "created_at": "2022-08-18T00:26:45Z",
      "updated_at": "2022-08-18T00:26:45Z"
    },
    {
      "author": "msftbot[bot]",
      "author_association": "NONE",
      "body": "This issue has been marked as external and has not had any activity for **1 day**. It has been be closed for housekeeping purposes.",
      "created_at": "2022-08-19T01:01:15Z",
      "updated_at": "2022-08-19T01:01:15Z"
    }
  ],
  "created_at": "2022-08-15T11:43:48Z",
  "number": 17901,
  "state": "closed",
  "title": "`get-help` only reveals the `uri` of the first `navigationLink`",
  "updated_at": "2022-08-19T01:01:16Z"
}