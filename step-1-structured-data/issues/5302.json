{
  "_url": "https://github.com/PowerShell/PowerShell/issues/5302",
  "author": "lzybkr",
  "body": "This replaces the code that scanned a script block for suspicious strings.\r\nThe previous implementation:\r\n* Tokenized input (generating many strings for garbage collection)\r\n* Use multiple threads\r\n\r\nThis approach is based on Rubin-Karp and does not allocate any memory\r\nother than a small array to hold the running hash values.\r\n\r\nI tested the new and old approaches on 2200 files in the PowerShell repo.\r\nThe old code ran in about 1.8-2.1s (ignoring time spent reading files)\r\nThe new code runs in about 0.6s and is more stable due to no garbage.\r\n\r\n<!--\r\n\r\nIf you are a PowerShell Team member, please make sure you choose the Reviewer(s) and Assignee for your PR.\r\nIf you are not from the PowerShell Team, you can leave the fields blank and the Maintainers will choose them for you. If you are familiar with the team, feel free to mention some Reviewers yourself.\r\n\r\nFor more information about the roles of Reviewer and Assignee, refer to [CONTRIBUTING.md](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md).\r\n\r\n-->\r\n",
  "closed_at": "2017-11-03T00:59:44Z",
  "comments": [],
  "created_at": "2017-11-02T03:43:43Z",
  "number": 5302,
  "state": "closed",
  "title": "Speed up check for suspicious content",
  "updated_at": "2017-11-03T16:11:41Z"
}