{
  "_url": "https://github.com/PowerShell/PowerShell/issues/21",
  "author": "andschwa",
  "body": "~~It is now available as a NuGet package, so lets use that.~~\n\nDo not merge. This now serves as discussion on how we'll deal with the lack of `SecureString` support in .NET Core.\n",
  "closed_at": "2016-02-23T20:01:11Z",
  "comments": [
    {
      "author": "vors",
      "author_association": "COLLABORATOR",
      "body": ":clap: \n",
      "created_at": "2016-01-21T23:59:26Z",
      "updated_at": "2016-01-21T23:59:26Z"
    },
    {
      "author": "andschwa",
      "author_association": "MEMBER",
      "body": "Now actually _using_ it causes a test failure:\n\n```\nDescribing ConvertTo-SecureString\n   Context Checking return types of ConvertTo-SecureString\n    [-] Should return System.Security.SecureString after converting plaintext variable 70ms\n      Unable to load DLL 'oleaut32.dll': The specified module could not be found.\n       (Exception from HRESULT: 0x8007007E)\n      at line: 6 in /home/powershell/workspace/monad-linux/test/powershell/ConvertTo-SecureString.Tests.ps1\n```\n\nBut it satisfies build requirements.\n\nSo, the current \"implementation\" is a stub borrowed from @fearthecowboy (who I believe borrowed it from Mono).\n\nWhat do we think the best thing is to do here, since `SecureString` isn't quite cross-platform?\n",
      "created_at": "2016-01-22T00:14:08Z",
      "updated_at": "2016-01-22T00:14:08Z"
    },
    {
      "author": "andschwa",
      "author_association": "MEMBER",
      "body": "Oh and you know what: there's a bad reason the package isn't super up-to-date, they did officially remove support for it (after having briefly added it). :cry: \n",
      "created_at": "2016-01-22T00:31:41Z",
      "updated_at": "2016-01-22T00:31:41Z"
    },
    {
      "author": "vors",
      "author_association": "COLLABORATOR",
      "body": "Yes, it's from mono https://github.com/mono/mono/blob/b7a308f660de8174b64697a422abfc7315d07b8c/mcs/class/corlib/System.Security/SecureString.cs \n\nAccording to @daxian-dbw it was a hack in a prototype to make it work. We really should be careful about legal implications. It should be possible to get code from CLR team.\n",
      "created_at": "2016-01-22T00:45:07Z",
      "updated_at": "2016-01-22T00:45:07Z"
    },
    {
      "author": "andschwa",
      "author_association": "MEMBER",
      "body": "What _exactly_ do we need the `SecureString` type for? Since it's not in .NET Core, can we conditionally replace its use with normal strings, or do we need to re-implement it? The latter seems like an odd choice considering it was purposefully removed from .NET Core.\n\n@daxian-dbw what has been done on the Windows side of this?\n",
      "created_at": "2016-01-23T01:14:21Z",
      "updated_at": "2016-01-23T01:14:21Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "On the windows side, our current plan is to take over the CoreCLR implementation of SecureString that used to be included in early versions of CoreCLR drops, and continue to use it. This is something we have to do to keep parity with full powershell.\n\nSecureString is used heavily in PS as a more secure way to use credentials, though it's not actually as secure as it seems to be ... Many scripts depend on it, so I don't see it's possible to remove it from Nano PS.\n\nAs for what to do with it on PSL, you should raise this question to people like Dan and Bruce. We need to think more about it.\n",
      "created_at": "2016-01-29T00:24:07Z",
      "updated_at": "2016-01-29T00:24:07Z"
    },
    {
      "author": "andschwa",
      "author_association": "MEMBER",
      "body": "/cc @BrucePay @dhmsgit We cannot ship with the current work-around.\n",
      "created_at": "2016-02-04T04:24:17Z",
      "updated_at": "2016-02-04T04:24:17Z"
    },
    {
      "author": "andschwa",
      "author_association": "MEMBER",
      "body": "Meeting summary: Windows PowerShell is keeping SecureString because it is used as an indicator of a \"SensitiveString,\" and will not port their implementation to Linux. We will have to take their implementation and port it to Linux as best we can (meaning less secure than Windows side, but obfuscated in memory).\n\n/cc @FawcettJohnW @joeyaiello @dhmsgit @LeeHolmes @fearthecowboy Did I miss anything?\n",
      "created_at": "2016-02-08T21:29:00Z",
      "updated_at": "2016-02-08T21:29:00Z"
    },
    {
      "author": "andschwa",
      "author_association": "MEMBER",
      "body": "@fearthecowboy Until we can \"obfuscate\" it, I'm going to hunt down my wrapper of a `StringBuilder` so we can at least remove the Mono code.\n",
      "created_at": "2016-02-19T18:14:27Z",
      "updated_at": "2016-02-19T18:14:27Z"
    },
    {
      "author": "andschwa",
      "author_association": "MEMBER",
      "body": "Closing to track with #582.\n",
      "created_at": "2016-02-23T20:01:10Z",
      "updated_at": "2016-02-23T20:01:10Z"
    }
  ],
  "created_at": "2016-01-21T23:14:59Z",
  "number": 21,
  "state": "closed",
  "title": "Remove SecureString stub",
  "updated_at": "2016-02-23T20:01:15Z"
}