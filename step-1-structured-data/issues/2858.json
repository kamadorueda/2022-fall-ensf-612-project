{
  "_url": "https://github.com/PowerShell/PowerShell/issues/2858",
  "author": "rmunn",
  "body": "Problems fixed in this commit:\r\n\r\n  - Some curly-quotes encoded in CP-1252. Replaced with ASCII quotes.\r\n  - Some cases of \u2013 (U+2013 EN DASH) used in comments where a hyphen was clearly intended (e.g., in the number -1). Replaced with hyphen.\r\n  - Many \u00a9 characters (and one \u00ae character) encoded in CP-1252 instead of UTF-8. Replaced with correct UTF-8 characters.\r\n  - Two cases of \u00f6 encoded in CP-1252 instead of UTF-8. Fixed.\r\n\r\nProblems NOT fixed in this commit:\r\n\r\n  - [Microsoft.PowerShell.Utility.psm1](https://github.com/PowerShell/PowerShell/blob/32a8601f926b164bbdf74ad1b6c4c8ef927fe1a8/src/Modules/Shared/Microsoft.PowerShell.Utility/Microsoft.PowerShell.Utility.psm1#L377) file contains some invalid UTF-8 bytes in comments on line 377 and lines 390-392. Since those are meant to represent CP-1252 encoded output on the Windows command prompt, it's less clear what to do here. Left them alone for now.\r\n  - Many files have a UTF-8 BOM that's no longer the first character of the file. Usually this is because a \"Copyright (C) Microsoft.  All rights reserved.\" comment has been automatically added at the top of the file by some script which didn't properly handle the existence of a BOM character. One example of this problem can be seen in [DefinitionCache.cs](https://github.com/PowerShell/PowerShell/blob/32a8601f926b164bbdf74ad1b6c4c8ef927fe1a8/src/Microsoft.PowerShell.Workflow.ServiceCore/ServiceCore/WorkflowCore/DefinitionCache.cs#L4), where line 4 starts with the BOM that should be at the start of line 1. This is a different issue and should be tracked (and fixed) separately.\r\n\r\nThis should mostly fix #2851, and any remaining Unicode problems (such as the BOM issue mentioned above) should probably be tracked in a new issue.",
  "closed_at": "2017-02-23T21:25:33Z",
  "comments": [
    {
      "author": "msftclas",
      "author_association": "NONE",
      "body": "Hi __@rmunn__, I'm your friendly neighborhood Microsoft Pull Request Bot (You can call me MSBOT). Thanks for your contribution!\r\n    <span>\r\n        In order for us to evaluate and accept your PR, we ask that you sign a contribution license agreement. It's all electronic and will take just minutes. I promise there's no faxing. https://cla.microsoft.com.\r\n    </span>\r\n\r\nTTYL, MSBOT;\r\n",
      "created_at": "2016-12-08T03:50:14Z",
      "updated_at": "2016-12-08T03:50:14Z"
    },
    {
      "author": "rmunn",
      "author_association": "CONTRIBUTOR",
      "body": "Note that https://github.com/PowerShell/PowerShell/pull/2857 is a subset of these changes. I created that PR first, then decided to go ahead and fix the rest of the Unicode encoding problems I had found. So if this PR is accepted, https://github.com/PowerShell/PowerShell/pull/2857 will be moot.",
      "created_at": "2016-12-08T04:04:58Z",
      "updated_at": "2016-12-08T04:04:58Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "1. I think we should fix Microsoft.PowerShell.Utility.psm1 here too because the problem is in _comments_ , not in real data.\r\n2. We should add tests. Perhaps we can add CI encoding checks as requested by @vors in #1559",
      "created_at": "2016-12-08T05:05:26Z",
      "updated_at": "2016-12-08T05:05:26Z"
    },
    {
      "author": "rmunn",
      "author_association": "CONTRIBUTOR",
      "body": "I've signed the CLA, but the MSBOT hasn't updated the PR yet. Do I need to email the signed PDF back to Microsoft or something?\r\n\r\n**Update:** Oh, I think I see what's going on. I signed it with my Gmail address, but the email address that GIthub has for me is my pobox.com forwarding address. I'll probably need to re-sign it with the pobox.com address before the MSBOT knows that it's me.",
      "created_at": "2016-12-08T10:15:59Z",
      "updated_at": "2016-12-08T10:18:29Z"
    },
    {
      "author": "msftgits",
      "author_association": "NONE",
      "body": "Hi, I am closing and re-opening this PR to bump the CLA bot. Sorry for the inconvenience!",
      "created_at": "2016-12-08T22:09:48Z",
      "updated_at": "2016-12-08T22:09:48Z"
    },
    {
      "author": "msftclas",
      "author_association": "NONE",
      "body": "Hi __@rmunn__, I'm your friendly neighborhood Microsoft Pull Request Bot (You can call me MSBOT). Thanks for your contribution!\r\n    <span>You've already signed the contribution license agreement. Thanks!</span>\r\n        <p>The agreement was validated by Microsoft and real humans are currently evaluating your PR.</p>\r\n\r\nTTYL, MSBOT;\r\n",
      "created_at": "2016-12-08T22:09:54Z",
      "updated_at": "2016-12-08T22:09:54Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "Why we use unwanted BOM instead of simply replace one \u00a9 (copyright) character? Now 1457 file contain \"Copyright (C)\".",
      "created_at": "2016-12-13T12:35:05Z",
      "updated_at": "2016-12-13T12:35:05Z"
    },
    {
      "author": "lzybkr",
      "author_association": "MEMBER",
      "body": "I'm closing this PR as we're going a different route.\r\nFirst, some of these files will be removed when we remove Windows (full) PowerShell from this repo.\r\nFor other files, I think we want pure ASCII and remove any BOMs - necessary or not - which means we'll replace some of the characters, e.g. replace copyright with (c).",
      "created_at": "2017-02-23T21:25:33Z",
      "updated_at": "2017-02-23T21:25:33Z"
    }
  ],
  "created_at": "2016-12-08T03:50:10Z",
  "number": 2858,
  "state": "closed",
  "title": "Fix invalid or incorrect UTF-8 characters",
  "updated_at": "2017-03-27T05:54:10Z"
}