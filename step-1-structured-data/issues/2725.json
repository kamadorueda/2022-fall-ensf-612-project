{
  "_url": "https://github.com/PowerShell/PowerShell/issues/2725",
  "author": "powercode",
  "body": "Trailing whitespace removed from cs,json,xml,xaml,ps1,psm1,ps1xml, psd1 files.\r\n\r\nThe followning command was used:\r\n```\r\nusing namespace System.Text.RegularExpressions\r\n\r\nfunction Remove-TrailingWhitespace {\r\n    param(\r\n        [Parameter(Mandatory, ValueFromPipelineByPropertyName, ValueFromPipeline)]\r\n        [Alias('PSPath')]\r\n        [string] $LiteralPath\r\n    )\r\n    begin {\r\n        $trailingWhiteSpace  = [Regex]::new('(?m)[ \\t]+\\r?$', [RegexOptions]::Compiled)\r\n    }\r\n\r\n    process {\r\n        try {\r\n            $LiteralPath = (Resolve-Path $LiteralPath).ProviderPath\r\n            if (Test-path -PathType Leaf $LiteralPath) {\r\n                $content = Get-Content -Raw -LiteralPath $LiteralPath\r\n                if ($null -ne $content) {\r\n                    $trimmedContent = $trailingWhiteSpace.Replace($content, \"`r\")\r\n                    if ($trimmedContent -ne $content) {\r\n                        # Set-Content fails for some reason with 'Set-Content : Stream was not readable.'\r\n                        [io.file]::WriteAllText($LiteralPath, $trimmedContent, [Text.Encoding]::ASCII)\r\n                        Get-Item $LiteralPath\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        catch {\r\n            Write-Error -Message $_.Exception.Message -TargetObject $LiteralPath\r\n        }\r\n    }\r\n}\r\n```",
  "closed_at": "2017-01-13T02:46:50Z",
  "comments": [
    {
      "author": "msftclas",
      "author_association": "NONE",
      "body": "Hi **@powercode**, I'm your friendly neighborhood Microsoft Pull Request Bot (You can call me MSBOT). Thanks for your contribution!\n    <span>You've already signed the contribution license agreement. Thanks!</span>\n        <p>The agreement was validated by Microsoft and real humans are currently evaluating your PR.</p>\n\nTTYL, MSBOT;\n",
      "created_at": "2016-11-19T00:48:09Z",
      "updated_at": "2016-11-19T00:48:09Z"
    },
    {
      "author": "vors",
      "author_association": "COLLABORATOR",
      "body": "Can you, please, resolve the conflicts?\n",
      "created_at": "2016-11-20T21:00:30Z",
      "updated_at": "2016-11-20T21:00:30Z"
    },
    {
      "author": "vors",
      "author_association": "COLLABORATOR",
      "body": "@powercode sorry there are conflicts again :(\r\nI know it's pretty annoying.",
      "created_at": "2016-11-23T19:51:20Z",
      "updated_at": "2016-11-23T19:51:20Z"
    },
    {
      "author": "powercode",
      "author_association": "COLLABORATOR",
      "body": "Just pushed a resolved version",
      "created_at": "2016-11-23T23:59:17Z",
      "updated_at": "2016-11-23T23:59:17Z"
    },
    {
      "author": "powercode",
      "author_association": "COLLABORATOR",
      "body": "```\r\nUnhandled Exception: System.IO.IOException: Broken pipe\r\n   at System.IO.UnixFileStream.CheckFileCall(Int64 result, Boolean ignoreNotSupported)\r\n   at System.IO.UnixFileStream.WriteNative(Byte[] array, Int32 offset, Int32 count)\r\n   at System.IO.UnixFileStream.FlushWriteBuffer()\r\n   at System.IO.UnixFileStream.Dispose(Boolean disposing)\r\n   at System.IO.UnixFileStream.Finalize()\r\nTest result file 'pester-tests.xml' not found for test/powershell.\r\nAt /home/travis/build/PowerShell/PowerShell/build.psm1:814 char:9\r\n+         throw \"Test result file '$testResultsFile' not found for $Tes ...\r\n+         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    + CategoryInfo          : OperationStopped: (Test result fil...est/powersh \r\n   ell.:String) [], RuntimeException\r\n    + FullyQualifiedErrorId : Test result file 'pester-tests.xml' not found fo \r\n   r test/powershell.\r\n```\r\n\r\nDon't think I'm responsible for that.",
      "created_at": "2016-11-24T00:14:00Z",
      "updated_at": "2016-11-24T00:14:00Z"
    },
    {
      "author": "lzybkr",
      "author_association": "MEMBER",
      "body": "There are way too many changes to review and I'm concerned about the potential for problems due to changing the file encoding.\r\n\r\nFor example, if we test data that used a specific encoding, we would lose the coverage due to a PR like this.",
      "created_at": "2017-01-06T00:33:46Z",
      "updated_at": "2017-01-06T00:33:46Z"
    },
    {
      "author": "lzybkr",
      "author_association": "MEMBER",
      "body": "Closing this in favor of #3001.",
      "created_at": "2017-01-13T02:46:50Z",
      "updated_at": "2017-01-13T02:46:50Z"
    }
  ],
  "created_at": "2016-11-19T00:48:06Z",
  "number": 2725,
  "state": "closed",
  "title": "Removing trailing whitespace ",
  "updated_at": "2017-04-20T13:56:19Z"
}