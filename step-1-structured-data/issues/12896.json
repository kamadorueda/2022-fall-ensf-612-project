{
  "_url": "https://github.com/PowerShell/PowerShell/issues/12896",
  "author": "felixfbecker",
  "body": "<!--\r\n\r\nFor Windows PowerShell 5.1 issues, suggestions, or feature requests please use the following link instead:\r\nWindows PowerShell [UserVoice](https://windowsserver.uservoice.com/forums/301869-powershell)\r\n\r\nThis repository is **ONLY** for PowerShell Core 6 and PowerShell 7+ issues.\r\n\r\n- Make sure you are able to repro it on the [latest released version](https://github.com/PowerShell/PowerShell/releases)\r\n- Search the existing issues.\r\n- Refer to the [FAQ](https://github.com/PowerShell/PowerShell/blob/master/docs/FAQ.md).\r\n- Refer to the [known issues](https://docs.microsoft.com/powershell/scripting/whats-new/known-issues-ps6).\r\n\r\n-->\r\n\r\n## Steps to reproduce\r\n\r\n```powershell\r\nGet-Module -ListAvailable\r\n```\r\n\r\n## Expected behavior\r\n\r\nNo errors\r\n\r\n## Actual behavior\r\n\r\nOutput:\r\n\r\n```none\r\n> Get-Module -ListAvailable\r\n\r\n\r\n    Directory: /Users/felix/.local/share/powershell/Modules\r\n\r\nModuleType Version    PreRelease Name                                PSEdition ExportedCommands\r\n---------- -------    ---------- ----                                --------- ----------------\r\nScript     1.0.5      #ERR       Base64                              Desk      {ConvertTo-Base64String, ConvertFrom-Base64String}\r\nFailed to evaluate expression \"\r\n                            if ($_.PrivateData -and $_.PrivateData.PSData)\r\n                            {\r\n                                    $_.PrivateData.PSData.PreRelease\r\n                            }\".\r\n\r\n\r\nScript     1.3.1      #ERR       Configuration                       Desk      {Import-Configuration, Export-Configuration, Get-StoragePath, Add-MetadataConverter\u2026}\r\nFailed to evaluate expression \"\r\n                            if ($_.PrivateData -and $_.PrivateData.PSData)\r\n                            {\r\n                                    $_.PrivateData.PSData.PreRelease\r\n                            }\".\r\n\r\n\r\nScript     0.1.0      #ERR       GcloudTabComplete                   Core,Desk Add-GcloudToProfile\r\nFailed to evaluate expression \"\r\n                            if ($_.PrivateData -and $_.PrivateData.PSData)\r\n                            {\r\n                                    $_.PrivateData.PSData.PreRelease\r\n                            }\".\r\n\r\n\r\nScript     7.0.1      #ERR       ImportExcel                         Desk      {Add-ConditionalFormatting, Add-ExcelChart, Add-ExcelDataValidationRule, Add-ExcelName\u2026}\r\nFailed to evaluate expression \"\r\n                            if ($_.PrivateData -and $_.PrivateData.PSData)\r\n                            {\r\n                                    $_.PrivateData.PSData.PreRelease\r\n                            }\".\r\n\r\n\r\nBinary     0.4.1      #ERR       Microsoft.PowerShell.ConsoleGuiToo\u2026 Core      {Out-ConsoleGridView, ocgv}\r\nFailed to evaluate expression \"\r\n                            if ($_.PrivateData -and $_.PrivateData.PSData)\r\n                            {\r\n                                    $_.PrivateData.PSData.PreRelease\r\n                            }\".\r\n\r\n\r\nScript     0.2.0      #ERR       Microsoft.PowerShell.GraphicalTools Core      {Out-GridView, ogv}\r\nFailed to evaluate expression \"\r\n                            if ($_.PrivateData -and $_.PrivateData.PSData)\r\n                            {\r\n                                    $_.PrivateData.PSData.PreRelease\r\n                            }\".\r\n\r\n\r\nScript     2.4.0      #ERR       nvm                                 Desk      {Set-NodeVersion, Install-NodeVersion, Remove-NodeVersion, Get-NodeVersions\u2026}\r\nFailed to evaluate expression \"\r\n                            if ($_.PrivateData -and $_.PrivateData.PSData)\r\n                            {\r\n                                    $_.PrivateData.PSData.PreRelease\r\n                            }\".\r\n\r\n\r\nScript     4.9.0                 Pester                              Desk      {Describe, Context, It, Should\u2026}\r\nScript     1.2.3      #ERR       posh-dotnet                         Desk\r\nFailed to evaluate expression \"\r\n                            if ($_.PrivateData -and $_.PrivateData.PSData)\r\n                            {\r\n                                    $_.PrivateData.PSData.PreRelease\r\n                            }\".\r\n\r\n\r\nScript     0.4.1                 powershell-yaml                     Desk      {ConvertTo-Yaml, ConvertFrom-Yaml, cfy, cty}\r\nScript     1.3.0      #ERR       PSBuildkite                         Desk      {Get-BuildkiteBuild, Get-BuildkiteCruiseControlFeedUrl, Get-BuildkiteJobLog, Get-BuildkiteOrganization\u2026}\r\nFailed to evaluate expression \"\r\n                            if ($_.PrivateData -and $_.PrivateData.PSData)\r\n                            {\r\n                                    $_.PrivateData.PSData.PreRelease\r\n                            }\".\r\n\r\n\r\nScript     0.0.2      #ERR       PSDefaults                          Desk      {Get-DefaultsDomain, Get-DefaultsValue, Set-DefaultsValue, Remove-DefaultsDomain\u2026}\r\nFailed to evaluate expression \"\r\n                            if ($_.PrivateData -and $_.PrivateData.PSData)\r\n                            {\r\n                                    $_.PrivateData.PSData.PreRelease\r\n                            }\".\r\n\r\n\r\nScript     1.6.8      #ERR       PSFolderSize                        Desk      {Get-FileReport, Get-FolderSize}\r\nFailed to evaluate expression \"\r\n                            if ($_.PrivateData -and $_.PrivateData.PSData)\r\n                            {\r\n                                    $_.PrivateData.PSData.PreRelease\r\n                            }\".\r\n\r\n\r\nScript     0.15.178   #ERR       PSGitHub                            Desk      {Get-GitHubRateLimit, Set-GitHubToken, Get-GitHubUser, Update-GitHubUser\u2026}\r\nFailed to evaluate expression \"\r\n                            if ($_.PrivateData -and $_.PrivateData.PSData)\r\n                            {\r\n                                    $_.PrivateData.PSData.PreRelease\r\n                            }\".\r\n\r\n\r\nScript     2.36.2     #ERR       PSGSuite                            Desk      {Add-GSCalendarEventReminder, Add-GSCalendarNotification, Add-GSCalendarSubscription, Add-GSChatButton\u2026}\r\nFailed to evaluate expression \"\r\n                            if ($_.PrivateData -and $_.PrivateData.PSData)\r\n                            {\r\n                                    $_.PrivateData.PSData.PreRelease\r\n                            }\".\r\n\r\n\r\nBinary     0.12.0     #ERR       PSKubectl                           Core      {Compare-KubeResource, ConvertFrom-KubeYaml, ConvertTo-KubeYaml, Get-KubeConfig\u2026}\r\nFailed to evaluate expression \"\r\n                            if ($_.PrivateData -and $_.PrivateData.PSData)\r\n                            {\r\n                                    $_.PrivateData.PSData.PreRelease\r\n                            }\".\r\n\r\n\r\nScript     0.0.8      #ERR       PSmacOS                             Core      {Get-Clipboard, Set-Clipboard, Out-GridView, Show-MessageBox}\r\nFailed to evaluate expression \"\r\n                            if ($_.PrivateData -and $_.PrivateData.PSData)\r\n                            {\r\n                                    $_.PrivateData.PSData.PreRelease\r\n                            }\".\r\n\r\n\r\nScript     0.1.1      #ERR       psmath                              Desk\r\nFailed to evaluate expression \"\r\n                            if ($_.PrivateData -and $_.PrivateData.PSData)\r\n                            {\r\n                                    $_.PrivateData.PSData.PreRelease\r\n                            }\".\r\n\r\n\r\nScript     1.0.0      #ERR       PSOpen                              Desk      Open-Item\r\nFailed to evaluate expression \"\r\n                            if ($_.PrivateData -and $_.PrivateData.PSData)\r\n                            {\r\n                                    $_.PrivateData.PSData.PreRelease\r\n                            }\".\r\n\r\n\r\nScript     2.1.0      beta1      PSReadLine                          Desk      {Get-PSReadLineKeyHandler, Set-PSReadLineKeyHandler, Remove-PSReadLineKeyHandler, Get-PSReadLineOption\u2026}\r\nScript     1.18.3     #ERR       PSScriptAnalyzer                    Desk      {Get-ScriptAnalyzerRule, Invoke-ScriptAnalyzer, Invoke-Formatter}\r\nFailed to evaluate expression \"\r\n                            if ($_.PrivateData -and $_.PrivateData.PSData)\r\n                            {\r\n                                    $_.PrivateData.PSData.PreRelease\r\n                            }\".\r\n\r\n\r\nScript     1.0.1      #ERR       PSSourcegraph                       Core      {Get-Repository, Get-Hover, Get-Definition, Get-Reference\u2026}\r\nFailed to evaluate expression \"\r\n                            if ($_.PrivateData -and $_.PrivateData.PSData)\r\n                            {\r\n                                    $_.PrivateData.PSData.PreRelease\r\n                            }\".\r\n\r\n\r\nScript     0.0.1      #ERR       PSTrackingIssue                     Desk      Get-WorkStatusUpdate\r\nFailed to evaluate expression \"\r\n                            if ($_.PrivateData -and $_.PrivateData.PSData)\r\n                            {\r\n                                    $_.PrivateData.PSData.PreRelease\r\n                            }\".\r\n\r\n\r\nScript     1.2.2      #ERR       PSTravis                            Desk      {Add-TravisEnvironmentVariable, Enable-TravisRepository, Get-TravisCruiseControlFeedUrl, Get-TravisEnvironmen\u2026\r\nFailed to evaluate expression \"\r\n                            if ($_.PrivateData -and $_.PrivateData.PSData)\r\n                            {\r\n                                    $_.PrivateData.PSData.PreRelease\r\n                            }\".\r\n\r\n\r\nScript     0.0.1      #ERR       yarn-completion                     Desk\r\nFailed to evaluate expression \"\r\n                            if ($_.PrivateData -and $_.PrivateData.PSData)\r\n                            {\r\n                                    $_.PrivateData.PSData.PreRelease\r\n                            }\".\r\n\r\n\r\n\r\n    Directory: /usr/local/microsoft/powershell/7/Modules\r\n\r\nModuleType Version    PreRelease Name                                PSEdition ExportedCommands\r\n---------- -------    ---------- ----                                --------- ----------------\r\nManifest   1.2.5                 Microsoft.PowerShell.Archive        Desk      {Compress-Archive, Expand-Archive}\r\nManifest   7.0.0.0               Microsoft.PowerShell.Host           Core      {Start-Transcript, Stop-Transcript}\r\nManifest   7.0.0.0               Microsoft.PowerShell.Management     Core      {Add-Content, Clear-Content, Clear-ItemProperty, Join-Path\u2026}\r\nManifest   7.0.0.0               Microsoft.PowerShell.Security       Core      {Get-Credential, Get-ExecutionPolicy, Set-ExecutionPolicy, ConvertFrom-SecureString\u2026}\r\nManifest   7.0.0.0    #ERR       Microsoft.PowerShell.Utility        Core      {Export-Alias, Get-Alias, Import-Alias, New-Alias\u2026}\r\nFailed to evaluate expression \"\r\n                            if ($_.PrivateData -and $_.PrivateData.PSData)\r\n                            {\r\n                                    $_.PrivateData.PSData.PreRelease\r\n                            }\".\r\n\r\n\r\nScript     1.4.6      #ERR       PackageManagement                   Desk      {Find-Package, Get-Package, Get-PackageProvider, Get-PackageSource\u2026}\r\nFailed to evaluate expression \"\r\n                            if ($_.PrivateData -and $_.PrivateData.PSData)\r\n                            {\r\n                                    $_.PrivateData.PSData.PreRelease\r\n                            }\".\r\n\r\n\r\nScript     2.2.4      #ERR       PowerShellGet                       Desk      {Find-Command, Find-DSCResource, Find-Module, Find-RoleCapability\u2026}\r\nFailed to evaluate expression \"\r\n                            if ($_.PrivateData -and $_.PrivateData.PSData)\r\n                            {\r\n                                    $_.PrivateData.PSData.PreRelease\r\n                            }\".\r\n\r\n\r\nScript     2.0.5      #ERR       PSDesiredStateConfiguration         Core      {Configuration, New-DscChecksum, Get-DscResource, Invoke-DscResource}\r\nFailed to evaluate expression \"\r\n                            if ($_.PrivateData -and $_.PrivateData.PSData)\r\n                            {\r\n                                    $_.PrivateData.PSData.PreRelease\r\n                            }\".\r\n\r\n\r\nScript     2.1.0      beta1      PSReadLine                          Desk      {Get-PSReadLineKeyHandler, Set-PSReadLineKeyHandler, Remove-PSReadLineKeyHandler, Get-PSReadLineOption\u2026}\r\nBinary     2.0.3                 ThreadJob                           Desk      Start-ThreadJob\r\n\r\n```\r\n\r\n## Environment data\r\n\r\n<!-- provide the output of $PSVersionTable -->\r\n\r\n```none\r\n> $PSVersionTable\r\n\r\nName                           Value\r\n----                           -----\r\nPSVersion                      7.0.1\r\nPSEdition                      Core\r\nGitCommitId                    7.0.1\r\nOS                             Darwin 19.5.0 Darwin Kernel Version 19.5.0: Tue May 26 20:41:44 PDT 2020; root:xnu-6153.121.2~2/RELEASE_X86_64\r\nPlatform                       Unix\r\nPSCompatibleVersions           {1.0, 2.0, 3.0, 4.0\u2026}\r\nPSRemotingProtocolVersion      2.3\r\nSerializationVersion           1.1.0.1\r\nWSManStackVersion              3.0\r\n```\r\n",
  "closed_at": "2021-01-16T17:21:55Z",
  "comments": [
    {
      "author": "felixfbecker",
      "author_association": "CONTRIBUTOR",
      "body": "@iSazonov I think this should be labeled as `Issue-Bug` instead of `Issue-Question`",
      "created_at": "2020-06-10T10:26:16Z",
      "updated_at": "2020-06-10T10:26:16Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "Could you please test with latest build? I guess this was fixed in #11943.",
      "created_at": "2020-06-10T11:24:40Z",
      "updated_at": "2020-06-10T11:24:40Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "Close as stale issue.",
      "created_at": "2021-01-16T17:21:55Z",
      "updated_at": "2021-01-16T17:21:55Z"
    }
  ],
  "created_at": "2020-06-04T11:11:53Z",
  "labels": [
    "Issue-Question",
    "WG-Cmdlets-Core"
  ],
  "number": 12896,
  "state": "closed",
  "title": "Get-Module -ListAvailable prints errors from Format file",
  "updated_at": "2021-01-16T17:21:55Z"
}