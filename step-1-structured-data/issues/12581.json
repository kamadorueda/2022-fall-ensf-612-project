{
  "_url": "https://github.com/PowerShell/PowerShell/issues/12581",
  "author": "TravisEz13",
  "body": "<!-- Anything that looks like this is a comment and can't be seen after the Pull Request is created. -->\r\n\r\n# PR Summary\r\n\r\nUpdate the release build to sign any unsigned files as 3rd party binaries\r\n\r\n\r\n## PR Context\r\n\r\nFixes #12452\r\n\r\nBefore the change the following files were not changed (these are the only affected files)\r\n```\r\n-a----         5/5/2020   1:07 AM        1152400 Markdig.Signed.dll                                                    \r\n-a----         5/5/2020   1:07 AM         859040 Microsoft.ApplicationInsights.dll                                     \r\n-a----         5/5/2020   1:07 AM       14264208 Microsoft.CodeAnalysis.CSharp.dll                                     \r\n-a----         5/5/2020   1:07 AM        5957008 Microsoft.CodeAnalysis.dll                                            \r\n-a----         5/5/2020   1:07 AM        1007504 Microsoft.CSharp.dll                                                  \r\n-a----         5/5/2020   1:07 AM         298400 Microsoft.Management.Infrastructure.dll                               \r\n-a----         5/5/2020   1:07 AM         255896 Microsoft.Management.Infrastructure.Native.dll                        \r\n-a----         5/5/2020   1:07 AM         984992 Microsoft.PowerShell.GraphicalHost.dll                                \r\n-a----         5/5/2020   1:07 AM         141728 Microsoft.PowerShell.SDK.dll                                          \r\n-a----         5/5/2020   1:07 AM          21392 Microsoft.Win32.Registry.AccessControl.dll                            \r\n-a----         5/5/2020   1:07 AM          97168 Microsoft.Win32.Registry.dll                                          \r\n-a----         5/5/2020   1:07 AM          80800 Microsoft.Win32.SystemEvents.dll                                      \r\n-a----         5/5/2020   1:07 AM         143760 Namotion.Reflection.dll                                               \r\n-a----         5/5/2020   1:07 AM        1848224 Newtonsoft.Json.dll                                                   \r\n-a----         5/5/2020   1:07 AM         615840 NJsonSchema.dll                                                       \r\n-a----         5/5/2020   1:07 AM         477600 System.CodeDom.dll                                                    \r\n-a----         5/5/2020   1:07 AM         186256 System.Collections.Concurrent.dll                                     \r\n-a----         5/5/2020   1:07 AM         327056 System.Collections.dll                                                \r\n-a----         5/5/2020   1:07 AM          91552 System.Collections.Specialized.dll                                    \r\n-a----         5/5/2020   1:07 AM         722776 System.ComponentModel.Composition.dll                                 \r\n-a----         5/5/2020   1:07 AM          95136 System.ComponentModel.Composition.Registration.dll                    \r\n-a----         5/5/2020   1:07 AM         977312 System.Configuration.ConfigurationManager.dll                         \r\n-a----         5/5/2020   1:07 AM         150432 System.Console.dll                                                    \r\n-a----         5/5/2020   1:07 AM         608144 System.Data.Odbc.dll                                                  \r\n-a----         5/5/2020   1:07 AM         850312 System.Data.OleDb.dll                                                 \r\n-a----         5/5/2020   1:07 AM        2537872 System.Data.SqlClient.dll                                             \r\n-a----         5/5/2020   1:07 AM         301456 System.Diagnostics.EventLog.dll                                       \r\n-a----         5/5/2020   1:07 AM          30112 System.Diagnostics.FileVersionInfo.dll                                \r\n-a----         5/5/2020   1:07 AM         267152 System.Diagnostics.PerformanceCounter.dll                             \r\n-a----         5/5/2020   1:07 AM         267152 System.Diagnostics.Process.dll                                        \r\n-a----         5/5/2020   1:07 AM         723352 System.DirectoryServices.AccountManagement.dll                        \r\n-a----         5/5/2020   1:07 AM        1027472 System.DirectoryServices.dll                                          \r\n-a----         5/5/2020   1:07 AM         274848 System.DirectoryServices.Protocols.dll                                \r\n-a----         5/5/2020   1:07 AM         966552 System.Drawing.Common.dll                                             \r\n-a----         5/5/2020   1:07 AM         127376 System.IO.FileSystem.AccessControl.dll                                \r\n-a----         5/5/2020   1:07 AM         218000 System.IO.FileSystem.dll                                              \r\n-a----         5/5/2020   1:07 AM         271264 System.IO.Packaging.dll                                               \r\n-a----         5/5/2020   1:07 AM         134552 System.IO.Pipes.dll                                                   \r\n-a----         5/5/2020   1:07 AM         146840 System.IO.Ports.dll                                                   \r\n-a----         5/5/2020   1:07 AM         422288 System.Linq.dll                                                       \r\n-a----         5/5/2020   1:07 AM        5247384 System.Linq.Expressions.dll                                           \r\n-a----         5/5/2020   1:07 AM         844184 System.Management.dll                                                 \r\n-a----         5/5/2020   1:07 AM         265632 System.Net.Http.WinHttpHandler.dll                                    \r\n-a----         5/5/2020   1:07 AM        5483928 System.Private.ServiceModel.dll                                       \r\n-a----         5/5/2020   1:07 AM         236440 System.Private.Uri.dll                                                \r\n-a----         5/5/2020   1:07 AM         194448 System.Reflection.Context.dll                                         \r\n-a----         5/5/2020   1:07 AM         197016 System.Runtime.Caching.dll                                            \r\n-a----         5/5/2020   1:07 AM          19352 System.Runtime.CompilerServices.Unsafe.dll                            \r\n-a----         5/5/2020   1:07 AM          17296 System.Runtime.Extensions.dll                                         \r\n-a----         5/5/2020   1:07 AM         229280 System.Security.AccessControl.dll                                     \r\n```\r\n\r\nSigning after the change.\r\n\r\n**NOTE 1**: if the origin starts signing the file, this code will automatically stop signing the binary.\r\n**NOTE 2**: some of these files are crossgen'ed for performance and the signature is lost.  See the list of crossgen'ed binaries below.\r\n\r\n```\r\nsubject                                                                                              path\r\n-------                                                                                              ----\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Console.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US Newtonsoft.Json.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US NJsonSchema.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Security.Cryptography.Pkcs.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Management.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Security.Cryptography.ProtectedData.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Security.Cryptography.Xml.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Security.Permissions.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Security.Principal.Windows.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Linq.Expressions.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Linq.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.IO.Ports.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Private.ServiceModel.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.IO.Packaging.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.ServiceModel.Syndication.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.ServiceProcess.ServiceController.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Text.Encoding.CodePages.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Text.Encodings.Web.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Security.Cryptography.Cng.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.IO.FileSystem.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Net.Http.WinHttpHandler.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US Namotion.Reflection.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Reflection.Context.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US Microsoft.Management.Infrastructure.Native.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US Microsoft.Management.Infrastructure.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US Microsoft.CSharp.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US Microsoft.CodeAnalysis.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US Microsoft.CodeAnalysis.CSharp.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US Microsoft.ApplicationInsights.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US Markdig.Signed.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US Microsoft.PowerShell.GraphicalHost.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Configuration.ConfigurationManager.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US Microsoft.PowerShell.SDK.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Runtime.Caching.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Runtime.CompilerServices.Unsafe.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Runtime.Extensions.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US Microsoft.Win32.Registry.AccessControl.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US Microsoft.Win32.Registry.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US Microsoft.Win32.SystemEvents.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Security.AccessControl.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Threading.AccessControl.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.IO.Pipes.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Threading.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Collections.Concurrent.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Windows.Extensions.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.DirectoryServices.Protocols.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.DirectoryServices.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.DirectoryServices.AccountManagement.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Collections.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.IO.FileSystem.AccessControl.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Collections.Specialized.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Diagnostics.Process.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Diagnostics.PerformanceCounter.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Diagnostics.FileVersionInfo.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Diagnostics.EventLog.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.ComponentModel.Composition.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.ComponentModel.Composition.Registration.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Data.SqlClient.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Data.OleDb.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Data.Odbc.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Drawing.Common.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.CodeDom.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Private.Uri.dll\r\nCN=Microsoft 3rd Party Application Component, O=Microsoft Corporation, L=Redmond, S=Washington, C=US System.Threading.Tasks.Parallel.dll\r\n```\r\n\r\nHere is the full file signature manifest\r\n\r\n[signatures.txt](https://github.com/PowerShell/PowerShell/files/4582898/signatures.txt)\r\n\r\n\r\n### CrossGen'ed binaries\r\n\r\n```\r\n        \"Microsoft.CodeAnalysis.CSharp.dll\"\r\n        \"Microsoft.CodeAnalysis.dll\"\r\n        \"System.Linq.Expressions.dll\"\r\n        \"Microsoft.CSharp.dll\"\r\n        \"System.Runtime.Extensions.dll\"\r\n        \"System.Linq.dll\"\r\n        \"System.Collections.Concurrent.dll\"\r\n        \"System.Collections.dll\"\r\n        \"Newtonsoft.Json.dll\"\r\n        \"System.IO.FileSystem.dll\"\r\n        \"System.Diagnostics.Process.dll\"\r\n        \"System.Threading.Tasks.Parallel.dll\"\r\n        \"System.Security.AccessControl.dll\"\r\n        \"System.Text.Encoding.CodePages.dll\"\r\n        \"System.Private.Uri.dll\"\r\n        \"System.Threading.dll\"\r\n        \"System.Security.Principal.Windows.dll\"\r\n        \"System.Console.dll\"\r\n        \"Microsoft.Win32.Registry.dll\"\r\n        \"System.IO.Pipes.dll\"\r\n        \"System.Diagnostics.FileVersionInfo.dll\"\r\n        \"System.Collections.Specialized.dll\"\r\n        \"Microsoft.ApplicationInsights.dll\"\r\n```\r\n\r\n<!-- Provide a little reasoning as to why this Pull Request helps and why you have opened it. -->\r\n\r\n## PR Checklist\r\n\r\n- [ ] [PR has a meaningful title](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n    - Use the present tense and imperative mood when describing your changes\r\n- [ ] [Summarized changes](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [ ] [Make sure all `.h`, `.cpp`, `.cs`, `.ps1` and `.psm1` files have the correct copyright header](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [ ] This PR is ready to merge and is not [Work in Progress](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---work-in-progress).\r\n    - If the PR is work in progress, please add the prefix `WIP:` or `[ WIP ]` to the beginning of the title (the `WIP` bot will keep its status check at `Pending` while the prefix is present) and remove the prefix when the PR is ready.\r\n- **[Breaking changes](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#making-breaking-changes)**\r\n    - [ ] None\r\n    - **OR**\r\n    - [ ] [Experimental feature(s) needed](https://github.com/MicrosoftDocs/PowerShell-Docs/blob/staging/reference/6/Microsoft.PowerShell.Core/About/about_Experimental_Features.md)\r\n        - [ ] Experimental feature name(s): <!-- Experimental feature name(s) here -->\r\n- **User-facing changes**\r\n    - [ ] Not Applicable\r\n    - **OR**\r\n    - [ ] [Documentation needed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n        - [ ] Issue filed: <!-- Number/link of that issue here -->\r\n- **Testing - New and feature**\r\n    - [ ] N/A or can only be tested interactively\r\n    - **OR**\r\n    - [ ] [Make sure you've added a new test if existing tests do not effectively test the code changed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#before-submitting)\r\n- **Tooling**\r\n    - [ ] I have considered the user experience from a tooling perspective and don't believe tooling will be impacted.\r\n    - **OR**\r\n    - [ ] I have considered the user experience from a tooling perspective and enumerated concerns in the summary. This may include:\r\n        - Impact on [PowerShell Editor Services](https://github.com/PowerShell/PowerShellEditorServices) which is used in the [PowerShell extension](https://github.com/PowerShell/vscode-powershell) for VSCode (which runs in a different PS Host).\r\n        - Impact on Completions (both in the console and in editors) - one of PowerShell's most powerful features.\r\n        - Impact on [PSScriptAnalyzer](https://github.com/PowerShell/PSScriptAnalyzer) (which provides linting & formatting in the editor extensions).\r\n        - Impact on [EditorSyntax](https://github.com/PowerShell/EditorSyntax) (which provides syntax highlighting with in VSCode, GitHub, and many other editors).\r\n",
  "closed_at": "2020-05-05T19:35:04Z",
  "comments": [
    {
      "author": "TravisEz13",
      "author_association": "MEMBER",
      "body": "merging early to avoid conflicts with other works",
      "created_at": "2020-05-05T19:34:30Z",
      "updated_at": "2020-05-05T19:34:30Z"
    },
    {
      "author": "msftbot[bot]",
      "author_association": "NONE",
      "body": ":tada:`v7.1.0-preview.3` has been released which incorporates this pull request.:tada:\n\nHandy links:\n* [Release Notes](https://github.com/PowerShell/PowerShell/releases/tag/v7.1.0-preview.3)\n",
      "created_at": "2020-05-19T18:08:48Z",
      "updated_at": "2020-05-19T18:08:48Z"
    },
    {
      "author": "msftbot[bot]",
      "author_association": "NONE",
      "body": ":tada:`v6.2.6` has been released which incorporates this pull request.:tada:\n\nHandy links:\n* [Release Notes](https://github.com/PowerShell/PowerShell/releases/tag/v6.2.6)\n",
      "created_at": "2020-06-11T21:01:35Z",
      "updated_at": "2020-06-11T21:01:35Z"
    },
    {
      "author": "msftbot[bot]",
      "author_association": "NONE",
      "body": ":tada:`v7.0.2` has been released which incorporates this pull request.:tada:\n\nHandy links:\n* [Release Notes](https://github.com/PowerShell/PowerShell/releases/tag/v7.0.2)\n",
      "created_at": "2020-06-11T21:02:16Z",
      "updated_at": "2020-06-11T21:02:16Z"
    }
  ],
  "created_at": "2020-05-05T18:26:02Z",
  "number": 12581,
  "state": "closed",
  "title": "Update the build to sign any unsigned files as 3rd party Dlls",
  "updated_at": "2020-06-11T21:02:16Z"
}