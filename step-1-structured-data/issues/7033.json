{
  "_url": "https://github.com/PowerShell/PowerShell/issues/7033",
  "author": "sethvs",
  "body": "## PR Summary\r\n\r\nFix #7032, #7048 \r\n\r\n**Get-ChildItem c: throws an error. #7032**\r\n\r\n```powershell\r\nGet-ChildItem c:\r\n\r\nGet-ChildItem : Cannot find path 'C:\\C:\\' because it does not exist.\r\nAt line:1 char:1\r\n+ Get-ChildItem c:\r\n+ ~~~~~~~~~~~~~~~~\r\n+ CategoryInfo          : ObjectNotFound: (C:\\C:\\:String) [Get-ChildItem], ItemNotFoundException\r\n+ FullyQualifiedErrorId : PathNotFound,Microsoft.PowerShell.Commands.GetChildItemCommand\r\n```\r\n\r\n**When creating file using -Path c: without a backslash, file created in the drive root and not in the current folder. #7048**\r\n\r\nWindows PowerShell 5.1: file is created in **current** path - C:\\Folder\r\n\r\n```\r\n[5.1] PS C:\\Folder> New-Item -Path c: -Name testfile.txt\r\n\r\n\r\n    Directory: C:\\Folder\r\n\r\n\r\nMode                LastWriteTime         Length Name\r\n----                -------------         ------ ----\r\n-a----        6/14/2018  12:30 PM              0 testfile.txt\r\n```\r\n\r\nPowerShell Core 6.0.2: file is created in **current** path - C:\\Folder\r\n\r\n```\r\n[6.0.2] PS C:\\Folder> New-Item -Path c: -Name testfile.txt\r\n\r\n\r\n    Directory: C:\\Folder\r\n\r\n\r\nMode                LastWriteTime         Length Name\r\n----                -------------         ------ ----\r\n-a----        6/14/2018  12:32 PM              0 testfile.txt\r\n```\r\n\r\nPowerShell Core 6.1.0-preview.2: file is created in **current** path - C:\\Folder\r\n\r\n```\r\n[6.1.0-preview.2] PS C:\\Folder> New-Item -Path c: -Name testfile.txt\r\n\r\n\r\n    Directory: C:\\Folder\r\n\r\n\r\nMode                LastWriteTime         Length Name\r\n----                -------------         ------ ----\r\n-a----        6/14/2018  12:28 PM              0 testfile.txt\r\n```\r\n\r\nPowerShell Core 6.1.0-preview.3: **file is created in root path - C:\\\\**\r\n\r\n```\r\n[6.1.0-preview.3] PS C:\\Folder> New-Item -Path c: -Name testfile.txt\r\n\r\n\r\n    Directory: C:\\\r\n\r\n\r\nMode                LastWriteTime         Length Name\r\n----                -------------         ------ ----\r\n-a----        6/14/2018  12:29 PM              0 testfile.txt\r\n```\r\n\r\n<!-- summarize your PR between here and the checklist -->\r\n\r\n## PR Checklist\r\n\r\n- [x] [PR has a meaningful title](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n    - Use the present tense and imperative mood when describing your changes\r\n- [x] [Summarized changes](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [x] [Change is not breaking](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#making-breaking-changes)\r\n- [x] [Make sure all `.h`, `.cpp`, `.cs`, `.ps1` and `.psm1` files have the correct copyright header](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [x] This PR is ready to merge and is not [Work in Progress](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---work-in-progress).\r\n    - If the PR is work in progress, please add the prefix `WIP:` to the beginning of the title and remove the prefix when the PR is ready.\r\n- **User-facing changes**\r\n    - [x] Not Applicable\r\n    - **OR**\r\n    - [ ] User-facing [Documentation needed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n        - [ ] Issue filed - Issue link:\r\n- **Testing - New and feature**\r\n    - [ ] Not Applicable or can only be tested interactively\r\n    - **OR**\r\n    - [x] [Make sure you've added a new test if existing tests do not effectively test the code changed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#before-submitting)\r\n        - [ ] [Add `[feature]` if the change is significant or affects feature tests](https://github.com/PowerShell/PowerShell/blob/master/docs/testing-guidelines/testing-guidelines.md#requesting-additional-tests-for-a-pr)\r\n",
  "closed_at": "2018-06-25T17:15:58Z",
  "comments": [
    {
      "author": "bergmeister",
      "author_association": "CONTRIBUTOR",
      "body": "@sethvs Please push an empty commit to trigger another build since there seemed to be a sporadic problem that caused the build to hang and timeout. You could do this for example as follows, I recommend putting `[feature]` in the message so that more advanced tests run as well to test your change, which would be useful for this PR.\r\n```\r\ngit commit -m [feature] --allow-empty\r\ngit push\r\n```\r\n\r\n@iSazonov This happened to me last week as well that a build got into a hanging state. Have you see that before as well or is this probably caused by a recently added test?",
      "created_at": "2018-06-10T09:10:12Z",
      "updated_at": "2018-06-10T09:11:42Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@bergmeister Do you mean a problem only with CIs (not local)? \r\nCan you open new Issue and provide links on broken CI jobs?",
      "created_at": "2018-06-10T18:42:06Z",
      "updated_at": "2018-06-10T18:42:06Z"
    },
    {
      "author": "bergmeister",
      "author_association": "CONTRIBUTOR",
      "body": "@iSazonov I mean the `AppVeyor` run of this PR [here](https://ci.appveyor.com/project/PowerShell/powershell/build/v6.1.0-preview.9662). It must have got stuck or in a hanging state because it timed out after 3 hours.\r\nThe same build happened to [this ](https://ci.appveyor.com/project/PowerShell/powershell/build/v6.1.0-preview.9622) PR build of PR 7013. It seems that it happens only randomly.\r\nI put those details into the new issue #7038\r\nTo be able to still analyse this build failure later on, we should not restart this build ourselves but rather push a new commit for a new build.",
      "created_at": "2018-06-10T22:30:20Z",
      "updated_at": "2018-06-10T22:32:08Z"
    },
    {
      "author": "anmenaga",
      "author_association": "CONTRIBUTOR",
      "body": "@sethvs After fixing current test failures in New-Item.Tests.ps1, please do a [feature] commit as @bergmeister suggested. Those namespaces APIs is a very fragile piece of code; so we need to run as many tests as we can to ensure that nothing gets broken by these changes.",
      "created_at": "2018-06-12T19:19:51Z",
      "updated_at": "2018-06-12T19:19:51Z"
    },
    {
      "author": "sethvs",
      "author_association": "CONTRIBUTOR",
      "body": "@anmenaga OK.",
      "created_at": "2018-06-13T08:15:17Z",
      "updated_at": "2018-06-13T08:15:17Z"
    },
    {
      "author": "sethvs",
      "author_association": "CONTRIBUTOR",
      "body": "Update-Help and PowerShellGet tests fail.\r\nCan we restart Travis CI?",
      "created_at": "2018-06-13T09:29:17Z",
      "updated_at": "2018-06-13T09:29:17Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@sethvs Please look #6149 - perhaps we could fix it too.",
      "created_at": "2018-06-13T10:59:29Z",
      "updated_at": "2018-06-13T10:59:29Z"
    },
    {
      "author": "sethvs",
      "author_association": "CONTRIBUTOR",
      "body": "@iSazonov OK, will take a look.",
      "created_at": "2018-06-13T11:03:32Z",
      "updated_at": "2018-06-13T11:03:32Z"
    },
    {
      "author": "sethvs",
      "author_association": "CONTRIBUTOR",
      "body": "@adityapatwardhan @iSazonov I'm afraid I can't allocate much time at the moment. So let's split fixing #6149 to another PR in order not to delay this one. I'm going to address it later.",
      "created_at": "2018-06-14T10:05:38Z",
      "updated_at": "2018-06-14T10:06:00Z"
    },
    {
      "author": "sethvs",
      "author_association": "CONTRIBUTOR",
      "body": "Empty commit to restart tests.",
      "created_at": "2018-06-14T12:42:10Z",
      "updated_at": "2018-06-14T12:42:10Z"
    },
    {
      "author": "adityapatwardhan",
      "author_association": "MEMBER",
      "body": "@sethvs it seems that #7048 is fixed in preview.3",
      "created_at": "2018-06-14T17:47:09Z",
      "updated_at": "2018-06-14T17:47:09Z"
    },
    {
      "author": "adityapatwardhan",
      "author_association": "MEMBER",
      "body": "@rjmholt Can you have a look too?",
      "created_at": "2018-06-14T17:47:43Z",
      "updated_at": "2018-06-14T17:47:43Z"
    },
    {
      "author": "sethvs",
      "author_association": "CONTRIBUTOR",
      "body": "@adityapatwardhan No, it is not fixed.\r\nThe description of this PR contains examples of the issue in 6.1.0-preview.3.",
      "created_at": "2018-06-15T07:45:41Z",
      "updated_at": "2018-06-15T07:47:42Z"
    }
  ],
  "created_at": "2018-06-09T15:17:56Z",
  "number": 7033,
  "state": "closed",
  "title": "Fix error when using Get-ChildItem c:",
  "updated_at": "2018-07-20T12:56:23Z"
}