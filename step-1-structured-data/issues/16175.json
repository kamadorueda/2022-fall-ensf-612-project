{
  "_url": "https://github.com/PowerShell/PowerShell/issues/16175",
  "author": "maicol07",
  "body": "### Prerequisites\r\n\r\n- [X] Write a descriptive title.\r\n- [X] Make sure you are able to repro it on the [latest released version](https://github.com/PowerShell/PowerShell/releases)\r\n- [X] Search the existing issues.\r\n- [X] Refer to the [FAQ](https://github.com/PowerShell/PowerShell/blob/master/docs/FAQ.md).\r\n- [X] Refer to [Differences between Windows PowerShell 5.1 and PowerShell](https://docs.microsoft.com/powershell/scripting/whats-new/differences-from-windows-powershell).\r\n\r\n### Steps to reproduce\r\n\r\nTry to install something that makes use of these color codes, such as [pnpm](https://pnpm.io)\r\n\r\nP.S.: I don't have this issue on Powershell 5\r\n\r\n### Expected behavior\r\n\r\n```console\r\nInstallation progresses and completes\r\n```\r\n\r\n\r\n### Actual behavior\r\n\r\n```powershell\r\nPS C:\\Windows\\System32> (Invoke-WebRequest 'https://get.pnpm.io/v6.14.js' -UseBasicParsing).Content | node - add --global pnpm\r\n[stdin]:8258\r\n        const colorCode = \" < 8 ? c : \"8;5;\" + c);\r\n                                       ^\r\n\r\nSyntaxError: Unexpected number\r\n    at new Script (node:vm:100:7)\r\n    at createScript (node:vm:257:10)\r\n    at Object.runInThisContext (node:vm:305:10)\r\n    at node:internal/process/execution:81:19\r\n    at [stdin]-wrapper:6:22\r\n    at evalScript (node:internal/process/execution:80:60)\r\n    at node:internal/main/eval_stdin:29:5\r\n    at Socket.<anonymous> (node:internal/process/execution:212:5)\r\n    at Socket.emit (node:events:402:35)\r\n    at endReadableNT (node:internal/streams/readable:1343:12)\r\nPS C:\\Windows\\System32> Get-Error\r\n```\r\n\r\n\r\n### Error details\r\n\r\n```powershell\r\nPS C:\\Windows\\System32> Get-Error\r\n\r\nException             :\r\n    Type        : System.Management.Automation.CommandNotFoundException\r\n    ErrorRecord :\r\n        Exception             :\r\n            Type    : System.Management.Automation.ParentContainsErrorRecordException\r\n            Message : The term '\u25ac' is not recognized as a name of a cmdlet, function, script file, or executable\r\nprogram.\r\n                      Check the spelling of the name, or if a path was included, verify that the path is correct and\r\ntry again.\r\n            HResult : -2146233087\r\n        CategoryInfo          : ObjectNotFound: (\u25ac:String) [], ParentContainsErrorRecordException\r\n        FullyQualifiedErrorId : CommandNotFoundException\r\n        InvocationInfo        :\r\n            ScriptLineNumber : 1\r\n            OffsetInLine     : 1\r\n            HistoryId        : 1\r\n            PositionMessage  : At line:1 char:1\r\n                               + \u25ac\r\n                               + ~\r\n            CommandOrigin    : Internal\r\n        ScriptStackTrace      : at <ScriptBlock>, <No file>: line 1\r\n    TargetSite  :\r\n        Name          : LookupCommandInfo\r\n        DeclaringType : System.Management.Automation.CommandDiscovery, System.Management.Automation, Version=7.2.0.10,\r\nCulture=neutral, PublicKeyToken=31bf3856ad364e35\r\n        MemberType    : Method\r\n        Module        : System.Management.Automation.dll\r\n    Message     : The term '\u25ac' is not recognized as a name of a cmdlet, function, script file, or executable program.\r\n                  Check the spelling of the name, or if a path was included, verify that the path is correct and try\r\nagain.\r\n    Data        : System.Collections.ListDictionaryInternal\r\n    Source      : System.Management.Automation\r\n    HResult     : -2146233087\r\n    StackTrace  :\r\n   at System.Management.Automation.CommandDiscovery.LookupCommandInfo(String commandName, CommandTypes commandTypes,\r\nSearchResolutionOptions searchResolutionOptions, CommandOrigin commandOrigin, ExecutionContext context)\r\n   at System.Management.Automation.CommandDiscovery.LookupCommandProcessor(String commandName, CommandOrigin\r\ncommandOrigin, Nullable`1 useLocalScope)\r\n   at System.Management.Automation.ExecutionContext.CreateCommand(String command, Boolean dotSource)\r\n   at System.Management.Automation.PipelineOps.AddCommand(PipelineProcessor pipe, CommandParameterInternal[]\r\ncommandElements, CommandBaseAst commandBaseAst, CommandRedirection[] redirections, ExecutionContext context)\r\n   at System.Management.Automation.PipelineOps.InvokePipeline(Object input, Boolean ignoreInput,\r\nCommandParameterInternal[][] pipeElements, CommandBaseAst[] pipeElementAsts, CommandRedirection[][]\r\ncommandRedirections, FunctionContext funcContext)\r\n   at System.Management.Automation.Interpreter.ActionCallInstruction`6.Run(InterpretedFrame frame)\r\n   at System.Management.Automation.Interpreter.EnterTryCatchFinallyInstruction.Run(InterpretedFrame frame)\r\nCategoryInfo          : ObjectNotFound: (\u25ac:String) [], CommandNotFoundException\r\nFullyQualifiedErrorId : CommandNotFoundException\r\nInvocationInfo        :\r\n    ScriptLineNumber : 1\r\n    OffsetInLine     : 1\r\n    HistoryId        : 1\r\n    PositionMessage  : At line:1 char:1\r\n                       + \u25ac\r\n                       + ~\r\n    CommandOrigin    : Internal\r\nScriptStackTrace      : at <ScriptBlock>, <No file>: line 1\r\n```\r\n\r\n\r\n### Environment data\r\n\r\n```powershell\r\nPS C:\\Windows\\System32> $PSVersionTable\r\n\r\nName                           Value\r\n----                           -----\r\nPSVersion                      7.2.0-preview.10\r\nPSEdition                      Core\r\nGitCommitId                    7.2.0-preview.10\r\nOS                             Microsoft Windows 10.0.22468\r\nPlatform                       Win32NT\r\nPSCompatibleVersions           {1.0, 2.0, 3.0, 4.0\u2026}\r\nPSRemotingProtocolVersion      2.3\r\nSerializationVersion           1.1.0.1\r\nWSManStackVersion              3.0\r\n```\r\n\r\n\r\n### Visuals\r\n\r\n_No response_",
  "closed_at": null,
  "comments": [],
  "created_at": "2021-09-30T08:38:33Z",
  "number": 16175,
  "state": "open",
  "title": "Missing color code",
  "updated_at": "2021-10-01T02:45:00Z"
}