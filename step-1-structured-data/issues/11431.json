{
  "_url": "https://github.com/PowerShell/PowerShell/issues/11431",
  "author": "LucaFilipozzi",
  "body": "### PR Summary\r\n\r\nFix PowerShell/PowerShell#11344 by not passing `-l <username>` to ssh unless `-UserName <username>` is passed to *PSSession cmdlets.\r\n\r\nFix PowerShell/PowerShell#11432 by not passing `-p <port>` to ssh unless `-Port <port>` is passed to *PSSession cmdlets.\r\n\r\n### PR Context\r\n\r\nWhen invoking *PSSession cmdlets, PowerShell's StartSSHProcess function passes a `-l <username>` command line argument to the underlying operating system's ssh client even when `-UserName <username>` is not passed to the cmdlets.\r\n\r\nSimilarly, StartSSHProcess passes `-p <port>` to ssh even when `-Port <port>` is not passed to the cmdlets.\r\n\r\nNeither is necessary since the ssh client will determine the username from the environment and defaults the port to 22.\r\n\r\nMore importantly, by always passing `-l <username>` and `-p <port>`, StartSSHProcess overrides the `User` and `Port` directives in ssh_config should they have been provided by the system administrator.\r\n\r\nThis pull request should be non-breaking.",
  "closed_at": "2020-01-08T03:15:57Z",
  "comments": [
    {
      "author": "msftclas",
      "author_association": "NONE",
      "body": "[![CLA assistant check](https://cla.opensource.microsoft.com/pull/badge/signed)](https://cla.opensource.microsoft.com/PowerShell/PowerShell?pullRequest=11431) <br/>All CLA requirements met.",
      "created_at": "2019-12-24T17:38:04Z",
      "updated_at": "2020-10-17T00:49:53Z"
    },
    {
      "author": "LucaFilipozzi",
      "author_association": "CONTRIBUTOR",
      "body": "Let me know if you need me to make any additional changes. I believe that I've addressed the requested changes.",
      "created_at": "2019-12-31T14:26:18Z",
      "updated_at": "2019-12-31T14:26:18Z"
    },
    {
      "author": "TravisEz13",
      "author_association": "MEMBER",
      "body": "@PaulHigin  Can you review?",
      "created_at": "2020-01-07T20:36:53Z",
      "updated_at": "2020-01-07T20:36:53Z"
    },
    {
      "author": "LucaFilipozzi",
      "author_association": "CONTRIBUTOR",
      "body": "Apologies for pulling in additional reviewers in my misguided attempt to bring LucaFIlipozzi/PowerShell up to date with PowerShell/PowerShell.\r\n\r\nI'm going to close this Pull Request and create a new one.",
      "created_at": "2020-01-08T02:39:38Z",
      "updated_at": "2020-01-08T03:15:53Z"
    }
  ],
  "created_at": "2019-12-24T17:37:51Z",
  "number": 11431,
  "state": "closed",
  "title": "don't needlessly pass `-l <username>` or `-p <port>` to ssh",
  "updated_at": "2020-10-17T00:49:53Z"
}