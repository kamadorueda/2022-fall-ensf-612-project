{
  "_url": "https://github.com/PowerShell/PowerShell/issues/689",
  "author": "andschwa",
  "body": "When executing a single command block, two bugs existed.\n\n1) Exceptions were not reported, instead it core dumped\n2) The error code was not set, instead 0 was returned\n\nFixing 1) required calling `Execute` instead of `ExecuteHelper` as the latter handles exception through `ReportException`.\n\nFixing 2) required setting the listener's error code when an exception was thrown, and resetting it for each command when an interactive session is running.\n",
  "closed_at": "2016-03-17T20:55:40Z",
  "comments": [
    {
      "author": "andschwa",
      "author_association": "MEMBER",
      "body": "I discovered these bugs while trying to remove `pester.sh` for #678.\n",
      "created_at": "2016-03-17T20:45:01Z",
      "updated_at": "2016-03-17T20:45:01Z"
    },
    {
      "author": "ealexjordan",
      "author_association": "CONTRIBUTOR",
      "body": "LGTM.\n",
      "created_at": "2016-03-17T20:55:36Z",
      "updated_at": "2016-03-17T20:55:36Z"
    },
    {
      "author": "JamesWTruher",
      "author_association": "MEMBER",
      "body": "it looks fine \n",
      "created_at": "2016-03-17T20:59:25Z",
      "updated_at": "2016-03-17T20:59:25Z"
    }
  ],
  "created_at": "2016-03-17T20:35:18Z",
  "number": 689,
  "state": "closed",
  "title": "Fix powershell -c 'throw error'",
  "updated_at": "2016-03-17T20:59:25Z"
}