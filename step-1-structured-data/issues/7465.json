{
  "_url": "https://github.com/PowerShell/PowerShell/issues/7465",
  "author": "TravisEz13",
  "body": "## PR Summary\r\n\r\nDefault to DefaultConsoleWidth when DotNet says WindowWidth is 0\r\n\r\nThis resolves an issue in an environment like VSTS when pwsh is spawned and DotNet is not able to determine the Console Width.\r\n\r\n## PR Checklist\r\n\r\n- [x] [PR has a meaningful title](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n    - Use the present tense and imperative mood when describing your changes\r\n- [x] [Summarized changes](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [x] [Change is not breaking](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#making-breaking-changes)\r\n- [x] [Make sure all `.h`, `.cpp`, `.cs`, `.ps1` and `.psm1` files have the correct copyright header](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [x] This PR is ready to merge and is not [Work in Progress](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---work-in-progress).\r\n    - If the PR is work in progress, please add the prefix `WIP:` to the beginning of the title and remove the prefix when the PR is ready.\r\n- **User-facing changes**\r\n    - [x] Not Applicable\r\n    - **OR**\r\n    - [ ] User-facing [Documentation needed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n        - [ ] Issue filed - Issue link:\r\n- **Testing - New and feature**\r\n    - [x] Not Applicable or can only be tested interactively\r\n    - **OR**\r\n    - [ ] [Make sure you've added a new test if existing tests do not effectively test the code changed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#before-submitting)\r\n        - [ ] [Add `[feature]` if the change is significant or affects feature tests](https://github.com/PowerShell/PowerShell/blob/master/docs/testing-guidelines/testing-guidelines.md#requesting-additional-tests-for-a-pr)\r\n",
  "closed_at": "2018-08-07T22:27:42Z",
  "comments": [
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@TravisEz13 Please look #6883 - could we move commits from #6883 to the PR?",
      "created_at": "2018-08-07T05:33:10Z",
      "updated_at": "2018-08-07T05:33:10Z"
    },
    {
      "author": "TravisEz13",
      "author_association": "MEMBER",
      "body": "@iSazonov  I knew I saw this before, thanks",
      "created_at": "2018-08-07T17:02:34Z",
      "updated_at": "2018-08-07T17:02:34Z"
    },
    {
      "author": "adityapatwardhan",
      "author_association": "MEMBER",
      "body": "@TravisEz13  There seems to be a new CodeFactor issue. Can you have a look.",
      "created_at": "2018-08-07T22:01:04Z",
      "updated_at": "2018-08-07T22:01:04Z"
    },
    {
      "author": "TravisEz13",
      "author_association": "MEMBER",
      "body": "The CodeFactor issue is basically an existing design issue around the test hooks",
      "created_at": "2018-08-07T22:11:12Z",
      "updated_at": "2018-08-07T22:11:12Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "We have `test\\tools\\Modules\\HelpersHostCS\\` - can we use it or we need a test system console?",
      "created_at": "2018-08-08T03:19:47Z",
      "updated_at": "2018-08-08T03:19:47Z"
    },
    {
      "author": "TravisEz13",
      "author_association": "MEMBER",
      "body": "We would have to have something that allows us to mock `System.Console`",
      "created_at": "2018-08-14T00:40:54Z",
      "updated_at": "2018-08-14T00:40:54Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "I found related discussion https://stackoverflow.com/questions/5852862/mocking-system-console-behaviour\r\nThere is a link to https://blogs.msdn.microsoft.com/ploeh/2006/10/21/console-unit-testing/\r\n\r\n`[console]::SetOut` looks interesting.",
      "created_at": "2018-08-14T05:31:07Z",
      "updated_at": "2018-08-14T05:31:07Z"
    }
  ],
  "created_at": "2018-08-06T21:53:54Z",
  "number": 7465,
  "state": "closed",
  "title": "Default to DefaultConsoleWidth when DotNet says WindowWidth is 0",
  "updated_at": "2018-08-14T05:31:07Z"
}