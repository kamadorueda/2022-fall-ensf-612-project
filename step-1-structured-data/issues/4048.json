{
  "_url": "https://github.com/PowerShell/PowerShell/issues/4048",
  "author": "daxian-dbw",
  "body": "Fix #4037\r\n\r\nThese are purely refactoring changes and should not alter any behaviors or functionalities.\r\n\r\nWe actually only need to create a new CompletionContext instance sometimes to complete a command as an argument, because for argument completion, we don't want to complete against pseudo commands that only work in the workflow script, and the way to avoid that is to pass in a CompletionContext with `RelatedAst = null`.\r\nHowever, it seems this pattern is copied for file completion and module name completion at some places. This PR refactored the corresponding code to avoid unnecessary construction of CompletionContext instances.\r\n\r\nThis PR also changes the `NativeCompletion*Commands` methods to extract the `wordToComplete` from the `CompletionContext` that is passed in. This makes it easier to reason from the code.",
  "closed_at": "2017-06-21T18:43:06Z",
  "comments": [
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "@adityapatwardhan I have addressed your comments. Please take another look when you have time.",
      "created_at": "2017-06-20T01:04:29Z",
      "updated_at": "2017-06-20T01:04:29Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "@adityapatwardhan A gentle ping \ud83d\ude04 Please take another look when you have time.",
      "created_at": "2017-06-21T16:59:32Z",
      "updated_at": "2017-06-21T16:59:32Z"
    }
  ],
  "created_at": "2017-06-19T19:09:41Z",
  "number": 4048,
  "state": "closed",
  "title": "Refactor CompletionCompleters.cs to avoid constructing unnecessary CompletionContext instances",
  "updated_at": "2017-06-21T18:43:24Z"
}