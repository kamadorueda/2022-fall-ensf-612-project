{
  "_url": "https://github.com/PowerShell/PowerShell/issues/922",
  "author": "palladia",
  "body": "<!-- Reviewable:start -->\n\nThis change is [<img src=\"https://reviewable.io/review_button.svg\" height=\"35\" align=\"absmiddle\" alt=\"Reviewable\"/>](https://reviewable.io/reviews/powershell/powershell/922)\n\n<!-- Reviewable:end -->\n",
  "closed_at": "2016-04-29T15:52:04Z",
  "comments": [
    {
      "author": "andschwa",
      "author_association": "MEMBER",
      "body": "@palladia What is the undo/redo bug? I don't know how to repro it.\n",
      "created_at": "2016-04-28T18:31:45Z",
      "updated_at": "2016-04-28T18:31:45Z"
    },
    {
      "author": "palladia",
      "author_association": "CONTRIBUTOR",
      "body": "If you type some text, undo (Ctrl-Z) will delete last typed character.  Redo (Ctrl-Y) should undo the undo, and bring the character back onto screen.\n",
      "created_at": "2016-04-28T18:38:26Z",
      "updated_at": "2016-04-28T18:38:26Z"
    },
    {
      "author": "palladia",
      "author_association": "CONTRIBUTOR",
      "body": "Commit split...I think.\n",
      "created_at": "2016-04-28T18:48:06Z",
      "updated_at": "2016-04-28T18:48:06Z"
    },
    {
      "author": "andschwa",
      "author_association": "MEMBER",
      "body": "Yes, it split! Good job.\n\nNow, if you want to take that patch, and apply it to the original PSReadLine repo to submit it upstream:\n\n``` sh\n$ cd ~/src/PowerShell/src/Microsoft.PowerShell.PSReadLine\n$ git format-patch --relative d8674ce0e..17cd72f4f # --relative removes the directory from the patch\n0001-Fix-Undo-Redo.patch\n$ cd ~/src/PSReadLine\n$ git checkout master && git pull\n$ git checkout -b fix-redo\n$ git am --directory=PSReadLine ~/src/PowerShell/src/Microsoft.PowerShell.PSReadLine/0001-Fix-Undo-Redo.patch # --directory says to apply the patch to the PSReadLine directory\n```\n\nYou should now have the same changes and commit message in the PSReadLine repo, and you can push and make a (public) PR. Just quadruple check that it doesn't mention Linux or CoreCLR.\n\nThe commit range I used is per the current PR, where `d8674ce0e..17cd72f4f` is precisely only the redo changes.\n",
      "created_at": "2016-04-28T18:56:28Z",
      "updated_at": "2016-04-28T18:56:28Z"
    },
    {
      "author": "andschwa",
      "author_association": "MEMBER",
      "body": "Honestly, make a fresh clone of the public PSReadLine repo and apply it there so there is no way that Linux changes could get pushed.\n",
      "created_at": "2016-04-28T18:57:06Z",
      "updated_at": "2016-04-28T18:57:06Z"
    },
    {
      "author": "andschwa",
      "author_association": "MEMBER",
      "body": "FYI: tested manually. Without these changes, redo doesn't work. With them, it works.\n\n:+1: \n",
      "created_at": "2016-04-28T18:57:55Z",
      "updated_at": "2016-04-28T18:58:00Z"
    },
    {
      "author": "palladia",
      "author_association": "CONTRIBUTOR",
      "body": "Superseded by #934.  Closing this.\n",
      "created_at": "2016-04-29T15:51:55Z",
      "updated_at": "2016-04-29T15:51:55Z"
    }
  ],
  "created_at": "2016-04-28T15:43:38Z",
  "number": 922,
  "state": "closed",
  "title": "Fix Do/Undo, default colors, and highlighting",
  "updated_at": "2016-04-29T15:52:07Z"
}