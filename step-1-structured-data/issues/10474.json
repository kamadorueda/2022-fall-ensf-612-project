{
  "_url": "https://github.com/PowerShell/PowerShell/issues/10474",
  "author": "M1kep",
  "body": "<!--\r\n\r\nFor Windows PowerShell 5.1 issues, suggestions, or feature requests please use the following link instead:\r\nWindows PowerShell [UserVoice](https://windowsserver.uservoice.com/forums/301869-powershell)\r\n\r\nThis repository is **ONLY** for PowerShell Core 6 issues.\r\n\r\n- Make sure you are able to repro it on the [latest released version](https://github.com/PowerShell/PowerShell/releases)\r\n- Search the existing issues.\r\n- Refer to the [FAQ](https://github.com/PowerShell/PowerShell/blob/master/docs/FAQ.md).\r\n- Refer to the [known issues](https://docs.microsoft.com/powershell/scripting/whats-new/known-issues-ps6?view=powershell-6).\r\n\r\n-->\r\n\r\n# Steps to reproduce\r\n\r\n```powershell\r\nPS >function TestValidate {\r\n>> [CmdletBinding(SupportsShouldProcess, ConfirmImpact = 'High')]\r\n>> param (\r\n>> [Parameter(Mandatory = $true, ValueFromPipelineByPropertyName)]\r\n>> [ValidateNotNullOrEmpty]\r\n>> [string]$DisplayName\r\n>> )\r\n>>\r\n>> if ($PSCmdlet.ShouldProcess(\"$DisplayName\", \"Delete\")) {\r\n>> Write-Host \"Why Triggered?\"\r\n>> }\r\n>> }\r\nPS> $obj = @{ Test = 123 }\r\nPS> $obj | TestValidate\r\nTestValidate : The input object cannot be bound to any parameters for the command either because the command does not take pipeline input or the input and its properties do not match any of the parameters that take pipeline input.\r\nAt line:1 char:8\r\n+ $obj | TestValidate\r\n+        ~~~~~~~~~~~~\r\n+ CategoryInfo          : InvalidArgument: (System.Collections.Hashtable:Hashtable) [TestValidate], ParameterBindingException\r\n+ FullyQualifiedErrorId : InputObjectNotBound,TestValidate\r\n\r\n\r\nConfirm\r\nAre you sure you want to perform this action?\r\nPerforming the operation \"Delete\" on target \"\".\r\n[Y] Yes  [A] Yes to All  [N] No  [L] No to All  [S] Suspend  [?] Help (default is \"Y\"): y\r\nWhy Triggered?\r\nPS >\r\n\r\n```\r\n\r\n# Expected behavior\r\n\r\n```none\r\nFunction should not continue if parameter validation has failed\r\n\r\n```\r\n\r\n# Actual behavior\r\n\r\n```none\r\nFunction continues running\r\n\r\n```\r\n\r\n# Environment data\r\n\r\n<!-- provide the output of $PSVersionTable -->\r\n*Reproducible in Powershell 5 & 6 & 7\r\n```none\r\nName                           Value\r\n----                           -----\r\nPSVersion                      7.0.0-preview.3\r\nPSEdition                      Core\r\nGitCommitId                    7.0.0-preview.3\r\nOS                             Darwin 18.7.0 Darwin Kernel Version 18.7.0: Tue Aug 20 16:57:14 PDT 2019; root:xnu-4903.271.2~2/RELEASE_X86_64\r\nPlatform                       Unix\r\nPSCompatibleVersions           {1.0, 2.0, 3.0, 4.0\u2026}\r\nPSRemotingProtocolVersion      2.3\r\nSerializationVersion           1.1.0.1\r\nWSManStackVersion              3.0\r\n\r\n```\r\n",
  "closed_at": null,
  "comments": [],
  "created_at": "2019-09-01T18:22:17Z",
  "labels": [
    "Issue-Bug",
    "WG-Engine"
  ],
  "number": 10474,
  "state": "open",
  "title": "Parameter Validation not terminating function when using pipeline.",
  "updated_at": "2021-01-15T14:31:07Z"
}