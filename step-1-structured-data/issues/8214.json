{
  "_url": "https://github.com/PowerShell/PowerShell/issues/8214",
  "author": "vexx32",
  "body": "## PR Summary\r\n\r\n/cc @iSazonov \r\n\r\nAdds aspect to tests in `test/powershell/engine/Basic/DefaultCommands.Tests.ps1` that checks default cmdlets' reported `ConfirmImpact` level.\r\n\r\nAlso fixes a related logical error in `/tests/powershell/Language/Classes/Scripting.Classes.BasicParsing.Tests.ps1` where the test attempts to query the wrong property on the class object, and then tests for `ConfirmImpact` rating without implementing `ShouldProcess`.\r\n\r\nRelated: #8209 \r\nThese tests will be modified in #8209 when needed.\r\n\r\n## PR Checklist\r\n\r\n- [X] [PR has a meaningful title](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n    - Use the present tense and imperative mood when describing your changes\r\n- [x] [Summarized changes](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [X] [Change is not breaking](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#making-breaking-changes)\r\n- [X] [Make sure all `.h`, `.cpp`, `.cs`, `.ps1` and `.psm1` files have the correct copyright header](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [ ] This PR is ready to merge and is not [Work in Progress](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---work-in-progress).\r\n    - If the PR is work in progress, please add the prefix `WIP:` to the beginning of the title and remove the prefix when the PR is ready.\r\n- **User-facing changes**\r\n    - [X] Not Applicable\r\n    - **OR**\r\n    - [ ] User-facing [Documentation needed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n        - [ ] Issue filed - Issue link:\r\n- **Testing - New and feature**\r\n    - [ ] Not Applicable or can only be tested interactively\r\n    - **OR**\r\n    - [X] [Make sure you've added a new test if existing tests do not effectively test the code changed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#before-submitting)\r\n        - [ ] [Add `[feature]` if the change is significant or affects feature tests](https://github.com/PowerShell/PowerShell/blob/master/docs/testing-guidelines/testing-guidelines.md#requesting-additional-tests-for-a-pr)\r\n",
  "closed_at": "2018-12-20T18:15:43Z",
  "comments": [
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@vexx32 Please look DefaultCommands.Tests.ps1. There is a trick with moderated loading standard modules. ",
      "created_at": "2018-11-09T03:22:21Z",
      "updated_at": "2018-11-09T03:22:21Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@SteveL-MSFT @adityapatwardhan Could you please review these new tests?",
      "created_at": "2018-11-14T05:14:16Z",
      "updated_at": "2018-11-14T05:14:16Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@vexx32 Please address @SteveL-MSFT comments.",
      "created_at": "2018-11-21T03:23:28Z",
      "updated_at": "2018-11-21T03:23:28Z"
    },
    {
      "author": "vexx32",
      "author_association": "COLLABORATOR",
      "body": "@iSazonov built ConfirmImpact tests into the existing file per @SteveL-MSFT's recommendations. Haven't tested it just yet, but it should be sound. I'll let CI check it while I get some sleep and figure out any issues tomorrow.\r\n\r\nAlso did a rebase due to some outstanding merge conflicts & resolved those issues.\r\n\r\n@SteveL-MSFT I notice that there are references to `$FullCLR` in this file; are these vestiges from Windows PowerShell that can be removed unilaterally?",
      "created_at": "2018-11-21T05:05:00Z",
      "updated_at": "2018-11-21T05:05:00Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "$FullCLR helps to see the differences from Windows PowerShell, helps to document. Also we can run the test with Windows PowerShell to keep it up-to-date. From the test we can see that we still need to port.",
      "created_at": "2018-11-21T05:21:33Z",
      "updated_at": "2018-11-21T05:22:37Z"
    },
    {
      "author": "vexx32",
      "author_association": "COLLABORATOR",
      "body": "Okay, it took me a bit to get that working as it perhaps should, but there we go. \ud83d\ude04 ",
      "created_at": "2018-11-22T04:31:21Z",
      "updated_at": "2018-11-22T04:31:21Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@vexx32 Please resolve the merge conflict.\r\n\r\n@SteveL-MSFT Please update your code review.",
      "created_at": "2018-11-29T14:00:42Z",
      "updated_at": "2018-11-29T14:00:42Z"
    },
    {
      "author": "vexx32",
      "author_association": "COLLABORATOR",
      "body": "There we go, all done! \ud83d\ude04 ",
      "created_at": "2018-11-29T15:21:58Z",
      "updated_at": "2018-11-29T15:22:06Z"
    },
    {
      "author": "adityapatwardhan",
      "author_association": "MEMBER",
      "body": "@vexx32 Please have a look at the test failures on macOS and Linux CI.\r\n\r\nAlso, please update the PR description to remove reference to : `DefaultConfirmImpact.Tests.ps1`",
      "created_at": "2018-11-29T17:49:04Z",
      "updated_at": "2018-11-29T17:49:04Z"
    },
    {
      "author": "vexx32",
      "author_association": "COLLABORATOR",
      "body": "@adityapatwardhan Tests and PR description updated! ",
      "created_at": "2018-11-29T19:36:17Z",
      "updated_at": "2018-11-29T19:36:17Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@vexx32 Please resolve the merge conflit.\r\n\r\n@SteveL-MSFT Please update your code review.",
      "created_at": "2018-12-06T15:39:16Z",
      "updated_at": "2018-12-06T15:39:16Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@vexx32 Please resolve the merge conflit.\r\n\r\n@SteveL-MSFT Please update your code review.",
      "created_at": "2018-12-06T15:45:19Z",
      "updated_at": "2018-12-06T15:45:19Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@vexx32 Please resolve the merge conflit.\r\n\r\n@SteveL-MSFT Please update your code review.",
      "created_at": "2018-12-06T15:47:08Z",
      "updated_at": "2018-12-06T15:47:08Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@vexx32 Please resolve the merge conflit.\r\n\r\n@SteveL-MSFT Please update your code review.",
      "created_at": "2018-12-06T15:47:42Z",
      "updated_at": "2018-12-06T15:47:42Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@vexx32 Please resolve the merge conflit.\r\n\r\n@SteveL-MSFT Please update your code review.",
      "created_at": "2018-12-06T15:54:00Z",
      "updated_at": "2018-12-06T15:54:00Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@vexx32 Please resolve the merge conflit.\r\n\r\n@SteveL-MSFT Please update your code review.",
      "created_at": "2018-12-06T16:18:51Z",
      "updated_at": "2018-12-06T16:18:51Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@vexx32 Please resolve the merge conflit.\r\n\r\n@SteveL-MSFT Please update your code review.",
      "created_at": "2018-12-06T16:26:42Z",
      "updated_at": "2018-12-06T16:26:42Z"
    },
    {
      "author": "vexx32",
      "author_association": "COLLABORATOR",
      "body": "I think that takes care of it. Managed to figure out which commands have been added since last commit, so hopefully that should be sufficient, but I'm gonna  wait and see if CI reckons I missed something and fix it as it happens. \ud83d\ude04 ",
      "created_at": "2018-12-06T17:50:37Z",
      "updated_at": "2018-12-06T17:50:37Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@vexx32 Please resolve the merge conflit.\r\n\r\n@SteveL-MSFT Please update your code review.",
      "created_at": "2018-12-07T03:12:05Z",
      "updated_at": "2018-12-07T03:12:05Z"
    },
    {
      "author": "vexx32",
      "author_association": "COLLABORATOR",
      "body": "Merge conflict is sorted /cc @SteveL-MSFT  @iSazonov :smile: ",
      "created_at": "2018-12-16T12:16:15Z",
      "updated_at": "2018-12-16T12:16:15Z"
    },
    {
      "author": "vexx32",
      "author_association": "COLLABORATOR",
      "body": "All good, I imagine it gets fun around the holidays over there. \ud83d\ude04 ",
      "created_at": "2018-12-20T04:52:12Z",
      "updated_at": "2018-12-20T04:52:12Z"
    }
  ],
  "created_at": "2018-11-08T17:54:20Z",
  "number": 8214,
  "state": "closed",
  "title": "Add Tests for ConfirmImpact Ratings",
  "updated_at": "2018-12-20T18:17:14Z"
}