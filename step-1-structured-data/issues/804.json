{
  "_url": "https://github.com/PowerShell/PowerShell/issues/804",
  "author": "andschwa",
  "body": "This action is completely valid on both Windows and Linux (and OS X)\noperating systems; tested with `mklink` and `ln -s` respectively.\n\nNote that targets for hard links must exist, thus we check specifically\nfor symbolic links.\n\nBoth the path globber in session state and the `New-Item` implementation\nneeded to be fixed to allow the target not to exist.\n\nResolves #801.\n\n<!-- Reviewable:start -->\n\n---\n\nThis change is [<img src=\"https://reviewable.io/review_button.svg\" height=\"35\" align=\"absmiddle\" alt=\"Reviewable\"/>](https://reviewable.io/reviews/powershell/powershell/804)\n\n<!-- Reviewable:end -->\n",
  "closed_at": "2016-04-10T01:55:22Z",
  "comments": [
    {
      "author": "andschwa",
      "author_association": "MEMBER",
      "body": "FYI @LeeHolmes \n",
      "created_at": "2016-04-10T01:54:20Z",
      "updated_at": "2016-04-10T01:54:20Z"
    },
    {
      "author": "andschwa",
      "author_association": "MEMBER",
      "body": "Merging because I need this to make packages.\n",
      "created_at": "2016-04-10T01:55:18Z",
      "updated_at": "2016-04-10T01:55:18Z"
    },
    {
      "author": "vors",
      "author_association": "COLLABORATOR",
      "body": "Review status: 0 of 3 files reviewed at latest revision, 3 unresolved discussions.\n\n---\n\n_[test/powershell/New-Item.Tests.ps1, line 119 [r1]](https://reviewable.io:443/reviews/powershell/powershell/804#-KF6X4_GKjLtCYT5fwWt:-KF6X4_GKjLtCYT5fwWu:1612678670) ([raw file](https://github.com/powershell/powershell/blob/3a43126a2ea163f38c8d02c8177c79e954576ec6/test/powershell/New-Item.Tests.ps1#L119)):_\nPlease add a symlink test for a directory.\n1) Create non-existing\n2) Test ls on it\n3) Create matching dir\n4) Test ls again\n\n---\n\n_[test/powershell/New-Item.Tests.ps1, line 122 [r1]](https://reviewable.io:443/reviews/powershell/powershell/804#-KF6X0Rjpsd6nFlZ5QS-:-KF6X0Rjpsd6nFlZ5QS0:1898958169) ([raw file](https://github.com/powershell/powershell/blob/3a43126a2ea163f38c8d02c8177c79e954576ec6/test/powershell/New-Item.Tests.ps1#L122)):_\nnot sure that this is the right behavior\n\n---\n\n_[test/powershell/New-Item.Tests.ps1, line 128 [r1]](https://reviewable.io:443/reviews/powershell/powershell/804#-KF6X7dyArTXJE1rjAp5:-KF6X7dyArTXJE1rjAp6:-83535416) ([raw file](https://github.com/powershell/powershell/blob/3a43126a2ea163f38c8d02c8177c79e954576ec6/test/powershell/New-Item.Tests.ps1#L128)):_\nHow does somebody can figure out that this symlink is broken?\n\n---\n\n_Comments from [Reviewable](https://reviewable.io:443/reviews/powershell/powershell/804)_\n\n<!-- Sent from Reviewable.io -->\n",
      "created_at": "2016-04-11T22:56:33Z",
      "updated_at": "2016-04-11T22:56:33Z"
    },
    {
      "author": "andschwa",
      "author_association": "MEMBER",
      "body": "Review status: 0 of 3 files reviewed at latest revision, 3 unresolved discussions.\n\n---\n\n_[test/powershell/New-Item.Tests.ps1, line 119 [r1]](https://reviewable.io:443/reviews/powershell/powershell/804#-KF6X4_GKjLtCYT5fwWt:-KF6exRDF_UaDtGggsNZ:237841620) ([raw file](https://github.com/powershell/powershell/blob/3a43126a2ea163f38c8d02c8177c79e954576ec6/test/powershell/New-Item.Tests.ps1#L119)):_\nYeah that would be good to have. I'll add it to the backlog.\n\n---\n\n_[test/powershell/New-Item.Tests.ps1, line 122 [r1]](https://reviewable.io:443/reviews/powershell/powershell/804#-KF6X0Rjpsd6nFlZ5QS-:-KF6enHDhXyZdsxjQ1-7:1138357111) ([raw file](https://github.com/powershell/powershell/blob/3a43126a2ea163f38c8d02c8177c79e954576ec6/test/powershell/New-Item.Tests.ps1#L122)):_\nThis is the right behavior; the link file exists. If it didn't, this PR would be wrong.\n\n---\n\n_[test/powershell/New-Item.Tests.ps1, line 128 [r1]](https://reviewable.io:443/reviews/powershell/powershell/804#-KF6X7dyArTXJE1rjAp5:-KF6eqD022Pd_OlizHw9:2001586601) ([raw file](https://github.com/powershell/powershell/blob/3a43126a2ea163f38c8d02c8177c79e954576ec6/test/powershell/New-Item.Tests.ps1#L128)):_\nBy testing the existence of its Target, as done here.\n\n---\n\n_Comments from [Reviewable](https://reviewable.io:443/reviews/powershell/powershell/804)_\n\n<!-- Sent from Reviewable.io -->\n",
      "created_at": "2016-04-11T23:36:01Z",
      "updated_at": "2016-04-11T23:36:01Z"
    }
  ],
  "created_at": "2016-04-10T01:26:33Z",
  "number": 804,
  "state": "closed",
  "title": "Allow creation of symlink to non-existent target",
  "updated_at": "2016-04-11T23:36:01Z"
}