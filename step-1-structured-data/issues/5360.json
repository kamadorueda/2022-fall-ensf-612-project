{
  "_url": "https://github.com/PowerShell/PowerShell/issues/5360",
  "author": "dantraMSFT",
  "body": "This is the first part of the fix for https://github.com/PowerShell/PowerShell/issues/4939 and include the following changes:\r\n1: Rename the manifest file (PowerShell.Core.Instrumentation.man)\r\n2: ~Change the ETW provider GUID and name and move to outside of the Microsoft/Windows tree in the event log. The provider name is now simply PowerShellCore.~ [edited by @daxian-dbw: provider GUID and provider names are not changed in this PR] \r\n3: Create a registration script for registering. (RegisterManifest.ps1)\r\n4: Produce a binary resource-only DLL to contain the ETW manifest and associated string resources. (PowerShell.Core.Instrumentation.dll)\r\n\r\nThe second part will involve creating a nuget package that will be pulled in at build time, similar to psl-native. for Linux  Additionally, tests to verify the provider registration and event raising will be included as part of the nuget package work.\r\n",
  "closed_at": "2017-11-09T17:23:00Z",
  "comments": [
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "The manifest has some windows powershell specific resources. Should this PR include the cleanup work of those resources?",
      "created_at": "2017-11-07T00:34:46Z",
      "updated_at": "2017-11-07T00:34:46Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@daxian-dbw I think we can do the cleanup of the manifest in a separate PR",
      "created_at": "2017-11-07T00:52:47Z",
      "updated_at": "2017-11-07T00:52:47Z"
    },
    {
      "author": "dantraMSFT",
      "author_association": "CONTRIBUTOR",
      "body": "@daxian-dbw I did do an initial scrub by removing all events that are not referenced in code (i.e, scanning for all PSEvents.* code references).  Going further would require removing Windows-specific code which I thought would only muddle the PR.",
      "created_at": "2017-11-07T01:05:49Z",
      "updated_at": "2017-11-07T01:05:49Z"
    },
    {
      "author": "dantraMSFT",
      "author_association": "CONTRIBUTOR",
      "body": "@daxian-dbw: I made you the assignee; let me know if it should be someone else. I need to create a nuget package once this is merged.\r\nThanks,\r\n",
      "created_at": "2017-11-07T17:36:37Z",
      "updated_at": "2017-11-07T17:36:37Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "@TravisEz13 @adityapatwardhan Can you please also review this PR?",
      "created_at": "2017-11-07T18:15:34Z",
      "updated_at": "2017-11-07T18:15:34Z"
    },
    {
      "author": "dantraMSFT",
      "author_association": "CONTRIBUTOR",
      "body": "@TravisEz13 @adityapatwardhan Do you have any feedback?",
      "created_at": "2017-11-08T18:24:29Z",
      "updated_at": "2017-11-08T18:24:29Z"
    },
    {
      "author": "dantraMSFT",
      "author_association": "CONTRIBUTOR",
      "body": "@daxian-dbw This should be good to go.\r\n",
      "created_at": "2017-11-08T23:55:33Z",
      "updated_at": "2017-11-08T23:55:33Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "Test failure in AppVeyor is a known issue, but Travis CI hasn't finished yet.",
      "created_at": "2017-11-09T00:12:14Z",
      "updated_at": "2017-11-09T00:12:14Z"
    }
  ],
  "created_at": "2017-11-07T00:09:33Z",
  "number": 5360,
  "state": "closed",
  "title": "Rename/Update PowerShell ETW manifest to remove the Windows PowerShell dependency.",
  "updated_at": "2017-11-09T17:23:01Z"
}