{
  "_url": "https://github.com/PowerShell/PowerShell/issues/2932",
  "author": "goyalmohit",
  "body": "I'm trying to build on a windows server 2012 R2. Start-PSbuild keeps failing on it with below error:\r\n\r\nPS C:\\Program Files (x86)\\jenkins\\workspace\\powershellcore> Start-PSBuild\r\nVERBOSE: Using configuration 'Debug'\r\nVERBOSE: Top project directory is C:\\Program Files (x86)\\jenkins\\workspace\\powershellcore\\src\\powershell-win-core\r\nVERBOSE: Using framework 'netcoreapp1.1'\r\nVERBOSE: Using runtime 'win81-x64'\r\nRun dotnet restore\r\nerror: Unable to load the service index for source https://www.myget.org/F/dotnet-core/api/v3/index.json.\r\nerror:   The content at 'https://www.myget.org/F/dotnet-core/api/v3/index.json' is not a valid JSON object.\r\nerror:   Unexpected character encountered while parsing value: <. Path '', line 0, position 0.\r\nExecution of { dotnet restore $RestoreArguments } failed with exit code 1\r\nAt C:\\Program Files (x86)\\jenkins\\workspace\\powershellcore\\build.psm1:2232 char:13\r\n+             throw \"Execution of {$sb} failed with exit code $LASTEXITCODE\"\r\n+             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    + CategoryInfo          : OperationStopped: (Execution of { ...ith exit code 1:String) [], RuntimeException\r\n    + FullyQualifiedErrorId : Execution of { dotnet restore $RestoreArguments } failed with exit code 1\r\n\r\n\r\nSteps to reproduce\r\n------------------\r\nAfter importing module build.psm1, run start-psbuild.\r\n\r\nExpected behavior\r\n-----------------\r\nShould be able to compile the binaries\r\n\r\n\r\nEnvironment data\r\n----------------\r\nPS C:\\Program Files (x86)\\jenkins\\workspace\\powershellcore> $PSVersionTable\r\n\r\nName                           Value\r\n----                           -----\r\nPSVersion                      4.0\r\nWSManStackVersion              3.0\r\nSerializationVersion           1.1.0.1\r\nCLRVersion                     4.0.30319.34014\r\nBuildVersion                   6.3.9600.17400\r\nPSCompatibleVersions           {1.0, 2.0, 3.0, 4.0}\r\nPSRemotingProtocolVersion      2.2\r\n",
  "closed_at": "2016-12-28T08:52:33Z",
  "comments": [
    {
      "author": "goyalmohit",
      "author_association": "NONE",
      "body": "Below is the data for this request:\r\n\r\n`StatusCode        : 200\r\nStatusDescription : OK\r\nContent           : <!doctype html>\r\n                    <html lang=\"en\">\r\n                    <head>\r\n                        <meta charset=\"utf-8\" />\r\n                        <title>Sign in to MyGet - MyGet - Hosting your NuGet, Npm, Bower and Vsix packages</title>\r\n                        <meta name=\"viewport\" conte...\r\nRawContent        : HTTP/1.1 200 OK\r\n                    Vary: *\r\n                    X-Frame-Options: deny\r\n                    X-XSS-Protection: 1; mode=block\r\n                    X-Content-Type-Options: nosniff\r\n                    Content-Length: 8434\r\n                    Cache-Control: public, no-store, max-age=0, s-maxage=0\r\n                    Content...\r\nForms             : {}\r\nHeaders           : {[Vary, *], [X-Frame-Options, deny], [X-XSS-Protection, 1; mode=block], [X-Content-Type-Options,\r\n                    nosniff]...}\r\nImages            : {@{innerHTML=; innerText=; outerHTML=<IMG\r\n                    src=\"https://dotnetmyget.blob.core.windows.net/files/logo.png\">; outerText=; tagName=IMG;\r\n                    src=https://dotnetmyget.blob.core.windows.net/files/logo.png}}\r\nInputFields       : {@{innerHTML=; innerText=; outerHTML=<INPUT id=ReturnUrl type=hidden\r\n                    value=/F/dotnet-core/api/v3/index.json name=ReturnUrl>; outerText=; tagName=INPUT; id=ReturnUrl;\r\n                    type=hidden; value=/F/dotnet-core/api/v3/index.json; name=ReturnUrl}, @{innerHTML=; innerText=;\r\n                    outerHTML=<INPUT id=Username name=Username placeholder=\"Username\" data-val-required=\"Please enter\r\n                    your username.\" data-val=\"true\">; outerText=; tagName=INPUT; id=Username; name=Username;\r\n                    placeholder=Username; data-val-required=Please enter your username.; data-val=true}, @{innerHTML=;\r\n                    innerText=; outerHTML=<INPUT id=Password type=password value=\"\" name=Password\r\n                    placeholder=\"Password\" data-val-required=\"Please enter your password.\" data-val=\"true\">;\r\n                    outerText=; tagName=INPUT; id=Password; type=password; value=; name=Password;\r\n                    placeholder=Password; data-val-required=Please enter your password.; data-val=true}, @{innerHTML=;\r\n                    innerText=; outerHTML=<INPUT class=\"btn btn-primary wide\" type=submit value=Login>; outerText=;\r\n                    tagName=INPUT; class=btn btn-primary wide; type=submit; value=Login}}\r\nLinks             : {@{innerHTML=<IMG src=\"https://dotnetmyget.blob.core.windows.net/files/logo.png\">; innerText=;\r\n                    outerHTML=<A href=\"/\"><IMG src=\"https://dotnetmyget.blob.core.windows.net/files/logo.png\"></A>;\r\n                    outerText=; tagName=A; href=/}, @{innerHTML=.NET Foundation; innerText=.NET Foundation;\r\n                    outerHTML=<A href=\"http://dotnetfoundation.org\">.NET Foundation</A>; outerText=.NET Foundation;\r\n                    tagName=A; href=http://dotnetfoundation.org}, @{innerHTML=Forgot password?; innerText=Forgot\r\n                    password?; outerHTML=<A href=\"/Account/LostPassword?ReturnUrl=https%3A%2F%2Fdotnet.myget.org%2FAcco\r\n                    unt%2FLogin%3FReturnUrl%3D%252fF%252fdotnet-core%252fapi%252fv3%252findex.json\">Forgot\r\n                    password?</A>; outerText=Forgot password?; tagName=A; href=/Account/LostPassword?ReturnUrl=https%3A\r\n                    %2F%2Fdotnet.myget.org%2FAccount%2FLogin%3FReturnUrl%3D%252fF%252fdotnet-core%252fapi%252fv3%252fin\r\n                    dex.json}, @{innerHTML={Name}; innerText={Name}; outerHTML=<A href=\"{LoginUrl}\">{Name}</A>;\r\n                    outerText={Name}; tagName=A; href={LoginUrl}}...}\r\nParsedHtml        : mshtml.HTMLDocumentClass\r\nRawContentLength  : 8434\r\n\r\n\r\n\r\nPS C:\\Program Files (x86)\\jenkins\\workspace\\powershellcore> $req.RawContent\r\nHTTP/1.1 200 OK\r\nVary: *\r\nX-Frame-Options: deny\r\nX-XSS-Protection: 1; mode=block\r\nX-Content-Type-Options: nosniff\r\nContent-Length: 8434\r\nCache-Control: public, no-store, max-age=0, s-maxage=0\r\nContent-Type: text/html; charset=utf-8\r\nDate: Tue, 27 Dec 2016 09:21:20 GMT\r\nExpires: Tue, 27 Dec 2016 09:21:20 GMT\r\nLast-Modified: Tue, 27 Dec 2016 09:21:20 GMT\r\nServer: Microsoft-IIS/8.5\r\n\r\n<!doctype html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"utf-8\" />\r\n    <title>Sign in to MyGet - MyGet - Hosting your NuGet, Npm, Bower and Vsix packages</title>\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/>\r\n\r\n\r\n    <link rel=\"stylesheet\" href=\"https://mygetwww-2e16.kxcdn.com/bundles/css/styles.min.css?c=Mi4yLjAuMzU4\" type=\"text/\r\ncss\"/>\r\n\r\n    <!-- AppInsights -->\r\n    <script type=\"text/javascript\">\r\n        var appInsights=window.appInsights||function(config){\r\n            function s(config){t[config]=function(){var i=arguments;t.queue.push(function(){t[config].apply(t,i)})}}var\r\n t={config:config},r=document,f=window,e=\"script\",o=r.createElement(e),i,u;for(o.src=config.url||\"//az416426.vo.msecnd.\r\nnet/scripts/a/ai.0.js\",r.getElementsByTagName(e)[0].parentNode.appendChild(o),t.cookie=r.cookie,t.queue=[],i=[\"Event\",\"\r\nException\",\"Metric\",\"PageView\",\"Trace\"];i.length;)s(\"track\"+i.pop());return config.disableExceptionTracking||(i=\"onerro\r\nr\",s(\"_\"+i),u=f[i],f[i]=function(config,r,f,e,o){var s=u&&u(config,r,f,e,o);return s!==!0&&t[\"_\"+i](config,r,f,e,o),s})\r\n,t\r\n        }({\r\n            instrumentationKey:'39819834-db6b-4d01-ad34-e46acb9627b1',\r\n            samplingPercentage: 10,\r\n\r\n            disableExceptionTracking: document.location.href.indexOf(\"://localhost\") > 0\r\n        });\r\n\r\n        window.appInsights=appInsights;\r\n\r\n        if (document.location.href.indexOf(\"://localhost\") === -1) {\r\n            appInsights.trackPageView();\r\n        }\r\n    </script>\r\n\r\n    <!--[if lt IE 9]>\r\n        <script src=\"https://html5shim.googlecode.com/svn/trunk/html5.js\"></script>\r\n    <![endif]-->\r\n\r\n\r\n    <script type=\"text/javascript\" src=\"https://mygetwww-2e16.kxcdn.com/bundles/js/home/scripts.min.js?c=Mi4yLjAuMzU4\">\r\n</script>\r\n\r\n\r\n  <script type=\"text/javascript\">\r\n    // disable javascript errors on interactive login dialog\r\n    function noError() { return true; }\r\n    window.onerror = noError;\r\n  </script>\r\n\r\n\r\n    <!--[if lt IE 9]>\r\n        <script type=\"text/javascript\">\r\n            // support watermarks in IE7\r\n            $(function() {\r\n                //Assign to those input elements that have 'placeholder' attribute\r\n                $('input[placeholder]').each(function() {\r\n                    var input = $(this);\r\n                    $(input).val(input.attr('placeholder'));\r\n\r\n                    $(input).focus(function() {\r\n                        if (input.val() == input.attr('placeholder')) {\r\n                            input.val('');\r\n                        }\r\n                    });\r\n\r\n                    $(input).blur(function() {\r\n                        if (input.val() == '' || input.val() == input.attr('placeholder')) {\r\n                            input.val(input.attr('placeholder'));\r\n                        }\r\n                    });\r\n                });\r\n            });\r\n        </script>\r\n    <![endif]-->\r\n</head>\r\n<body scroll=\"no\">\r\n<style>\r\n    .container {\r\n        margin-top: 50px;\r\n    }\r\n</style>\r\n<div class=\"container\">\r\n\r\n\r\n\r\n\r\n<article>\r\n  <div class=\"row\">\r\n    <div class=\"span6\">\r\n      <h2>\r\n        <a href=\"/\"><img src=\"https://dotnetmyget.blob.core.windows.net/files/logo.png\" /></a>\r\n      </h2>\r\n    </div>\r\n    <div class=\"span6\">\r\n      <h2>\r\n        Sign in to MyGet\r\n        &nbsp;<span style=\"font-size: medium; color:#666;\">(.NET Foundation)</span>\r\n      </h2>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"span12\">\r\n      <hr />\r\n\r\n<div id=\"notifications-messages\" data-bind=\"template: { name: '_messages', foreach: messages, beforeRemove: function(el\r\nem) { if (elem.nodeType === 1) $(elem).slideUp(function() { $(elem).remove(); }); } }\"></div>\r\n\r\n<script type=\"text/html\" id=\"_messages\">\r\n    <div class=\"alert\" data-bind=\"css: { 'alert-info': $data.messageType == 'info', 'alert-error': $data.messageType ==\r\n 'error' }\">\r\n        <a class=\"close\" data-dismiss=\"alert\" href=\"#\">&times;</a>\r\n        <span data-bind=\"html: $data.message\"></span>\r\n    </div>\r\n</script>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"span6\">\r\n          <div class=\"form-actions\" style=\"margin-top:0;\">\r\n            <h2 id=\"hello-and-welcome-to-the.net-foundation-myget-gallery\">Hello and welcome to the .NET Foundation MyG\r\net gallery.</h2>\r\n<p>Note that only <a href=\"http://dotnetfoundation.org\">.NET Foundation</a> projects maintainers are able to login to h\r\nost feeds on this service. If you would like access then please email contact@dotnetfoundation.org with details of your\r\n project and what feed you would like to maintain.</p>\r\n\r\n          </div>\r\n    </div>\r\n    <div class=\"span6\">\r\n      <div class=\"well well-inverse\">\r\n        <p>Using a MyGet username and password (<a href=\"/Account/LostPassword?ReturnUrl=https%3A%2F%2Fdotnet.myget.org\r\n%2FAccount%2FLogin%3FReturnUrl%3D%252fF%252fdotnet-core%252fapi%252fv3%252findex.json\">Forgot password?</a>)</p>\r\n\r\n<form action=\"/Account/TraditionalLogin\" method=\"post\"><input id=\"ReturnUrl\" name=\"ReturnUrl\" type=\"hidden\" value=\"/F/d\r\notnet-core/api/v3/index.json\" />            <fieldset>\r\n              <div class=\"control-group\">\r\n                <div class=\"controls\">\r\n                  <div class=\"input-prepend\">\r\n                    <span class=\"add-on\"><i class=\"icon-user\"></i></span>\r\n                    <input data-val=\"true\" data-val-required=\"Please enter your username.\" id=\"Username\" name=\"Username\r\n\" placeholder=\"Username\" type=\"text\" value=\"\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"control-group\">\r\n                <div class=\"controls\">\r\n                  <div class=\"input-prepend\">\r\n                    <span class=\"add-on\"><i class=\"icon-lock\"></i></span>\r\n                    <input data-val=\"true\" data-val-required=\"Please enter your password.\" id=\"Password\" name=\"Password\r\n\" placeholder=\"Password\" type=\"password\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <input type=\"submit\" class=\"btn btn-primary wide\" value=\"Login\" />\r\n            </fieldset>\r\n</form>      </div>\r\n\r\n      <div class=\"well well-inverse\">\r\n        <p>Using an identity provider</p>\r\n        <ul id=\"identityProviders\" class=\"unstyled\">\r\n          <li class=\"hide\"><a href=\"{LoginUrl}\">{Name}</a></li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"span12\">\r\n      <hr />\r\n    </div>\r\n  </div>\r\n</article>\r\n\r\n    <article>\r\n        <div class=\"row\">\r\n            <div class=\"span3\"></div>\r\n            <div class=\"span6 centered\">\r\n                &copy; 2011-2016 <a href=\"/company\">MyGet (TechTomato BVBA)</a><br />\r\n                <a href=\"/\">Home</a>\r\n                | <a href=\"/policies/terms\">Terms of Service</a>\r\n                | <a href=\"/policies/disclaimer\">Disclaimer</a>\r\n                | <a href=\"/policies/privacy\">Privacy</a>\r\n            </div>\r\n            <div class=\"span3\"></div>\r\n        </div>\r\n    </article>\r\n</div>\r\n\r\n\r\n  <script type=\"text/javascript\">\r\n    var providers = [];\r\n    function identityProvidersReceived(data) {\r\n      providers = data;\r\n    }\r\n\r\n    $(function () {\r\n      $(\"input[type='text']:first\").focus();\r\n\r\n      for (var i in providers) {\r\n        var item = $('#identityProviders').find('li:first').clone().removeClass('hide').css('display', 'block');\r\n        var link = item.find('a');\r\n        link.attr('href', providers[i].LoginUrl)\r\n            .attr('title', providers[i].Name)\r\n            .text(providers[i].Name);\r\n        if (providers[i].ImageUrl) {\r\n            link.html('<img src=\"' + providers[i].ImageUrl + '\" alt=\"' + providers[i].Name + '\"/>');\r\n        } else {\r\n            link.html('<img src=\"https://mygetwww-2e16.kxcdn.com/Content/Images/sts/generic-idp.png?c=Mi4yLjAuMzU4\" alt\r\n=\"' + providers[i].Name + '\"/>');\r\n        }\r\n        $('#identityProviders').append(item);\r\n      }\r\n\r\n      $('#identityProviders').css('height', (Math.ceil(providers.length / 6) * 64) + 'px');\r\n    });\r\n  </script>\r\n  <script type=\"text/javascript\" src=\"https://myget-prod.accesscontrol.windows.net:443/v2/metadata/IdentityProviders.js\r\n?protocol=wsfederation&amp;realm=https%3a%2f%2fdotnet.myget.org%2f&amp;reply_to=https%3a%2f%2fdotnet.myget.org%2fAccoun\r\nt%2fLogin%3fReturnUrl%3d%252fF%252fdotnet-core%252fapi%252fv3%252findex.json&amp;version=1.0&amp;callback=identityProvi\r\ndersReceived\"></script>\r\n\r\n</body>\r\n</html>`",
      "created_at": "2016-12-27T09:23:00Z",
      "updated_at": "2016-12-27T09:24:53Z"
    },
    {
      "author": "goyalmohit",
      "author_association": "NONE",
      "body": "This seems to be working this morning. Not sure what's changed. ",
      "created_at": "2016-12-28T06:42:53Z",
      "updated_at": "2016-12-28T06:42:53Z"
    }
  ],
  "created_at": "2016-12-27T09:19:15Z",
  "labels": [
    "Resolution-Won't Fix",
    "Area-Maintainers-Build"
  ],
  "number": 2932,
  "state": "closed",
  "title": "Start-PSBuild failing on windows with The content at 'https://www.myget.org/F/dotnet-core/api/v3/index.json' is not a valid JSON object",
  "updated_at": "2017-03-15T06:02:30Z"
}