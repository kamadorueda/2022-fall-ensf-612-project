{
  "_url": "https://github.com/PowerShell/PowerShell/issues/11455",
  "author": "rkeithhill",
  "body": "<!-- Anything that looks like this is a comment and can't be seen after the Pull Request is created. -->\r\n\r\n# PR Summary\r\n\r\nThis improves the fg/bg contrast of the progress colors which improves readability in various color schemes.  The current colors are particularly poor in the One Half Dark color scheme.  The screenshots below show the before (left) and after (right) for both the Campbell (default) color scheme on top and the One Half Dark color scheme on the bottom:\r\n\r\n![image](https://user-images.githubusercontent.com/5177512/71563181-8ffdac80-2a48-11ea-9c2b-f01f911103fb.png)\r\n\r\n## PR Context\r\n\r\nThis addresses a comment I made on issue #10780, that the progress fg/bg contrast is not great particularly for the One Half Dark color scheme.  FWIW I'm not set on these particular colors. It's just that black on yellow provides good contrast in \"most\" color schemes whereas yellow on dark cyan does not.\r\n\r\nWe could consider using RGB colors to \"fix\" the fg/bg progress colors on hosts that `SupportsVirtualTerminal`.  Using `ConsoleColor` indices is somewhat problematic as you can see above.  That would mean the progress colors might not \"fit\" the current color scheme but OTOH the progress text would have good contrast for better readability. Also, this represents more code change since the current host colors take only ConsoleColors.\r\n\r\n## PR Checklist\r\n\r\n- [x] [PR has a meaningful title](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n    - Use the present tense and imperative mood when describing your changes\r\n- [x] [Summarized changes](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [x] [Make sure all `.h`, `.cpp`, `.cs`, `.ps1` and `.psm1` files have the correct copyright header](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [x] This PR is ready to merge and is not [Work in Progress](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---work-in-progress).\r\n    - If the PR is work in progress, please add the prefix `WIP:` or `[ WIP ]` to the beginning of the title (the `WIP` bot will keep its status check at `Pending` while the prefix is present) and remove the prefix when the PR is ready.\r\n- **[Breaking changes](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#making-breaking-changes)**\r\n    - [x] None\r\n    - **OR**\r\n    - [ ] [Experimental feature(s) needed](https://github.com/MicrosoftDocs/PowerShell-Docs/blob/staging/reference/6/Microsoft.PowerShell.Core/About/about_Experimental_Features.md)\r\n        - [ ] Experimental feature name(s): <!-- Experimental feature name(s) here -->\r\n- **User-facing changes**\r\n    - [x] Not Applicable\r\n    - **OR**\r\n    - [ ] [Documentation needed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n        - [ ] Issue filed: <!-- Number/link of that issue here -->\r\n- **Testing - New and feature**\r\n    - [x] N/A or can only be tested interactively\r\n    - **OR**\r\n    - [ ] [Make sure you've added a new test if existing tests do not effectively test the code changed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#before-submitting)\r\n- **Tooling**\r\n    - [x] I have considered the user experience from a tooling perspective and don't believe tooling will be impacted.\r\n    - **OR**\r\n    - [ ] I have considered the user experience from a tooling perspective and enumerated concerns in the summary. This may include:\r\n        - Impact on [PowerShell Editor Services](https://github.com/PowerShell/PowerShellEditorServices) which is used in the [PowerShell extension](https://github.com/PowerShell/vscode-powershell) for VSCode (which runs in a different PS Host).\r\n        - Impact on Completions (both in the console and in editors) - one of PowerShell's most powerful features.\r\n        - Impact on [PSScriptAnalyzer](https://github.com/PowerShell/PSScriptAnalyzer) (which provides linting & formatting in the editor extensions).\r\n        - Impact on [EditorSyntax](https://github.com/PowerShell/EditorSyntax) (which provides syntax highlighting with in VSCode, GitHub, and many other editors).\r\n",
  "closed_at": "2020-04-03T04:13:42Z",
  "comments": [
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "I believe it is a task exclusively for MSFT usability engineers.",
      "created_at": "2019-12-30T03:19:14Z",
      "updated_at": "2019-12-30T03:19:14Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "This is a UX change. Better let the committee weigh in.",
      "created_at": "2020-03-13T22:01:46Z",
      "updated_at": "2020-03-13T22:01:55Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@PowerShell/powershell-committee reviewed this, ideally the colors should be configurable, but we would not block this PR to make that happen as that is a bigger work item.  We'll follow up with the Accessibility experts to confirm the colors meet requirements but we are open to a change",
      "created_at": "2020-03-18T22:06:49Z",
      "updated_at": "2020-03-18T22:06:49Z"
    },
    {
      "author": "msftbot[bot]",
      "author_association": "NONE",
      "body": ":tada:`v7.1.0-preview.2` has been released which incorporates this pull request.:tada:\n\nHandy links:\n* [Release Notes](https://github.com/PowerShell/PowerShell/releases/tag/v7.1.0-preview.2)\n",
      "created_at": "2020-04-23T18:02:26Z",
      "updated_at": "2020-04-23T18:02:26Z"
    },
    {
      "author": "TylerLeonhardt",
      "author_association": "MEMBER",
      "body": "This made changes to ConsoleHost. Why was the first box checked on affecting tooling?\r\n\r\nAny user-facing change to ConsoleHost affects PSES which is a different host. ",
      "created_at": "2020-04-26T19:29:03Z",
      "updated_at": "2020-04-26T19:30:00Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "> Why was the first box checked on affecting tooling?\r\n\r\nAfter these check boxed was added in PR template I ask how we will do the checks and answer was - manually by owners. So I never set the check boxes. \r\nMake sense to add you to ConsoleHost file owners? Github will automatically add you in reviewer list.",
      "created_at": "2020-04-27T05:25:39Z",
      "updated_at": "2020-04-27T05:25:39Z"
    },
    {
      "author": "TylerLeonhardt",
      "author_association": "MEMBER",
      "body": "> Make sense to add you to ConsoleHost file owners? Github will automatically add you in reviewer list.\r\n\r\nI'm fine with this... but I'll let the maintainers decide.",
      "created_at": "2020-04-27T19:38:07Z",
      "updated_at": "2020-04-27T19:38:07Z"
    }
  ],
  "created_at": "2019-12-29T21:49:04Z",
  "number": 11455,
  "state": "closed",
  "title": "Change progress fg & bg colors to provide better contrast",
  "updated_at": "2020-04-28T04:22:09Z"
}