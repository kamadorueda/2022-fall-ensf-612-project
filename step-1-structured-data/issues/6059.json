{
  "_url": "https://github.com/PowerShell/PowerShell/issues/6059",
  "author": "iSazonov",
  "body": "## PR Summary\r\n\r\nAddress #1267.\r\nFix #6497.\r\n\r\nBased on PowerShell Committee conclusion (see below) and PR Native pipe  #2450 we remove `more` function. Now users is free to use preffered pager directly or create a custom alias.\r\nTo keep current `help` function behavior we move a pager capability (with $env:PAGER support) to the function.\r\n\r\n~~Before the change we had to wait 10 seconds before we could see the script output:~~\r\n~~& { 1..100; sleep -seconds 10; 101..200 } | more~~\r\n~~With this change we will see the output without delay.~~\r\n\r\n~~I have no idea how to test this.~~\r\n\r\n## PR Checklist\r\n\r\nNote: Please mark anything not applicable to this PR `NA`.\r\n\r\n- [x] [PR has a meaningful title](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n    - [x] Use the present tense and imperative mood when describing your changes\r\n- [x] [Summarized changes](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [NA] User facing [Documentation needed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n    - [NA] Issue filed - Issue link:\r\n- [ ] [Change is not breaking](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#making-breaking-changes)\r\n- [ ] [Make sure you've added a new test if existing tests do not effectively test the code changed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#before-submitting)\r\n    - [x] [Add `[feature]` if the change is significant or affects feature tests](https://github.com/PowerShell/PowerShell/blob/master/docs/testing-guidelines/testing-guidelines.md#requesting-additional-tests-for-a-pr)\r\n- [ ] This PR is ready to merge and is not [Work in Progress](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---work-in-progress).\r\n    - If the PR is work in progress, please add the prefix `WIP:` to the beginning of the title and remove the prefix when the PR is ready.\r\n",
  "closed_at": "2018-05-04T16:25:06Z",
  "comments": [
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "Please review. I think I did everything I could. Some Help tests failed - looks as breaking change. Also see `Get-Process | more`.",
      "created_at": "2018-01-30T15:25:13Z",
      "updated_at": "2018-01-30T15:25:13Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@BrucePay Good catch! I think it is best way. Seems we can use an alias for more.com/less.\r\n```powershell\r\nSet-Alias -Name tst -Value \"more.com\"`\r\n& { 1..100; sleep -seconds 10; 101..200 } | tst\r\n```\r\nshow output immediately.\r\nIf it's acceptable I'll close the PR and make a new.",
      "created_at": "2018-03-15T14:16:13Z",
      "updated_at": "2018-03-15T14:16:13Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "Removing `more` function would be a breaking change in that the `more` function takes multiple file path strings separated by comma `,`, while `more.com` and `less` don't.\r\n\r\n```powershell\r\nPS:11> more.com F:\\test.txt, F:\\new.txt\r\nCannot access file F:\\test.txt\r\n```\r\nBesides, the `more` function uses a pager if `env:PAGER` is set. ~~Not sure if this is practically used by anyone though.~~ Apparently this is practically being used :) ",
      "created_at": "2018-03-15T16:15:38Z",
      "updated_at": "2018-03-15T17:19:49Z"
    },
    {
      "author": "rkeithhill",
      "author_association": "COLLABORATOR",
      "body": "I use Pager on Windows in order to use less.  An alias for Pager would be OK  as long as I  can override it and set it to less. ",
      "created_at": "2018-03-15T16:52:02Z",
      "updated_at": "2018-03-15T16:52:02Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "We could create the alias at PowerShell startup and keep current platform specific logic - assign `more.com` on Windows,  `less` on Unix or use `env:PAGER`.",
      "created_at": "2018-03-16T03:25:08Z",
      "updated_at": "2018-03-16T03:25:08Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "Update the PR title to add `[WIP]`.",
      "created_at": "2018-03-19T16:30:27Z",
      "updated_at": "2018-03-19T16:30:27Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@daxian-dbw @SteveL-MSFT \r\nCould you please discuss the breaking change (implement alias for `more` with default `more.com` on Windows and `less` on Unix and given `env: PAGER`) on PowerShell Committee? It seems to be easier than creating auxiliary process with redirects.",
      "created_at": "2018-03-30T13:28:12Z",
      "updated_at": "2018-03-30T13:29:37Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@iSazonov can you be more specific on what you think needs to be discussed by @PowerShell/powershell-committee?  Is it whether we should remove the `more` function altogether?",
      "created_at": "2018-04-01T07:41:53Z",
      "updated_at": "2018-04-01T07:41:53Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@SteveL-MSFT Yes, we could try to remove `more` function - but it is a breaking change as @daxian-dbw said above (` more.com F:\\test.txt, F:\\new.txt` ).",
      "created_at": "2018-04-01T11:09:42Z",
      "updated_at": "2018-04-01T11:09:42Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@PowerShell/powershell-committee discussed this and agrees we should remove the `more` function and move the `$env:PAGER` capability into the `help` function to preserve that experience.  This is a `Breaking Change`, but it seems that this function has outlived its usefulness and we should respect the pager command the user specified (less vs more, etc...)",
      "created_at": "2018-04-25T22:23:53Z",
      "updated_at": "2018-04-25T22:23:53Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "Should we implement an alias for `more` with the $env:PAGER capability?\r\n```powershell\r\nNew-Alias -Name more -Value more.com # for Windows\r\nNew-Alias -Name more -Value less     # for Unix\r\n```",
      "created_at": "2018-04-26T05:10:39Z",
      "updated_at": "2018-04-26T05:10:52Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@iSazonov the discussion in the committee is that `more` should just be `more.com` on Windows which seems to be working and not have issues any more based on the comments in the function (we tested against a nanoserver docker container).  It seemed wrong that users would have to use `more` to get `$env:PAGER` as they should just invoke that specific pager directly.  For tools that require automatic paging (like help), it makes sense to respect $env:PAGER (we couldn't think of any other case outside of `help` function which itself is a separate discussion if we should have that instead of just alias `help` directly to `get-help` and support paging...)",
      "created_at": "2018-04-26T13:29:32Z",
      "updated_at": "2018-04-26T13:29:32Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@daxian-dbw @SteveL-MSFT The PR is ready for review.",
      "created_at": "2018-04-29T14:31:23Z",
      "updated_at": "2018-04-29T14:31:23Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "Add a test for Strict Mode from #6781.",
      "created_at": "2018-05-02T13:10:32Z",
      "updated_at": "2018-05-02T13:10:32Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@rkeithhill Thank you that you caught the lost commits! My mistake was that I did not rebase the old PR.",
      "created_at": "2018-05-05T17:10:29Z",
      "updated_at": "2018-05-05T17:10:29Z"
    }
  ],
  "created_at": "2018-01-29T10:59:28Z",
  "number": 6059,
  "state": "closed",
  "title": "Remove 'more' function and move the $env:PAGER capability into the help function",
  "updated_at": "2018-05-05T17:10:34Z"
}