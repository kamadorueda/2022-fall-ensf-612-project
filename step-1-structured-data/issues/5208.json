{
  "_url": "https://github.com/PowerShell/PowerShell/issues/5208",
  "author": "powercode",
  "body": "Fixes #4181 \r\nAdding a property Duration to HistoryInfo to end the  `{$_.EndExecutionTime - $_.StartExecutionTime}` madness :)\n\n<!-- Reviewable:start -->\n---\nThis change is\u2002[<img src=\"https://reviewable.io/review_button.svg\" height=\"34\" align=\"absmiddle\" alt=\"Reviewable\"/>](https://reviewable.io/reviews/powershell/powershell/5208)\n<!-- Reviewable:end -->\n",
  "closed_at": "2018-08-28T03:03:07Z",
  "comments": [
    {
      "author": "powercode",
      "author_association": "COLLABORATOR",
      "body": "Not really sure what to test. Testing \r\n```csharp\r\npublic TimeSpan Duration => EndExecutionTime - StartExecutionTime; \r\n```\r\n will hardly give a lot. \r\nBut maybe a test that the formatting view is in place?",
      "created_at": "2017-10-27T13:52:28Z",
      "updated_at": "2017-10-27T13:52:28Z"
    },
    {
      "author": "vors",
      "author_association": "COLLABORATOR",
      "body": "> Not really sure what to test\r\n\r\n`GetExecutionTimeString` seems like a good candidate for unit tests",
      "created_at": "2017-10-28T06:06:25Z",
      "updated_at": "2017-10-28T06:06:25Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@powercode Please resolve merge conflicts.",
      "created_at": "2017-11-08T12:53:16Z",
      "updated_at": "2017-11-08T12:53:16Z"
    },
    {
      "author": "powercode",
      "author_association": "COLLABORATOR",
      "body": "@vors You were so right. Added tests and fixed bugs ",
      "created_at": "2017-11-08T18:55:13Z",
      "updated_at": "2017-11-08T18:55:13Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "We're not holding the RC for this PR, if it makes it in soon, great!  If not, it'll catch the next release.",
      "created_at": "2017-11-15T17:49:48Z",
      "updated_at": "2017-11-15T17:49:48Z"
    },
    {
      "author": "mi-hol",
      "author_association": "NONE",
      "body": "@SteveL-MSFT will it merge this time?",
      "created_at": "2017-12-14T19:59:55Z",
      "updated_at": "2017-12-14T19:59:55Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@mi-hol if the maintainer @iSazonov believes there has been sufficient review, he can merge this, but we're limiting code changes we're taking for GA to avoid risk of regression.  This will show up in 6.1.0 preview release which should happen early next year.",
      "created_at": "2017-12-15T00:32:59Z",
      "updated_at": "2017-12-15T00:32:59Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "We have only one open comment about `TimeSeparator`. \r\nI don't see any reason why we won't get it in 6.1.0.",
      "created_at": "2017-12-15T09:23:39Z",
      "updated_at": "2017-12-15T09:23:39Z"
    },
    {
      "author": "powercode",
      "author_association": "COLLABORATOR",
      "body": "I have looked a bit on how PowerShell treats timespans in other cases, and it seems to use the default formatting, which is not culture sensitive.\r\nI think we should stick with consistency here, and keep the implementation as it is.\r\n",
      "created_at": "2018-01-24T22:36:40Z",
      "updated_at": "2018-01-24T22:36:40Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@powercode please resolve conflicts.",
      "created_at": "2018-02-21T16:15:24Z",
      "updated_at": "2018-02-21T16:15:24Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@SteveL-MSFT @daxian-dbw Have you any thoughts about the PR? ",
      "created_at": "2018-02-22T04:56:08Z",
      "updated_at": "2018-02-22T04:56:08Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@TravisEz13 @daxian-dbw Have you any thoughts about `GetDurationString()` vs `ToDurationString()`?",
      "created_at": "2018-02-24T05:55:28Z",
      "updated_at": "2018-02-26T20:38:26Z"
    },
    {
      "author": "TravisEz13",
      "author_association": "MEMBER",
      "body": "`ToDurationString()`seems more appropriate, but I don't find either wrong.",
      "created_at": "2018-02-26T20:40:38Z",
      "updated_at": "2018-02-26T20:40:38Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@SteveL-MSFT Please make conclusion and the public API should be approved by PowerShell Committee.",
      "created_at": "2018-02-27T05:16:34Z",
      "updated_at": "2018-02-27T05:16:34Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@iSazonov Committee meetings are every Wed and we review PRs first so we'll have an answer tomorrow",
      "created_at": "2018-02-27T21:36:54Z",
      "updated_at": "2018-02-27T21:36:54Z"
    },
    {
      "author": "TravisEz13",
      "author_association": "MEMBER",
      "body": "@SteveL-MSFT  what was the committee answer?",
      "created_at": "2018-03-14T01:28:29Z",
      "updated_at": "2018-03-14T01:28:29Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@PowerShell/powershell-committee reviewed this and recommends that `GetDurationString()` is not needed as `[TimeSpan]` has a `ToString()` implementation already which is consistent regardless of the duration which is preferred.  It would have been great to have an example of what the output would look like in the PR description where format/output is involved.",
      "created_at": "2018-03-14T23:04:28Z",
      "updated_at": "2018-03-14T23:04:28Z"
    },
    {
      "author": "stale[bot]",
      "author_association": "NONE",
      "body": "This PR has been automatically marked as stale because it has not had activity in the last 30 days. It will be closed if no further activity occurs within 10 days.\nThank you for your contributions.\nCommunity members are welcome to grab these works.\n",
      "created_at": "2018-04-13T23:35:39Z",
      "updated_at": "2018-04-13T23:35:39Z"
    },
    {
      "author": "powercode",
      "author_association": "COLLABORATOR",
      "body": "It was just an attempt to scale the output to a range that is most commonly used.\r\n\r\nBut I was never sure it was the right thing to do anyways. And it can however easily be added as a formatter by those who so choose.\r\n\r\nFrom the unit tests:\r\n```\r\n        @{duration = \"0:0:21\"; expectedResult = \"00:21.000\"}\r\n        @{duration = \"1:14:21\"; expectedResult = \"01:14:21\"}\r\n        @{duration = \"1.1:14:21\"; expectedResult = \"1.01:14:21\"}\r\n```\r\n\r\nThat is remove the hours from most of the execution times. \r\n\r\nThis may be to opinionated, and based on my usage. I'll remove it after PSConfEU.",
      "created_at": "2018-04-14T20:25:54Z",
      "updated_at": "2018-04-14T20:30:44Z"
    },
    {
      "author": "rkeithhill",
      "author_association": "COLLABORATOR",
      "body": "I'd love to see the property added and yeah, let folks format the TimeSpan differently if they want.  I could even see some wanting \"humanizer\" versions of the duration which they could configure with format data - as you point out.",
      "created_at": "2018-04-14T20:45:35Z",
      "updated_at": "2018-04-14T20:45:35Z"
    },
    {
      "author": "stale[bot]",
      "author_association": "NONE",
      "body": "This PR has been automatically marked as stale because it has not had activity in the last 30 days. It will be closed if no further activity occurs within 10 days.\nThank you for your contributions.\nCommunity members are welcome to grab these works.\n",
      "created_at": "2018-05-14T20:48:07Z",
      "updated_at": "2018-05-14T20:48:07Z"
    },
    {
      "author": "bergmeister",
      "author_association": "CONTRIBUTOR",
      "body": "@powercode Please upstream and resolve merge conflict.",
      "created_at": "2018-06-07T19:29:09Z",
      "updated_at": "2018-06-07T19:29:09Z"
    },
    {
      "author": "powercode",
      "author_association": "COLLABORATOR",
      "body": "These build errors are not related to my changes.\r\n\r\nCan anyone restart the build here?",
      "created_at": "2018-07-04T12:40:48Z",
      "updated_at": "2018-07-04T12:40:48Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "Reopen the PR to restart CIs.",
      "created_at": "2018-07-04T13:32:58Z",
      "updated_at": "2018-07-04T13:32:58Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@powercode Is the PR ready for review?",
      "created_at": "2018-07-17T06:04:08Z",
      "updated_at": "2018-07-17T06:04:08Z"
    },
    {
      "author": "powercode",
      "author_association": "COLLABORATOR",
      "body": "Yes",
      "created_at": "2018-07-18T16:14:23Z",
      "updated_at": "2018-07-18T16:14:23Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@daxian-dbw @SteveL-MSFT @BrucePay Please review the PR.",
      "created_at": "2018-07-19T03:18:40Z",
      "updated_at": "2018-07-19T03:18:40Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@powercode Thank you for the contribution! Sorry for delay.",
      "created_at": "2018-08-28T03:05:32Z",
      "updated_at": "2018-08-28T03:05:32Z"
    }
  ],
  "created_at": "2017-10-24T08:45:17Z",
  "number": 5208,
  "state": "closed",
  "title": "Add Duration property to HistoryInfo",
  "updated_at": "2018-08-28T20:49:07Z"
}