{
  "_url": "https://github.com/PowerShell/PowerShell/issues/3562",
  "author": "iSazonov",
  "body": "Based on discussion https://github.com/PowerShell/PowerShell/pull/3530#pullrequestreview-32760325\r\n\r\nWe want `PSVersion` on first place and the rest sorted alphabetically\r\n\r\n```powershell\r\n>$PSVersionTable\r\n\r\nName                           Value\r\n----                           -----\r\nPSVersion                      6.0.0-alpha\r\nBuildVersion                   3.0.0.0\r\nCLRVersion\r\nGitCommitId                    v6.0.0-alpha.18-12-gacec58c0491019557864189ebf03324e58874d63-dirty\r\nPSCompatibleVersions           {1.0, 2.0, 3.0, 4.0...}\r\nPSEdition                      Core\r\nPSRemotingProtocolVersion      2.3\r\nSerializationVersion           1.1.0.1\r\nWSManStackVersion              3.0\r\n```",
  "closed_at": "2017-05-04T04:33:52Z",
  "comments": [
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "Quoted from @rkeithhill's [comment](https://github.com/PowerShell/PowerShell/pull/3530#discussion_r111768692)\r\n> Consider putting PSVersion and PSEdition in the first and second positions. After that, I don't care much about the order. I suppose alphabetical after the first two would be fine.",
      "created_at": "2017-04-17T18:30:47Z",
      "updated_at": "2017-04-17T18:30:47Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "Ok, tomorrow. ",
      "created_at": "2017-04-17T18:37:38Z",
      "updated_at": "2017-04-17T18:37:38Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "@iSazonov, the implementation will break in 2 cases:\r\n1. there are non-string keys -- string array won't work and sort will fail\r\n2. the keys 'PSEdition' or 'PSVersion' get removed from `$psversiontable` -- possible array indexing failure.\r\n\r\nI pushed a fix to your branch, and need your help to review the code to see if there are other issues.",
      "created_at": "2017-04-21T19:06:28Z",
      "updated_at": "2017-04-21T19:06:28Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "Why we want to allow non-string keys? It seems the keys in `$psversiontable` is NAMEs - other semantics is misguided I believe.",
      "created_at": "2017-04-21T19:40:44Z",
      "updated_at": "2017-04-21T19:40:44Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "And maybe move our logic in custom StringComparer?",
      "created_at": "2017-04-21T19:45:44Z",
      "updated_at": "2017-04-21T19:45:44Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "> Why we want to allow non-string keys? \r\n\r\nWe don't want non-string keys, but user can add any key-value pairs to `$psversiontable`, and can also remove any pairs from it. It shouldn't fail when that happens.",
      "created_at": "2017-04-21T22:21:19Z",
      "updated_at": "2017-04-21T22:21:56Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "If we are faced with the keys of arbitrary type we would use `LanguagePrimitives.ConvertTo`.\r\n\r\nIn last commit I also have tried to move sorting logic to custom Comparer. It looks more simple \ud83d\ude04 If you dont agree feel free to revert.",
      "created_at": "2017-04-24T14:58:23Z",
      "updated_at": "2017-04-24T14:58:23Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "#3654 made changes to `PSVersionInfo.cs`, so I'm afraid you need to rebase and resolve the conflicts.",
      "created_at": "2017-05-02T19:06:45Z",
      "updated_at": "2017-05-02T19:06:45Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@daxian-dbw Conflicts was resolved. Also I moved tests to PSVersionTable.Tests.ps1 file.",
      "created_at": "2017-05-03T05:57:36Z",
      "updated_at": "2017-05-03T05:57:36Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@daxian-dbw Thanks for review and usefull comments!",
      "created_at": "2017-05-04T04:37:30Z",
      "updated_at": "2017-05-04T04:37:30Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "@iSazonov Thanks for the great fix! \ud83d\udc4d ",
      "created_at": "2017-05-04T04:37:51Z",
      "updated_at": "2017-05-04T04:37:51Z"
    }
  ],
  "created_at": "2017-04-14T09:39:01Z",
  "number": 3562,
  "state": "closed",
  "title": "Move PSVersionInfo.PSVersionName to first place",
  "updated_at": "2017-05-11T07:02:52Z"
}