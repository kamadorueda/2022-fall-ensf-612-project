{
  "_url": "https://github.com/PowerShell/PowerShell/issues/2952",
  "author": "Francisco-Gamino",
  "body": "We have enabled the Counter cmdlets for PowerShell on OneCore for Windows. This means that these cmdlets are available Full Desktop with CoreCLR, Nano Server and IoT. However, one of the dependencies, the '$env:windir\\System32\\pdh.dll'  assembly, is not available on IoT. Because of this, when the user tries to use the Counter cmdlets on IoT, they will get a  PlatformNotSupportedException.\r\n\r\nThis PR includes the code change and new test cases to validate that PlatformNotSupportedException is thrown on IoT.",
  "closed_at": "2017-01-06T00:59:32Z",
  "comments": [
    {
      "author": "Francisco-Gamino",
      "author_association": "CONTRIBUTOR",
      "body": "@lzybkr: Thanks for review. In order to run the Export-Counter cmdlet, you need to create a counter (which is not possible on IoT), this is the reason why there is not test for this scenario.\r\nThe command would be something like this: Get-Counter <counterName> | Export-Counter <file path>.",
      "created_at": "2017-01-04T23:58:23Z",
      "updated_at": "2017-01-04T23:58:23Z"
    }
  ],
  "created_at": "2017-01-04T20:34:09Z",
  "number": 2952,
  "state": "closed",
  "title": "Adding PlatformNotSupportedException to Counter cmdlets when running on IoT.",
  "updated_at": "2017-01-06T00:59:32Z"
}