{
  "_url": "https://github.com/PowerShell/PowerShell/issues/4578",
  "author": "mklement0",
  "body": "Note: \r\n\r\n* As demonstrated in https://github.com/PowerShell/PowerShell/issues/4576#issuecomment-322489313, `-`-prefixed barewords are currently only accepted if they happen not to match the name or name prefix of a parameter supported by the command - an inconsistency that is problematic in itself.\r\n\r\n* @markekraus's suggestion is to disallow `-`-prefixed barewords altogether - to always require _quoting_ of values starting with `-`, which would make _this_ issue moot - see https://github.com/PowerShell/PowerShell/issues/4576#issuecomment-322531693\r\n\r\n* I personally think that there's no good reason to disallow them, and that it is sufficient to let the target command's specific syntax disambiguate between values and parameters, not least for consistency with the CLI - see https://github.com/PowerShell/PowerShell/issues/4576#issuecomment-322512447\r\n\r\nIf `-`-prefixed barewords continue to be supported (in principle, bugs notwithstanding), their parsing currently differs from non-`-`-prefixed barewords in significant and unexpected ways:\r\n\r\nSteps to reproduce\r\n------------------\r\n\r\n```powershell\r\nWrite-Output -InputObject a\r\nWrite-Output -InputObject -a\r\nWrite-Output -InputObject -a.ps1\r\nWrite-Output -InputObject -a$HOME\r\nWrite-Output -InputObject a$HOME\r\n```\r\n\r\nExpected behavior\r\n-----------------\r\n\r\n```none\r\na\r\n-a\r\n-a.ps1\r\n-a/home/jdoe\r\na/home/jdoe\r\n```\r\n\r\nActual behavior\r\n---------------\r\n\r\n```none\r\na\r\n-a\r\n# ERROR: '.ps1' was interpreted as a *separate argument*\r\nWrite-Output : A positional parameter cannot be found that accepts argument '.ps1'.   \r\n-a$HOME   # NOT EXPANDED\r\na/home/jdoe\r\n\r\n```\r\n\r\nEnvironment data\r\n----------------\r\n\r\n```powershell\r\nPowerShell Core v6.0.0-beta.5 on macOS 10.12.6\r\nPowerShell Core v6.0.0-beta.5 on Ubuntu 16.04.3 LTS\r\nPowerShell Core v6.0.0-beta.5 on Microsoft Windows 10 Pro (64-bit; v10.0.15063)\r\nWindows PowerShell v5.1.15063.483 on Microsoft Windows 10 Pro (64-bit; v10.0.15063)\r\n```\r\n",
  "closed_at": "2017-08-16T00:04:27Z",
  "comments": [],
  "created_at": "2017-08-15T18:20:12Z",
  "labels": [],
  "number": 4578,
  "state": "closed",
  "title": "Parsing of \"-\"-prefixed barewords in argument mode is broken",
  "updated_at": "2017-08-16T00:04:27Z"
}