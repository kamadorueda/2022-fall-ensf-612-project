{
  "_url": "https://github.com/PowerShell/PowerShell/issues/4323",
  "author": "SteveL-MSFT",
  "body": "[Feature]\r\nSystems running WS2012R2 w/o WMF5 has WinRM with restriction for MaxConcurrentUsers between 1-100\r\n\r\nSo the default needs to be 100 to allow PSCore6 to work w/o requiring WMF5+\r\n\r\nThis is technically a `Breaking Change` as we had explicitly changed the allowed max to Int.MaxValue, but for most users this shouldn't be an issue.\r\n\r\n<!--\r\n\r\nIf you are a PowerShell Team member, please make sure you choose the Reviewer(s) and Assignee for your PR.\r\nIf you are not from the PowerShell Team, you can leave the fields blank and the Maintainers will choose them for you. If you are familiar with the team, feel free to mention some Reviewers yourself.\r\n\r\nFor more information about the roles of Reviewer and Assignee, refer to CONTRIBUTING.md.\r\n\r\n-->\r\n",
  "closed_at": "2017-07-26T17:08:53Z",
  "comments": [
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@TravisEz13 having trouble getting Feature tests to run",
      "created_at": "2017-07-22T07:41:01Z",
      "updated_at": "2017-07-22T07:41:01Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "\r\n> WS2012R2 w/o WMF5 has WinRM with restriction for MaxConcurrentUsers between 1-100\r\n\r\nI never knew that restriction! I tried and I can confirm.\r\nIt's also a very fantastic scenario - to a server should connect more than 100 users by WinRS!\r\n\r\nI believe the fix does not need because the limit (1) can be changed in future, (2) can vary between systems and versions\r\nIf anybody catch the issue he get a standard error message.\r\nSo I believe the best fix is to enhance documentation  https://msdn.microsoft.com/en-us/library/ee309367%28v=vs.85%29.aspx\r\n\r\n",
      "created_at": "2017-07-22T18:43:26Z",
      "updated_at": "2017-07-22T18:43:26Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@SteveL-MSFT\r\n>[Feature]\r\n\r\n\"If in the first line of the last (most recent) _**commit**_ description you add `[Feature]`,  \r\nwe will ensure that we will also run the tests tagged with `Feature`.\"\r\n\r\n\r\n",
      "created_at": "2017-07-22T18:47:35Z",
      "updated_at": "2017-07-22T18:47:35Z"
    },
    {
      "author": "TravisEz13",
      "author_association": "MEMBER",
      "body": "#4304 was causing [Feature] not to work for PRs",
      "created_at": "2017-07-22T22:35:05Z",
      "updated_at": "2017-07-22T22:35:05Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@iSazonov the fix is only needed because any customer (and affects our AppVeyor CI) using WS2012/R2 without WMF5 installed will have this restriction.  This means that by default, if they do `new-pssessionconfigurationfile` and `register-pssessionconfigurationfile` it will return this error.  Unfortunately, we don't expose a way to set this value, they would have to understand WinRM XML configuration to make it work.",
      "created_at": "2017-07-23T03:59:36Z",
      "updated_at": "2017-07-23T03:59:36Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "The 3 failures in implicit remoting will be resolved by #4326",
      "created_at": "2017-07-24T04:06:52Z",
      "updated_at": "2017-07-24T04:06:52Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@SteveL-MSFT Why do we rely on the default value? What if I want 200? I can install WMF5 and get 200, but this fix is blocking me. This error is rised on the server but is sent to the remote user. \r\nThis user does not know the configuration of the remote server, which can also be changed dynamically. If we want to inform the user, we must catch this exception and create our own.",
      "created_at": "2017-07-24T05:19:21Z",
      "updated_at": "2017-07-24T05:19:21Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@iSazonov we need a default as that value is required by WinRM.  I guess the question is whether we want to support downlevel systems w/o WMF5 or not.  Personally, I don't like making PSCore6 dependent on WMF5.  cc @joeyaiello ",
      "created_at": "2017-07-24T16:51:06Z",
      "updated_at": "2017-07-24T16:51:06Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": " I don't like making PSCore6 dependent on WMF5 too.",
      "created_at": "2017-07-25T06:21:59Z",
      "updated_at": "2017-07-25T06:21:59Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "Based on some internal discussion, I think where we ended up is to revert the default as it was changed due to customer impact (100 was too low) and in the cmdlet, if the registration fails, we try again with MaxConcurrentUsers=100.",
      "created_at": "2017-07-25T18:10:02Z",
      "updated_at": "2017-07-25T18:10:02Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@mirichmo @PaulHigin since this is causing our nightly runs to fail, can you prioritize this review higher?  thanks",
      "created_at": "2017-07-25T23:53:20Z",
      "updated_at": "2017-07-25T23:53:20Z"
    }
  ],
  "created_at": "2017-07-22T06:26:52Z",
  "number": 4323,
  "state": "closed",
  "title": "Fix Implicit Remoting test failure on nightly run",
  "updated_at": "2017-07-26T17:50:39Z"
}