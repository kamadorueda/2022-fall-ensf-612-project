{
  "_url": "https://github.com/PowerShell/PowerShell/issues/12185",
  "author": "Romfos",
  "body": "Hi, I'm unable to install **any** module in powershell for nanoserver. I'm constantly receiving message like 'authenticode signature is not valid' for any module that I have tried.\r\n\r\nFor example sql server module:\r\n\r\n## Steps to reproduce\r\n\r\n1. docker pull mcr.microsoft.com/powershell:7.0.0-rc.3-nanoserver-1909\r\n2. docker run -it mcr.microsoft.com/powershell:7.0.0-rc.3-nanoserver-1909\r\n3. Install-Module SqlServer -Scope CurrentUser\r\n\r\n## Work around\r\n\r\nInstall-Module SqlServer -Scope CurrentUser -SkipPublisherCheck\r\n\r\n## Expected behavior\r\n\r\nIt should install the module\r\n\r\n## Actual behavior\r\n\r\n```\r\nWARNING: Win32Helpers: Cannot add type. Compilation errors occurred.\r\nWARNING: Could not find a part of the path 'C:\\Users\\ContainerAdministrator\\AppData\\Local\\Microsoft\\Windows\\PowerShell\\PowerShellGet\\PSRepositories.xml'.\r\n\r\nUntrusted repository\r\nYou are installing the modules from an untrusted repository. If you trust this repository, change its InstallationPolicy value by running the Set-PSRepository cmdlet. Are you sure you\r\nwant to install the modules from 'PSGallery'?\r\n[Y] Yes  [A] Yes to All  [N] No  [L] No to All  [S] Suspend  [?] Help (default is \"N\"): y\r\nInstall-Package: C:\\program files\\powershell\\Modules\\PowerShellGet\\PSModule.psm1:9685\r\nLine |\r\n9685 |  \u2026 talledPackages = PackageManagement\\Install-Package @PSBoundParameters\r\n     |                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n     | The module 'SqlServer' cannot be installed or updated because the authenticode signature of the file 'SqlServer.psd1' is not valid.\r\n```\r\n\r\n## Environment data\r\n> docker info\r\n\r\nClient:\r\n Debug Mode: false\r\n\r\nServer:\r\n Containers: 1\r\n  Running: 1\r\n  Paused: 0\r\n  Stopped: 0\r\n Images: 62\r\n Server Version: 19.03.5\r\n Storage Driver: windowsfilter\r\n  Windows:\r\n Logging Driver: json-file\r\n Plugins:\r\n  Volume: local\r\n  Network: ics internal l2bridge l2tunnel nat null overlay private transparent\r\n  Log: awslogs etwlogs fluentd gcplogs gelf json-file local logentries splunk syslog\r\n Swarm: inactive\r\n Default Isolation: hyperv\r\n Kernel Version: 10.0 18363 (18362.1.amd64fre.19h1_release.190318-1202)\r\n Operating System: Windows 10 Pro Version 1909 (OS Build 18363.693)\r\n OSType: windows\r\n Architecture: x86_64\r\n CPUs: 8\r\n Total Memory: 31.94GiB\r\n Name: PC\r\n ID: LUHD:TDBX:BQT6:JHLX:BAW2:BD6P:EENR:VN4M:IPXI:6HCL:47UY:TPXS\r\n Docker Root Dir: C:\\ProgramData\\Docker\r\n Debug Mode: true\r\n  File Descriptors: -1\r\n  Goroutines: 45\r\n  System Time: 2020-03-08T23:37:44.964186+03:00\r\n  EventsListeners: 1\r\n Registry: https://index.docker.io/v1/\r\n Labels:\r\n Experimental: false\r\n Insecure Registries:\r\n  127.0.0.0/8\r\n Live Restore Enabled: false\r\n Product License: Community Engine\r\n\r\n> $PSVersionTable\r\n\r\nName                           Value\r\n----                           -----\r\nPSVersion                      7.0.0-rc.3\r\nPSEdition                      Core\r\nGitCommitId                    7.0.0-rc.3\r\nOS                             Microsoft Windows 10.0.18363\r\nPlatform                       Win32NT\r\nPSCompatibleVersions           {1.0, 2.0, 3.0, 4.0\u2026}\r\nPSRemotingProtocolVersion      2.3\r\nSerializationVersion           1.1.0.1\r\nWSManStackVersion              3.0\r\n",
  "closed_at": null,
  "comments": [
    {
      "author": "TravisEz13",
      "author_association": "MEMBER",
      "body": "I suspect this is a PowerShellGet issue with nanoserver.  cc @alerickson",
      "created_at": "2020-03-08T23:27:35Z",
      "updated_at": "2020-03-23T20:49:57Z"
    }
  ],
  "created_at": "2020-03-08T20:39:25Z",
  "number": 12185,
  "state": "open",
  "title": "Impossible to install any powershell module in powershell:7.0.0-rc.3-nanoserver",
  "updated_at": "2020-03-25T20:39:16Z"
}