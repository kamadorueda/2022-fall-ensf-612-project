{
  "_url": "https://github.com/PowerShell/PowerShell/issues/2671",
  "author": "mirichmo",
  "body": "Fixes #1193 for most scenarios. The remaining scenario to be addressed is the Nano Server bring-up scenario. To continue supporting that scenario, I left the Install-PowerShellRemoting script in place.\r\n\r\nThis change \r\n1. Ports Enable-PSRemoting and Disable-PSRemoting to PowerShell Core\r\n2. Adds side-by-side PowerShell Core remoting support to the PSSessionConfiguration cmdlets and PSRemoting cmdlets.\r\n3. Ports PSSessionConfiguration tests\r\n\r\nThis change also introduces a behavioral difference. The PSRemoting and PSSessionConfiguration cmdlets are now context-sensitive and only work for endpoints that match the PowerShell type. For example, Get-PSSessionConfiguration, when run in PowerShell Core, will only return PowerShell Core WinRM endpoints. It will only modify PowerShell Core WinRM endpoints and cannot be used to configure Windows PowerShell endpoints.",
  "closed_at": "2017-08-08T16:36:23Z",
  "comments": [
    {
      "author": "chunqingchen",
      "author_association": "CONTRIBUTOR",
      "body": "Can you please resolve the conflict?",
      "created_at": "2017-01-11T01:13:01Z",
      "updated_at": "2017-01-11T01:13:01Z"
    },
    {
      "author": "mirichmo",
      "author_association": "MEMBER",
      "body": "At some point. I'm trying to find time to resolve the test failures.",
      "created_at": "2017-01-11T01:19:55Z",
      "updated_at": "2017-01-11T01:19:55Z"
    },
    {
      "author": "chunqingchen",
      "author_association": "CONTRIBUTOR",
      "body": "cool !",
      "created_at": "2017-01-11T01:21:26Z",
      "updated_at": "2017-01-11T01:21:26Z"
    },
    {
      "author": "PaulHigin",
      "author_association": "COLLABORATOR",
      "body": "@mirichmo I am not sure how I missed this being assigned to me as a reviewer.  But I will review it today.",
      "created_at": "2017-07-20T16:13:10Z",
      "updated_at": "2017-07-20T16:13:10Z"
    },
    {
      "author": "mirichmo",
      "author_association": "MEMBER",
      "body": "The tests aren't passing yet so it still needs some work. You are always welcome to take a look though",
      "created_at": "2017-07-20T16:36:08Z",
      "updated_at": "2017-07-20T16:36:08Z"
    },
    {
      "author": "PaulHigin",
      "author_association": "COLLABORATOR",
      "body": "@mirichmo I went through the code changes and made some minor changes in my fork.  I also made some fixes in the test file.  Overall I think this looks good and is the right way to implement WinRM based remoting enabling and endpoint management.  Please see the patch file I sent you offline that has my minor changes.",
      "created_at": "2017-07-24T20:01:48Z",
      "updated_at": "2017-07-24T20:01:48Z"
    },
    {
      "author": "mirichmo",
      "author_association": "MEMBER",
      "body": "The tests have passed again. Can you guys please take another look?",
      "created_at": "2017-07-27T22:17:36Z",
      "updated_at": "2017-07-27T22:17:36Z"
    },
    {
      "author": "mirichmo",
      "author_association": "MEMBER",
      "body": "This is dependent upon #4502. Without the updated TPA list, New-PSSession requests to the endpoint fail with this error:\r\n```powershell\r\nNew-PSSession : AuthorizationManager check failed.\r\nAt line:1 char:7\r\n+ $sn = New-PSSession . -ConfigurationName $TestSessionConfigName -Erro ...\r\n+       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    + CategoryInfo          : OpenError: (System.Manageme....RemoteRunspace:RemoteRunspace) [New-PSSession], RemoteException\r\n    + FullyQualifiedErrorId : PSSessionOpenFailed\r\n```\r\n",
      "created_at": "2017-08-04T19:36:08Z",
      "updated_at": "2017-08-04T19:36:08Z"
    },
    {
      "author": "mirichmo",
      "author_association": "MEMBER",
      "body": "Once #4502 gets merged, this will be ready for merge",
      "created_at": "2017-08-05T00:27:42Z",
      "updated_at": "2017-08-05T00:27:42Z"
    },
    {
      "author": "mirichmo",
      "author_association": "MEMBER",
      "body": "I triggered a new test run now that pwrshplugin.dll has been fixed.",
      "created_at": "2017-08-07T16:51:49Z",
      "updated_at": "2017-08-07T16:51:49Z"
    },
    {
      "author": "mirichmo",
      "author_association": "MEMBER",
      "body": "@daxian-dbw This is ready for merge now.",
      "created_at": "2017-08-07T21:24:58Z",
      "updated_at": "2017-08-07T21:24:58Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": ">This change also introduces a behavioral difference\r\n\r\nIt seems we need update docs - should we set the label?",
      "created_at": "2017-08-09T04:58:20Z",
      "updated_at": "2017-08-09T04:59:24Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "@iSazonov good point. I added the label to both this PR and the issue.",
      "created_at": "2017-08-09T16:20:52Z",
      "updated_at": "2017-08-09T16:20:52Z"
    }
  ],
  "created_at": "2016-11-12T01:02:35Z",
  "number": 2671,
  "state": "closed",
  "title": "Porting Enable-PSRemoting and its Tests",
  "updated_at": "2018-10-15T21:56:02Z"
}