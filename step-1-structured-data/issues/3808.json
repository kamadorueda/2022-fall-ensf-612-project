{
  "_url": "https://github.com/PowerShell/PowerShell/issues/3808",
  "author": "mklement0",
  "body": "Fix #3706\r\n\r\n<!--\r\n\r\nIf you are a PowerShell Team member, please make sure you choose the Reviewer(s) and Assignee for your PR.\r\nIf you are not from the PowerShell Team, you can leave the fields blank and the Maintainers will choose them for you. If you are familiar with the team, feel free to mention some Reviewers yourself.\r\n\r\nFor more information about the roles of Reviewer and Assignee, refer to CONTRIBUTING.md.\r\n\r\n-->\r\n",
  "closed_at": "2017-09-01T20:01:44Z",
  "comments": [
    {
      "author": "msftclas",
      "author_association": "NONE",
      "body": "\r\n@mklement0,\nThanks for having already signed the Contribution License Agreement. Your agreement was validated by Microsoft. We will now review your pull request.\n_Thanks,\nMicrosoft Pull Request Bot_",
      "created_at": "2017-05-18T04:55:25Z",
      "updated_at": "2017-05-18T04:55:25Z"
    },
    {
      "author": "mklement0",
      "author_association": "CONTRIBUTOR",
      "body": "@iSazonov Thanks for catching the `-tail` issue - oddly, the tests pass on _macOS_ (which is where I ran them before submitting the PR). I'll look into it.",
      "created_at": "2017-05-18T16:56:56Z",
      "updated_at": "2017-05-18T16:56:56Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "I believe the problem is in platform difference of Newline.",
      "created_at": "2017-05-18T18:31:21Z",
      "updated_at": "2017-05-18T18:31:21Z"
    },
    {
      "author": "mirichmo",
      "author_association": "MEMBER",
      "body": "@adityapatwardhan I don't see any more outstanding comments. Do you have any additional concerns?",
      "created_at": "2017-06-06T15:30:04Z",
      "updated_at": "2017-06-06T15:30:04Z"
    },
    {
      "author": "mirichmo",
      "author_association": "MEMBER",
      "body": "@mklement0 Please address the failing test:\r\n\r\n [-] should Get-Content with a variety of -Tail and -ReadCount values 68ms\r\n   Expected: {2}\r\n   But was:  {3}\r\n   at line: 104 in C:\\projects\\powershell\\test\\powershell\\Modules\\Microsoft.PowerShell.Management\\Get-Content.Tests.ps1\r\n   104:     $result.Length    | Should Be 2",
      "created_at": "2017-06-06T18:35:22Z",
      "updated_at": "2017-06-06T18:35:22Z"
    },
    {
      "author": "mklement0",
      "author_association": "CONTRIBUTOR",
      "body": "@mirichmo: I'll take a look soon. In the meantime, if you have a high-level pointer as to how the platform-specific newline sequence might come into play here (it works in the Unix world, but not on Windows), please let me know.",
      "created_at": "2017-06-07T01:58:20Z",
      "updated_at": "2017-06-07T01:58:20Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@mklement0 Test failed for `-Tail` parameter. If we use the parameter we call `ReadDelimited()` twice - (1) to seek start position - backward read, (2) read forward from the start position and parse the file. In the case we can not simply remove the delimiter character from the stream because we use it in SeekItemsBackward() to correct start position. It seems there is still problem places - leave the research to you \ud83d\ude04  Please continue the PR.\r\n\r\nAlso I see the code is not optimal and we should refactor this in another PR.",
      "created_at": "2017-08-24T15:24:25Z",
      "updated_at": "2017-08-24T15:25:05Z"
    },
    {
      "author": "mklement0",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks for the tips, @iSazonov.\r\nI hope to get to this soon (I know, deja vu).",
      "created_at": "2017-08-26T03:07:05Z",
      "updated_at": "2017-08-26T03:07:05Z"
    },
    {
      "author": "mklement0",
      "author_association": "CONTRIBUTOR",
      "body": "Note that the only changes to `Get-Content.Tests.ps1` since the original commit were whitespace normalization (conversion to all-spaces, though I now realize that there are some inconsistencies).\r\n\r\nThanks to @iSazonov  for pointing me to what I hope is the right fix, which turned out to be simple in the end.\r\n",
      "created_at": "2017-08-30T20:16:36Z",
      "updated_at": "2017-08-30T20:16:36Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@mklement0 Could you please split functional and formatting changes to two commits? This will help us avoid error skipping.\r\nUse soft reset, then  git add -p.",
      "created_at": "2017-08-31T05:30:39Z",
      "updated_at": "2017-08-31T05:30:39Z"
    },
    {
      "author": "mklement0",
      "author_association": "CONTRIBUTOR",
      "body": "@iSazonov: I've made the changes and split them into 2 commits (functional vs. formatting) that replaced the earlier ones. \r\n\r\nI think the Travis CI failure is a transient one, unrelated to my changes (it got stuck while setting up the environment). \r\n\r\nIs there a way to re-initiate the test?",
      "created_at": "2017-08-31T20:58:48Z",
      "updated_at": "2017-08-31T20:58:48Z"
    },
    {
      "author": "SteveL-MSFT",
      "author_association": "MEMBER",
      "body": "@mklement0 I restarted that job for you",
      "created_at": "2017-08-31T21:38:43Z",
      "updated_at": "2017-08-31T21:38:43Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@mklement0 Tip: You can \"rename\" last commit to restart CI jobs.",
      "created_at": "2017-09-01T17:59:11Z",
      "updated_at": "2017-09-01T17:59:25Z"
    },
    {
      "author": "mklement0",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks, @iSazonov, but how do you rename a commit? Amend the commit message and push again?",
      "created_at": "2017-09-01T18:01:29Z",
      "updated_at": "2017-09-01T18:01:29Z"
    },
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "Thanks all! Since we got 2 approvals and @iSazonov's comments are also addressed, I will rebase and merge this PR soon (in about one hour). Please let me know if there are any concerns.",
      "created_at": "2017-09-01T18:49:55Z",
      "updated_at": "2017-09-01T18:49:55Z"
    },
    {
      "author": "iSazonov",
      "author_association": "COLLABORATOR",
      "body": "@mklement0 Yes, you can amend or rebase+reword.",
      "created_at": "2017-09-02T16:45:55Z",
      "updated_at": "2017-09-02T16:45:55Z"
    }
  ],
  "created_at": "2017-05-18T04:55:21Z",
  "number": 3808,
  "state": "closed",
  "title": "Fix 'Get-Content -Delimiter' to not include the delimiter in the returned lines",
  "updated_at": "2017-09-02T16:45:56Z"
}