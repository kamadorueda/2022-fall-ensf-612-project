{
  "_url": "https://github.com/PowerShell/PowerShell/issues/7086",
  "author": "bergmeister",
  "body": "## PR Summary\r\n\r\nCloses #6317\r\nUsing the preview side-by-side with the RTM version is a pain/confusing due to the icons being the same.\r\nThis makes the preview build (i.e. the embedded icon in `pwsh.exe`) and MSI installer package (shortcut icon and context menu) use the [Powershell_av_colors icon](https://raw.githubusercontent.com/PowerShell/PowerShell/master/assets/Powershell_av_colors.ico)\r\n![image](https://user-images.githubusercontent.com/9250262/41491336-6e354936-70f0-11e8-965e-9b5e83be925b.png)\r\n\r\nTherefore change the icon of the daily build (which used to use the Powershell_av_colors icon) to [Powershell_avatar](https://raw.githubusercontent.com/PowerShell/PowerShell/master/assets/Powershell_avatar.ico)\r\n![image](https://user-images.githubusercontent.com/9250262/41491346-80f890a0-70f0-11e8-9ab5-bb789454c134.png)\r\nThis means that people like me who have a shortcut to pwsh of the daily build pinned to the taskbar, probably need to re-pin it to the taskbar to receive all changes (otherwise one will only get the change in the icon of the window)\r\n\r\nNote: The `Test-IsPreview` method had to be moved to the build module, which is OK because the packaging module has a declared dependency on the build module in its manifest.\r\n\r\n## PR Checklist\r\n\r\n- [x] [PR has a meaningful title](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n    - Use the present tense and imperative mood when describing your changes\r\n- [x] [Summarized changes](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [x] [Change is not breaking](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#making-breaking-changes)\r\n- [x] [Make sure all `.h`, `.cpp`, `.cs`, `.ps1` and `.psm1` files have the correct copyright header](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n- [x] This PR is ready to merge and is not [Work in Progress](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---work-in-progress).\r\n    - If the PR is work in progress, please add the prefix `WIP:` to the beginning of the title and remove the prefix when the PR is ready.\r\n- **User-facing changes**\r\n    - [x] Not Applicable\r\n    - **OR**\r\n    - [ ] User-facing [Documentation needed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#pull-request---submission)\r\n        - [ ] Issue filed - Issue link:\r\n- **Testing - New and feature**\r\n    - [x] Not Applicable or can only be tested interactively\r\n    - **OR**\r\n    - [ ] [Make sure you've added a new test if existing tests do not effectively test the code changed](https://github.com/PowerShell/PowerShell/blob/master/.github/CONTRIBUTING.md#before-submitting)\r\n        - [ ] [Add `[feature]` if the change is significant or affects feature tests](https://github.com/PowerShell/PowerShell/blob/master/docs/testing-guidelines/testing-guidelines.md#requesting-additional-tests-for-a-pr)\r\n",
  "closed_at": "2018-06-18T22:54:12Z",
  "comments": [
    {
      "author": "bergmeister",
      "author_association": "CONTRIBUTOR",
      "body": "~~When testing it locally, I found that everything (pwsh.exe, context menu, taskbar menu) worked, except for the StartMenu shortcut  that I still need to look into (maybe this was more of a persistency issue)~~  --> It turned out this was a problem of the uninstaller not removing the start menu entry shortcut, we have seen this sometimes, see #2881. But otherwise it works fine on a clean install.",
      "created_at": "2018-06-15T22:13:48Z",
      "updated_at": "2018-06-15T22:41:44Z"
    },
    {
      "author": "bergmeister",
      "author_association": "CONTRIBUTOR",
      "body": "@TravisEz13 The PR is now fully ready for review, I just had to test the `AppVeyor` artifacts on a clean VM (locally I had some left-overs and it seems that the Windows search history when typing `[Windows key] PowerShell` it shows the old icon on my system where a previous version was already installed, but when following the shortcut, the shortcut is correct, therefore this is just an OS issue of the Windows search history caching since that does not happen on a system that never had a preview installed).",
      "created_at": "2018-06-15T22:42:46Z",
      "updated_at": "2018-06-16T07:26:56Z"
    }
  ],
  "created_at": "2018-06-15T22:08:13Z",
  "number": 7086,
  "state": "closed",
  "title": "Disambiguate icon on Windows for preview builds/installers to use Powershell_av_colors and make daily build use Powershell_avatar instead",
  "updated_at": "2018-06-18T22:54:12Z"
}