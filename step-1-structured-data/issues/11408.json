{
  "_url": "https://github.com/PowerShell/PowerShell/issues/11408",
  "author": "CyberSecOps",
  "body": "![Error](https://user-images.githubusercontent.com/10306855/71215660-470f6080-22b0-11ea-9d8e-2b90e5e22a81.png)\r\nAfter running Start-PSBuild I get the following:\r\n\r\nRun dotnet restore D:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\src\\powershell-win-core --runtime win7-x64 /property:SDKToUse=Microsoft.NET.Sdk.WindowsDesktop --verbosity quiet\r\nD:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\PowerShell.Common.props(17,5): error MSB3073: The command \"git describe --abbrev=60 --long\" exited with code 128. [D:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\src\\Microsoft.PowerShell.ConsoleHost\\Microsoft.PowerShell.ConsoleHost.csproj]\r\nD:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\PowerShell.Common.props(17,5): error MSB3073: The command \"git describe --abbrev=60 --long\" exited with code 128. [D:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\src\\Microsoft.WSMan.Management\\Microsoft.WSMan.Management.csproj]\r\nD:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\PowerShell.Common.props(17,5): error MSB3073: The command \"git describe --abbrev=60 --long\" exited with code 128. [D:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\src\\Microsoft.PowerShell.Security\\Microsoft.PowerShell.Security.csproj]\r\nD:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\PowerShell.Common.props(17,5): error MSB3073: The command \"git describe --abbrev=60 --long\" exited with code 128. [D:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\src\\Microsoft.PowerShell.Commands.Diagnostics\\Microsoft.PowerShell.Commands.Diagnostics.csproj]\r\nD:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\PowerShell.Common.props(17,5): error MSB3073: The command \"git describe --abbrev=60 --long\" exited with code 128. [D:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\src\\Microsoft.Management.Infrastructure.CimCmdlets\\Microsoft.Management.Infrastructure.CimCmdlets.csproj]\r\nD:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\PowerShell.Common.props(17,5): error MSB3073: The command \"git describe --abbrev=60 --long\" exited with code 128. [D:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\src\\Microsoft.PowerShell.SDK\\Microsoft.PowerShell.SDK.csproj]\r\nD:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\PowerShell.Common.props(17,5): error MSB3073: The command \"git describe --abbrev=60 --long\" exited with code 128. [D:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\src\\Microsoft.PowerShell.Commands.Utility\\Microsoft.PowerShell.Commands.Utility.csproj]\r\nD:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\PowerShell.Common.props(17,5): error MSB3073: The command \"git describe --abbrev=60 --long\" exited with code 128. [D:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\src\\System.Management.Automation\\System.Management.Automation.csproj]\r\nD:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\PowerShell.Common.props(17,5): error MSB3073: The command \"git describe --abbrev=60 --long\" exited with code 128. [D:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\src\\Microsoft.WSMan.Runtime\\Microsoft.WSMan.Runtime.csproj]\r\nD:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\PowerShell.Common.props(17,5): error MSB3073: The command \"git describe --abbrev=60 --long\" exited with code 128. [D:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\src\\Microsoft.PowerShell.MarkdownRender\\Microsoft.PowerShell.MarkdownRender.csproj]\r\nD:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\PowerShell.Common.props(17,5): error MSB3073: The command \"git describe --abbrev=60 --long\" exited with code 128. [D:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\src\\Microsoft.PowerShell.Commands.Management\\Microsoft.PowerShell.Commands.Management.csproj]\r\nD:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\PowerShell.Common.props(17,5): error MSB3073: The command \"git describe --abbrev=60 --long\" exited with code 128. [D:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\src\\Microsoft.PowerShell.CoreCLR.Eventing\\Microsoft.PowerShell.CoreCLR.Eventing.csproj]\r\nD:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\PowerShell.Common.props(17,5): error MSB3073: The command \"git describe --abbrev=60 --long\" exited with code 128. [D:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\src\\powershell-win-core\\powershell-win-core.csproj]\r\n\r\nAfter a few retries, I just get the error: \r\n\r\nExecution of { dotnet restore $project $RestoreArguments } by build.psm1: line 570 failed with exit code 1\r\nAt D:\\Downloads\\AZSentinel\\Pre-Reqs\\PowerShell-master\\build.psm1:2065 char:17\r\n+                 throw $errorMessage\r\n+                 ~~~~~~~~~~~~~~~~~~~\r\n    + CategoryInfo          : OperationStopped: (Execution of { ...ith exit code 1:String) [], RuntimeException\r\n    + FullyQualifiedErrorId : Execution of { dotnet restore $project $RestoreArguments } by build.psm1: line 570 failed with exit code 1\r\n\r\nI'm not sure what I'm doing wrong.....",
  "closed_at": "2020-02-02T00:00:36Z",
  "comments": [
    {
      "author": "vexx32",
      "author_association": "COLLABORATOR",
      "body": "Couple things to try. First, make sure your copy of the repo is up to date (`git fetch; git status`) -- you may want to make sure you also have the latest commits from upstream if your main remote is a fork (as it often is) -- `git pull upstream master` can do that if you need that (substitute the name of your upstream remote if needed).\r\n\r\nSecond, always try with `Start-PSBuild -Clean` _first_. Do a clean build anytime you pull new commits in from upstream, and/or any other time you find yourself running into issues. After a clean build, you can do regular builds as needed, but a -Clean build is always required first, as it generates some necessary files.\r\n\r\nLet us know how that goes, and we'll see what more needs to happen here. \ud83d\ude42 ",
      "created_at": "2019-12-19T23:00:33Z",
      "updated_at": "2019-12-19T23:00:33Z"
    },
    {
      "author": "msftbot[bot]",
      "author_association": "NONE",
      "body": "This issue has been marked as answered and has not had any activity for **1 day**. It has been closed for housekeeping purposes.",
      "created_at": "2020-02-02T00:00:35Z",
      "updated_at": "2020-02-02T00:00:35Z"
    }
  ],
  "created_at": "2019-12-19T22:40:12Z",
  "number": 11408,
  "state": "closed",
  "title": "Execution of { dotnet restore $project $RestoreArguments } by build.psm1: line 570 failed with exit code 1",
  "updated_at": "2020-02-02T00:00:36Z"
}