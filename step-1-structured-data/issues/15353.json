{
  "_url": "https://github.com/PowerShell/PowerShell/issues/15353",
  "author": "davidBar-On",
  "body": "## Steps to reproduce\r\n\r\nUnder WSL2 Ubuntu or Windows install PS for build per the [instructions for Linux](https://github.com/PowerShell/PowerShell/blob/master/docs/building/linux.md).  After successful `Start-PSBuild`, run:\r\n```powershell\r\nStart-PSPester ./test/powershell/engine/Help/HelpSystem.Tests.ps1\r\n```\r\n\r\n## Expected behavior\r\n\r\nSuccessful tests.\r\n\r\n## Actual behavior\r\nFrom WSL:\r\n\r\nPS crashes because of [this assertion checking for empty GUID](https://github.com/PowerShell/PowerShell/blob/a95b2cb17fecc8640533420b3baa9aec0f3749cb/src/System.Management.Automation/help/UpdatableHelpModuleInfo.cs#L31) (00000000-0000-0000-0000-000000000000):\r\n```none\r\nProcess terminated. Assertion failed.\r\n   at System.Management.Automation.Help.UpdatableHelpModuleInfo..ctor(String name, Guid guid, String path, String uri) in /home/dbo/Tools/PowerShell/src/System.Management.Automation/help/UpdatableHelpModuleInfo.cs:line 31\r\n   at Microsoft.PowerShell.Commands.UpdatableHelpCommandBase.GetModuleInfo(ExecutionContext context, String pattern, ModuleSpecification fullyQualifiedName, Boolean noErrors) in /home/dbo/Tools/PowerShell/src/System.Management.Automation/help/UpdatableHelpCommandBase.cs:line 338\r\n   at Microsoft.PowerShell.Commands.UpdatableHelpCommandBase.GetModuleInfo(String pattern, ModuleSpecification fullyQualifiedName, Boolean noErrors) in /home/dbo/Tools/PowerShell/src/System.Management.Automation/help/UpdatableHelpCommandBase.cs:line 617\r\n   at Microsoft.PowerShell.Commands.UpdatableHelpCommandBase.ProcessModuleWithGlobbing(String name) in /home/dbo/Tools/PowerShell/src/System.Management.Automation/help/UpdatableHelpCommandBase.cs:line 474\r\n   at Microsoft.PowerShell.Commands.UpdatableHelpCommandBase.Process(IEnumerable`1 moduleNames, IEnumerable`1 fullyQualifiedNames) in /home/dbo/Tools/PowerShell/src/System\r\n.......\r\n```\r\n\r\nThe problem happened in [HelpSystem.Tests.ps1](https://github.com/PowerShell/PowerShell/blob/a95b2cb17fecc8640533420b3baa9aec0f3749cb/test/powershell/engine/Help/HelpSystem.Tests.ps1#L32) that executed:\r\n```powershell\r\nUpdate-Help -Module Microsoft.PowerShell.Core -SourcePath .../test/powershell/engine/Help/assets -Force -ErrorAction Stop -Scope CurrentUser\r\n```\r\n\r\nFollowing is the list of files in `test/powershell/engine/Help/assets` folder, which includes `Microsoft.PowerShell.Core_00000000-0000-0000-0000-000000000000...` files:\r\n```None\r\nCimCmdlets_fb6cc51d-c096-4b38-b78d-0fed6277096a_en-US_HelpContent.cab\r\nHelpURI\r\nMicrosoft.PowerShell.Archive_eb74e8da-9ae2-482a-a648-e96550fb8733_HelpInfo.xml\r\nMicrosoft.PowerShell.Archive_eb74e8da-9ae2-482a-a648-e96550fb8733_en-US_HelpContent.cab\r\nMicrosoft.PowerShell.Archive_eb74e8da-9ae2-482a-a648-e96550fb8733_en-US_HelpContent.zip\r\nMicrosoft.PowerShell.Core_00000000-0000-0000-0000-000000000000_HelpInfo.xml\r\nMicrosoft.PowerShell.Core_00000000-0000-0000-0000-000000000000_en-US_HelpContent.cab\r\nMicrosoft.PowerShell.Core_00000000-0000-0000-0000-000000000000_en-US_HelpContent.zip\r\nMicrosoft.PowerShell.Diagnostics_ca046f10-ca64-4740-8ff9-2565dba61a4f_HelpInfo.xml\r\nMicrosoft.PowerShell.Diagnostics_ca046f10-ca64-4740-8ff9-2565dba61a4f_en-US_helpcontent.cab\r\nMicrosoft.PowerShell.Diagnostics_ca046f10-ca64-4740-8ff9-2565dba61a4f_en-US_helpcontent.zip\r\nMicrosoft.PowerShell.Host_56d66100-99a0-4ffc-a12d-eee9a6718aef_HelpInfo.xml\r\nMicrosoft.PowerShell.Host_56d66100-99a0-4ffc-a12d-eee9a6718aef_en-US_helpcontent.cab\r\nMicrosoft.PowerShell.Host_56d66100-99a0-4ffc-a12d-eee9a6718aef_en-US_helpcontent.zip\r\nMicrosoft.PowerShell.LocalAccounts_8e362604-2c0b-448f-a414-a6a690a644e2_HelpInfo.xml\r\nMicrosoft.PowerShell.LocalAccounts_8e362604-2c0b-448f-a414-a6a690a644e2_en-US_HelpContent.cab\r\nMicrosoft.PowerShell.Management_eefcb906-b326-4e99-9f54-8b4bb6ef3c6d_HelpInfo.xml\r\nMicrosoft.PowerShell.Management_eefcb906-b326-4e99-9f54-8b4bb6ef3c6d_en-US_helpcontent.cab\r\nMicrosoft.PowerShell.Management_eefcb906-b326-4e99-9f54-8b4bb6ef3c6d_en-US_helpcontent.zip\r\nMicrosoft.PowerShell.Security_A94C8C7E-9810-47C0-B8AF-65089C13A35A_HelpInfo.xml\r\nMicrosoft.PowerShell.Security_A94C8C7E-9810-47C0-B8AF-65089C13A35A_en-US_HelpContent.cab\r\nMicrosoft.PowerShell.Security_a94c8c7e-9810-47c0-b8af-65089c13a35a_en-US_helpcontent.zip\r\nMicrosoft.PowerShell.Utility_1da87e53-152b-403e-98dc-74d7b4d63d59_HelpInfo.xml\r\nMicrosoft.PowerShell.Utility_1da87e53-152b-403e-98dc-74d7b4d63d59_en-US_helpcontent.cab\r\nMicrosoft.PowerShell.Utility_1da87e53-152b-403e-98dc-74d7b4d63d59_en-US_helpcontent.zip\r\nMicrosoft.WSMan.Management_766204A6-330E-4263-A7AB-46C87AFC366C_HelpInfo.xml\r\nMicrosoft.WSMan.Management_766204A6-330E-4263-A7AB-46C87AFC366C_en-US_HelpContent.cab\r\nMicrosoft.WsMan.Management_766204A6-330E-4263-A7AB-46C87AFC366C_en-US_helpcontent.zip\r\nPackageManagement_4ae9fd46-338a-459c-8186-07f910774cb8_HelpInfo.xml\r\nPackageManagement_4ae9fd46-338a-459c-8186-07f910774cb8_en-US_helpcontent.cab\r\nPackageManagement_4ae9fd46-338a-459c-8186-07f910774cb8_en-US_helpcontent.zip\r\nPowershellGet_1d73a601-4a6c-43c5-ba3f-619b18bbb404_HelpInfo.xml\r\nPowershellGet_1d73a601-4a6c-43c5-ba3f-619b18bbb404_en-US_helpcontent.cab\r\nPowershellGet_1d73a601-4a6c-43c5-ba3f-619b18bbb404_en-US_helpcontent.zip\r\n```\r\n\r\n## Environment data\r\n\r\n<!-- provide the output of $PSVersionTable -->\r\n\r\n```none\r\nName                           Value\r\n----                           -----\r\nPSVersion                      7.1.3\r\nPSEdition                      Core\r\nGitCommitId                    7.1.3\r\nOS                             Linux 5.4.72-microsoft-standard-WSL2 #1 SMP Wed Oct 28 23:40:43 UTC 2020\r\nPlatform                       Unix\r\nPSCompatibleVersions           {1.0, 2.0, 3.0, 4.0\u2026}\r\nPSRemotingProtocolVersion      2.3\r\nSerializationVersion           1.1.0.1\r\nWSManStackVersion              3.0\r\n\r\n```\r\n",
  "closed_at": null,
  "comments": [
    {
      "author": "daxian-dbw",
      "author_association": "MEMBER",
      "body": "@adityapatwardhan Can you please take a look?",
      "created_at": "2021-05-05T20:47:18Z",
      "updated_at": "2021-05-05T20:47:18Z"
    },
    {
      "author": "davidBar-On",
      "author_association": "CONTRIBUTOR",
      "body": "Found the root cause.  Submitted PR #15551 with a suggested change.",
      "created_at": "2021-06-09T12:00:57Z",
      "updated_at": "2021-06-09T12:00:57Z"
    }
  ],
  "created_at": "2021-05-05T15:02:49Z",
  "number": 15353,
  "state": "open",
  "title": "Testing `HelpSystem.Tests.ps1` fails using local built PS because of Empty GUID",
  "updated_at": "2021-06-09T12:00:57Z"
}